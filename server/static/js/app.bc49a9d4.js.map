{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/game/shapes/text.ts","webpack:///./src/game/ui/selection/selection_info.vue?cd1b","webpack:///./src/game/ui/selection/shapecontext.vue","webpack:///./src/App.vue?5b85","webpack:///./src/core/components/modals/prompt.vue?d33d","webpack:///./src/core/components/colorpicker.vue?4d88","webpack:///./src/game/game.vue","webpack:///./src/game/api/socket.ts","webpack:///./src/assetManager/manager.vue?5633","webpack:///./src/game/ui/menu/asset_node.vue","webpack:///./src/auth/login.vue","webpack:///./src/game/visibility/te/draw.ts","webpack:///./src/core/components/accordion.vue","webpack:///./src/game/ui/tools/tool.vue?5b17","webpack:///./src/game/shapes/circulartoken.ts","webpack:///./src/game/ui/annotation.ts","webpack:///./src/game/ui/menu/menu.vue","webpack:///./src/core/components/contextmenu.vue","webpack:///./src/game/ui/note.vue?49b7","webpack:///./src/auth/login.vue?c159","webpack:///./src/game/ui/labels.vue?da86","webpack:///./src/game/ui/labels.vue?1ecb","webpack:///./src/game/shapes/utils.ts","webpack:///./src/game/ui/dmsettings.vue?f205","webpack:///./src/core/components/modals/confirm.vue?e6fb","webpack:///./src/game/ui/tools/select.vue?3530","webpack:///./src/game/ui/tools/select.vue?29b9","webpack:///./src/game/ui/dmsettings.vue?a899","webpack:///./src/game/ui/dmsettings.vue?814f","webpack:///./src/game/shapes/shape.ts","webpack:///./src/core/components/modals/prompt.vue?d457","webpack:///./src/game/ui/menu/menu.vue?5c18","webpack:///./src/game/ui/menu/menu.vue?44af","webpack:///./src/game/ui/note.vue?e0e5","webpack:///./src/game/ui/note.vue?23aa","webpack:///./src/game/ui/tools/select.vue?49f9","webpack:///./src/game/ui/dmsettings.vue?fed3","webpack:///./src/game/ui/tools/utils.ts","webpack:///./src/game/ui/note.vue?a508","webpack:///./src/core/components/inputCopy.vue?4a5e","webpack:///./src/game/ui/labels.vue?15af","webpack:///./src/dashboard/main.vue?6d0a","webpack:///./src/dashboard/main.vue?bbae","webpack:///./src/game/ui/tools/vision.vue?4f0c","webpack:///./src/game/api/utils.ts","webpack:///./src/game/ui/menu/asset_node.vue?f519","webpack:///./src/core/components/colorpicker.vue?893c","webpack:///./src/core/components/contextmenu.vue?113a","webpack:///./src/core/components/contextmenu.vue?7efa","webpack:///./src/assetManager/store.ts","webpack:///./src/core/components/contextmenu.vue?50e1","webpack:///./src/game/ui/selection/shapecontext.vue?1cf6","webpack:///./src/game/ui/menu/menu.vue?b354","webpack:///./src/core/components/inputCopy.vue?f87b","webpack:///./src/game/ui/tools/map.vue?284a","webpack:///./src/assetManager/contextMenu.vue?c688","webpack:///./src/assetManager/contextMenu.vue?bce4","webpack:///./src/game/layers/grid.ts","webpack:///./src/core/components/colorpicker.vue?5bf8","webpack:///./src/core/components/colorpicker.vue?7374","webpack:///./src/store.ts","webpack:///./src/core/components/colorpicker.vue","webpack:///./src/game/ui/tools/vision.vue?48bb","webpack:///./src/auth/login.vue?3521","webpack:///./src/App.vue?5130","webpack:///./src/App.vue","webpack:///./src/game/layers/fow.ts","webpack:///./src/core/components/load.vue?18c2","webpack:///./src/game/ui/selection/edit_dialog.vue?b816","webpack:///./src/game/ui/selection/edit_dialog.vue?6334","webpack:///./src/game/shapes/circle.ts","webpack:///./src/game/ui/tools/map.vue?a3ab","webpack:///./src/core/components/load.vue","webpack:///./src/game/ui/tools/pan.ts","webpack:///./src/game/ui/tools/selectcontext.vue","webpack:///./src/core/utils.ts","webpack:///./src/assetManager/contextMenu.vue","webpack:///./src/game/visibility/te/triag.ts","webpack:///./src/game/ui/menu/asset_node.vue?1f27","webpack:///./src/game/ui/tools/selectcontext.vue?d72f","webpack:///./src/game/ui/tools/selectcontext.vue?3109","webpack:///./src/game/ui/tools/vision.vue?d25b","webpack:///./src/game/ui/selection/edit_dialog.vue?1206","webpack:///./src/core/components/modals/modal.vue?44ae","webpack:///./src/assetManager/socket.ts","webpack:///./src/game/ui/tools/filter.vue?ee60","webpack:///./src/core/components/accordion.vue?3e09","webpack:///./src/game/ui/tools/vision.vue?07fd","webpack:///./src/game/ui/tools/vision.vue?9b57","webpack:///./src/game/ui/tools/selectcontext.vue?6c84","webpack:///./src/game/game.vue?5550","webpack:///./src/game/shapes/multiline.ts","webpack:///./src/game/ui/tools/draw.vue","webpack:///./src/game/utils.ts","webpack:///./src/game/ui/tools/createtoken_modal.vue?d0df","webpack:///./src/game/ui/note.vue?f9bd","webpack:///./src/game/ui/tools/draw.vue?b96d","webpack:///./src/game/shapes/line.ts","webpack:///./src/router.ts","webpack:///./src/game/ui/tools/tool.vue?d136","webpack:///./src/game/ui/tools/tools.vue","webpack:///./src/game/ui/tools/tool.vue?8ce3","webpack:///./src/game/game.vue?dae5","webpack:///./src/game/game.vue?5780","webpack:///./src/core/components/inputCopy.vue?e1ee","webpack:///./src/core/components/inputCopy.vue?0a6a","webpack:///./src/game/shapes/asset.ts","webpack:///./src/core/components/inputCopy.vue","webpack:///./src/game/visibility/te/cdt.ts","webpack:///./src/game/ui/tools/draw.vue?1261","webpack:///./src/game/layers/manager.ts","webpack:///./src/game/ui/initiative.vue?c7e1","webpack:///./src/game/ui/tools/createtoken_modal.vue","webpack:///./src/game/visibility/bvh/node.ts","webpack:///./src/game/ui/tools/createtoken_modal.vue?f918","webpack:///./src/game/events/keyboard.ts","webpack:///./src/assetManager/manager.vue?433f","webpack:///./src/game/ui/tools/tools.vue?25b2","webpack:///./src/game/ui/selection/selection_info.vue?2310","webpack:///./src/core/components/modals/modal.vue?09d2","webpack:///./src/game/ui/labels.vue?e465","webpack:///./src/core/components/contextmenu.vue?a0a2","webpack:///./src/core/components/modals/prompt.vue?4e1b","webpack:///./src/dashboard/main.vue?1c14","webpack:///./src/core/components/accordion.vue?3d26","webpack:///./src/core/components/load.vue?14cd","webpack:///./src/core/components/load.vue?0f87","webpack:///./src/game/ui/menu/menu.vue?8b23","webpack:///./src/game/shapes/boundingrect.ts","webpack:///./src/game/geom.ts","webpack:///./src/game/ui/menu/asset_node.vue?61d2","webpack:///./src/game/ui/menu/asset_node.vue?3fe9","webpack:///./src/core/components/inputCopy.vue?946f","webpack:///./src/game/game.vue?5592","webpack:///./src/game/units.ts","webpack:///./src/game/ui/menu/menu.vue?ae57","webpack:///./src/core/components/colorpicker.vue?1682","webpack:///./src/game/visibility/te/tds.ts","webpack:///./src/game/visibility/bvh/bvh.ts","webpack:///./src/game/ui/tools/filter.vue?1da1","webpack:///./src/game/manager.ts","webpack:///./src/game/ui/menu/asset_node.vue?0d0e","webpack:///./src/core/components/modals/modal.vue?9335","webpack:///./src/game/ui/tools/vision.vue","webpack:///./src/game/ui/initiative.vue?9640","webpack:///./src/game/ui/initiative.vue?3968","webpack:///./src/core/components/load.vue?8cd0","webpack:///./src/game/ui/selection/selection_info.vue?f9dc","webpack:///./src/game/ui/selection/selection_info.vue?4f48","webpack:///./src/dashboard/main.vue?3f72","webpack:///./src/core/components/modals/confirm.vue","webpack:///./src/game/ui/selection/shapecontext.vue?aac0","webpack:///./src/game/ui/tools/draw.vue?60f4","webpack:///./src/game/ui/selection/shapecontext.vue?c203","webpack:///./src/assetManager/manager.vue?a11e","webpack:///./src/game/event-bus.ts","webpack:///./src/dashboard/main.vue?d5a9","webpack:///./src/game/shapes/rect.ts","webpack:///./src/game/ui/tools/filter.vue?b0f4","webpack:///./src/game/ui/tools/selectcontext.vue?6f66","webpack:///./src/game/layers/fowplayers.ts","webpack:///./src/game/layers/layer.ts","webpack:///./src/game/events/mouse.ts","webpack:///./src/game/ui/tools/filter.vue","webpack:///./src/game/shapes/baserect.ts","webpack:///./src/game/ui/tools/select.vue","webpack:///./src/dashboard/main.vue","webpack:///./src/game/ui/tools/createtoken_modal.vue?6f0b","webpack:///./src/assetManager/manager.vue?fbc6","webpack:///./src/assetManager/manager.vue?a045","webpack:///./src/game/ui/tools/selectcontext.vue?d61f","webpack:///./src/auth/logout.ts","webpack:///./src/core/store.ts","webpack:///./src/main.ts","webpack:///./src/core/components/contextmenu.vue?f402","webpack:///./src/invitation/invitation.ts","webpack:///./src/core/components/modals/prompt.vue","webpack:///./src/game/visibility/te/te.ts","webpack:///./src/game/ui/tools/map.vue?ed09","webpack:///./src/game/ui/tools/map.vue?7f60","webpack:///./src/game/ui/selection/edit_dialog.vue","webpack:///./src/core/components/modals/modal.vue?c616","webpack:///./src/core/components/modals/modal.vue?12fd","webpack:///./src/game/settings.ts","webpack:///./src/auth/login.vue?283c","webpack:///./src/game/ui/tools/createtoken_modal.vue?4595","webpack:///./src/game/ui/tools/createtoken_modal.vue?5fcc","webpack:///./src/game/ui/tools/tool.vue?780b","webpack:///./src/game/ui/tools/tool.vue?f5ba","webpack:///./src/game/game.vue?d01c","webpack:///./src/game/ui/tools/ruler.ts","webpack:///./src/core/components/modals/modal.vue","webpack:///./src/core/components/accordion.vue?4b34","webpack:///./src/game/visibility/te/pa.ts","webpack:///./src/game/ui/tools/tools.vue?4580","webpack:///./src/game/ui/selection/edit_dialog.vue?9a84","webpack:///./src/game/ui/selection/shapecontext.vue?3e44","webpack:///./src/game/ui/selection/shapecontext.vue?9807","webpack:///./src/core/components/modals/confirm.vue?f9ee","webpack:///./src/game/ui/dmsettings.vue?7896","webpack:///./src/game/ui/tools/map.vue","webpack:///./src/core/components/accordion.vue?ada1","webpack:///./src/core/components/accordion.vue?6229","webpack:///./src/core/components/modals/confirm.vue?cfcf","webpack:///./src/core/components/modals/confirm.vue?be48","webpack:///./src/game/ui/dmsettings.vue","webpack:///./src/assetManager/contextMenu.vue?1b1b","webpack:///./src/game/ui/tools/select.vue?b7fd","webpack:///./src/game/ui/tools/filter.vue?6447","webpack:///./src/game/ui/labels.vue?8d8f","webpack:///./src/game/shapes/polygon.ts","webpack:///./src/game/ui/tools/draw.vue?dd55","webpack:///./src/game/ui/tools/draw.vue?03b4","webpack:///./src/game/game.vue?4949","webpack:///./src/game/ui/tools/filter.vue?fb4f","webpack:///./src/game/ui/tools/filter.vue?fa63","webpack:///./src/assetManager/manager.vue","webpack:///./src/game/ui/tools/tools.vue?fa4a","webpack:///./src/game/ui/tools/tool.vue","webpack:///./src/game/ui/initiative.vue?4ce1","webpack:///./src/core/components/modals/prompt.vue?29b4","webpack:///./src/core/components/modals/prompt.vue?36e2","webpack:///./src/game/ui/initiative.vue?36c8","webpack:///./src/game/ui/selection/selection_info.vue","webpack:///./src/game/store.ts","webpack:///./src/core/components/modals/confirm.vue?a22f","webpack:///./src/game/comm/conversion/aura.ts","webpack:///./src/assetManager/contextMenu.vue?1e9a","webpack:///./src/game/ui/note.vue","webpack:///./src/game/ui/initiative.vue","webpack:///./src/game/layers/utils.ts","webpack:///./src/game/ui/labels.vue","webpack:///./src/game/ui/selection/edit_dialog.vue?3800","webpack:///./src/game/ui/tools/tools.vue?28f3","webpack:///./src/game/ui/tools/tools.vue?c2f7","webpack:///./src/auth/login.vue?d700","webpack:///./src/auth/login.vue?8f9e","webpack:///./src/game/ui/selection/selection_info.vue?5d62","webpack:///./src/game/api/events.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","boundingrect_1","shape_1","units_1","Text","Shape","[object Object]","position","text","font","angle","fillColour","strokeColour","uuid","super","this","type","assign","getBaseDict","points","refPoint","x","y","BoundingRect","ctx","draw","fillStyle","save","dest","g2l","translate","rotate","textAlign","getLines","map","line","fillText","restore","point","centerPoint","canvas","getBoundingBox","visibleInCanvas","resizePoint","lines","lineHeight","widths","measureText","width","Math","max","split","allLines","maxWidth","targetLine","words","word","testLine","metrics","testWidth","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_selection_info_vue_vue_type_style_index_0_id_674cf937_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_selection_info_vue_vue_type_style_index_0_id_674cf937_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","__webpack_exports__","_shapecontext_vue_vue_type_template_id_6c66d243_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_shapecontext_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_prompt_vue_vue_type_style_index_0_id_0602c2e6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_prompt_vue_vue_type_style_index_0_id_0602c2e6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","tinycolor2_1","tslib_1","__importDefault","vue_1","vue_class_component_1","vue_color_1","vue_property_decorator_1","ColorPicker","default","display","left","top","transparent","$refs","chromePicker","val","rgba","a","setPosition","disabled","$nextTick","$children","$el","focus","newColor","toRgbString","$emit","color","rect","getBoundingClientRect","right","innerWidth","bottom","innerHeight","__decorate","Prop","String","Boolean","components","chrome-picker","Chrome","_game_vue_vue_type_template_id_3d0578ba_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_game_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_4__","socket_io_client_1","createConnection","route","socket","io","opts","query","params","creator","room","connect","location","protocol","host","autoConnect","contextMenu_vue_1","confirm_vue_1","prompt_vue_1","socket_1","store_1","utils_1","AssetManager","path","draggingSelection","folders","assetStore","files","selected","idMap","currentFolder","root","parentFolder","parent","undefined","firstSelectedFile","sel","file_hash","nextFolder","pop","clearSelected","emit","prompt","inode","target","includes","indexOf","delete","event","shiftKey","inodes","start","end","ctrlKey","file","dataTransfer","setData","dropEffect","classList","contains","add","remove","moveInode","upload","document","getElementById","click","fls","CHUNK_SIZE","uuidv4","slices","ceil","size","fr","FileReader","readAsArrayBuffer","min","onload","e","directory","totalSlices","Prompt","ConfirmDialog","AssetContextMenu","to","from","next","disconnect","_asset_node_vue_vue_type_template_id_6d718094_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_asset_node_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","_login_vue_vue_type_template_id_bc30fc14_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_login_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","manager_1","tds_1","triag_1","drawPolygon","polygon","colour","dl","layerManager","getLayer","lineJoin","beginPath","strokeStyle","random","moveTo","g2lx","g2ly","lineTo","closePath","stroke","drawPolygonL","xx","local","yy","I","J","drl","constrained","drawPolygonT","tds","clear","logs","T","clearRect","ei","EdgeIterator","valid","collect","fromP","edge","first","vertices","ccw","second","toP","cw","Infinity","constraints","console","log","pos","triangles","isInfinite","po","arc","PI","fill","DP","DPL","DPT","_accordion_vue_vue_type_template_id_0bf2b7ba_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_accordion_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tool_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tool_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","tinycolor","__importStar","circle_1","CircularToken","Circle","center","radius","fromDict","textBaseline","xs","calcFontScale","g2lz","ys","transform","mostReadable","toHexString","visible","gameStore","IS_DM","group","source","has_img","effects","index","geom_1","rect_1","text_1","AnnotationManager","shown","origin","GlobalPoint","annotationText","annotationRect","Rect","layer","hasLayer","warn","addShape","l2g","LocalPoint","getMaxWidth","height","getMaxHeight","w","zoomFactor","h","invalidate","_menu_vue_vue_type_template_id_c7fe324c_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_menu_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","_contextmenu_vue_vue_type_template_id_256dde9c___WEBPACK_IMPORTED_MODULE_0__","_contextmenu_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_note_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_note_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","_h","$createElement","_c","_self","attrs","mask","on","close","$event","scopedSlots","_u","fn","staticClass","draggable","dragstart","dragStart","dragend","dragEnd","_v","title","staticStyle","margin","directives","rawName","expression","ref","placeholder","domProps","input","composing","search","_l","category","labels","label","selectLabel","_s","_e","class","lower-opacity","style","stopPropagation","toggleVisibility","deleteLabel","id","modifiers","trim","newCategory","blur","$forceUpdate","newName","addLabel","staticRenderFns","asset_1","circulartoken_1","line_1","multiline_1","polygon_1","createShapeFromDict","shape","sh","type_","fill_colour","stroke_colour","circ","token","Line","x2","y2","line_width","multiline","MultiLine","Polygon","v","asset","img","Image","src","startsWith","URL","pathname","Asset","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_dmsettings_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_dmsettings_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_confirm_vue_vue_type_style_index_0_id_1883e207_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_confirm_vue_vue_type_style_index_0_id_1883e207_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","handleClick","selection","$store","state","game","player","kickPlayer","values","players","refreshState","invitationUrl","refreshInviteCode","toggleSessionLock","deleteSession","for","checked","Array","isArray","useGrid","_i","change","$$a","$$el","$$c","$$v","$$i","concat","number","gridSize","_n","unitSize","fakePlayer","fullFOW","fowLOS","step","fowOpacity","changeVisionMode","visionMode","lazy","visionRangeMin","visionRangeMax","aura_1","nameVisible","trackers","auras","_owners","visionObstruction","movementObstruction","isToken","showHighlight","annotation","globalCompositeOperation","options","Map","_refPoint","delta","idx","entries","abs","prev","fromArray","vec","subtract","mid","multiply","normalize","skipLightUpdate","recalculate","self","obstructionIndex","visionBlockers","update","recalculateVision","forEach","au","ls","visionSources","findIndex","aura","visionSource","some","blocksMovement","movementblockers","recalculateMovement","ownedBy","ownedtokens","draw_operator","movement_obstruction","vision_obstruction","aurasToServer","owners","name_visible","is_token","JSON","stringify","aurasFromServer","parse","bbox","strokeRect","topLeft","dim","loc","innerRange","g2lr","gradient","createRadialGradient","tc","addColorStop","setAlpha","lastPath","sync","oldLayer","newLayer","shapes","freeze","username","FAKE_PLAYER","activeTokens","owner","oldValue","newValue","ownerIndex","addOwner","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_prompt_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_prompt_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","settings","locations","rm-list-dm","_m","enter","rm","transition","settingsClick","overflow-y","overflow-x","href","assets","createNote","note","cursor","openNote","notes","openDmSettings","gridColour","update:color","fowColour","rulerColour","text-decoration","changeLocation","createLocation","select","font-size","updateNote","$set","calcHeight","removeNote","selectcontext_vue_1","tool_vue_1","utils_2","utils_3","SelectOperations","SelectTool","showContextMenu","active","Noop","deltaChanged","dragRay","Ray","Vector","selectionStartPoint","selectionHelper","mouse","getMouse","globalMouse","selectionStack","hit","getPointIndex","l2gz","getRef","Resize","Drag","localRefPoint","GroupSelect","endPoint","og","direction","ogDelta","calculateDelta","asDict","redraw","temporary","resize","updateCursor","body","clearSelection","topRight","botLeft","altKey","snapToGrid","resizeToGrid","$parent","shapecontext","open","selectcontext","getPointOrientation","SelectContext","vuex_1","inputCopy_vue_1","modal_vue_1","event_bus_1","DmSettings","categories","showRefreshState","EventBus","$on","$off","invitationCode","locked","isLocked","setUseGrid","setUnitSize","setGridSize","setFakePlayer","setFullFOW","setFOWOpacity","setLineOfSight","setVisionRangeMin","setVisionRangeMax","toLowerCase","setVisionMode","child","firstElementChild","HTMLInputElement","setIsLocked","roomCreator","roomName","then","$router","InputCopyElement","Modal","computed","mapState","pa_1","done","ogSelBBox","newSelBBox","offset","refine","movementBlocker","blocker","UUIDMap","blockerBBox","found","intersectsWithInner","ray","fromPoints","invDir","inverse","dirIsNegative","intersectP","bCenter","sCenter","ux","uy","dx","dot","dy","centerTriangle","PA_CDT","movement","locate","asArray","lt","triangle","checkTriangle","skip","endpoint","neighbours","_cw","_ccw","ix","intersection","isConstrained","orientation","Sign","LEFT_TURN","ZERO","newDelta","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_note_vue_vue_type_style_index_0_id_7a3669fd_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_note_vue_vue_type_style_index_0_id_7a3669fd_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_inputCopy_vue_vue_type_style_index_0_id_20bfdb3e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_inputCopy_vue_vue_type_style_index_0_id_20bfdb3e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_labels_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_labels_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","owned","joined","encodeURIComponent","submit","preventDefault","createRoom","newSessionName","tag","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_vision_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_vision_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","sendClientOptions","locationOptions","panX","panY","AssetNode","showImage","keys","filter","el","sort","alphSort","__files","b","children","imageSource","querySelector","setDragImage","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_colorpicker_vue_vue_type_style_index_0_id_f8744d60_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_colorpicker_vue_vue_type_style_index_0_id_f8744d60_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","tabindex","_t","vuex_module_decorators_1","AssetStore","VuexModule","Mutation","Module","dynamic","store","rootStore","namespaced","getModule","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_contextmenu_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_contextmenu_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","contextmenu_vue_1","ShapeContext","activeLayer","pageX","pageY","layers","selectable","playerEditable","moveLayer","getActiveLayer","moveShapeOrder","initiative","addInitiative","getInitiativeRepr","ContextMenu","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_menu_vue_vue_type_style_index_0_id_c7fe324c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_menu_vue_vue_type_style_index_0_id_c7fe324c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","borderColour","popupString","showPopup","navigator","clipboard","writeText","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_map_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_map_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","rename","layer_1","GridLayer","Layer","doClear","drawGrid","gs","lineWidth","currentTarget","closePicker","z-index","updateColor","use","Store","_colorpicker_vue_vue_type_template_id_f8744d60_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_colorpicker_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","VisionTool","tokens","removeActiveToken","addActiveToken","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_bc30fc14_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_bc30fc14_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","script","componentNormalizer","settings_1","te_1","FOWLayer","isVisionLayer","preFogShapes","virtualCanvas","createElement","vCtx","getContext","has","removeShape","Settings","skipLightFOW","originalOperation","dctx","drawAngleLines","drawFirstLightHit","bb","lcenter","alm","light","find","auraLength","getUnitDistance","auraCircle","lastArcAngle","Path2D","firstPoint","angleSteps","anglePoint","cos","sin","lightRay","hitResult","BV","intersect","computeVisibility","drawImage","preShape","ogComposite","getFogColour","fillRect","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_load_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_load_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","grid-column","updateShape","opacity","grid-column-start","setToken","setVisionBlocker","setMovementBlocker","updateOwner","gridColumnStart","removeOwner","tracker","removeTracker","updateAuraColour","updateAuraVisionSource","removeAura","removeLabel","openLabelManager","updateAnnotation","pow","targetX","targetY","round","diff","sqrt","baserect_1","MapTool","xCount","yCount","startPoint","clone","BaseRect","_load_vue_vue_type_template_id_ff095222___WEBPACK_IMPORTED_MODULE_0__","_load_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__","PanTool","panStart","distance","increasePanX","increasePanY","_selectcontext_vue_vue_type_template_id_2e7d4582_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_selectcontext_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","main_1","replace","toString","capitalize","charAt","toUpperCase","getHTMLFont","element","parentElement","getComputedStyle","getPropertyValue","getHTMLTextWidth","fakeElement","appendChild","partition","arr","predicate","ret","Number","fontWidth","fixedEncodeURIComponent","str","charCodeAt","OrderedMap","getComponent","activeComponent","_contextMenu_vue_vue_type_template_id_dbbd4d08___WEBPACK_IMPORTED_MODULE_0__","_contextMenu_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","edgeInfo","va","vb","ec","EdgeCirculator","indv","indexV","ri","infinite","vi","orient","COLLINEAR","collinearBetween","q","cPQ","cQR","compare","EQUAL","SMALLER","LARGER","px","py","qx","qy","rx","ry","pqx","pqy","prx","pry","det","determinant","maxX","maxY","aprX","aprY","eps","EPSILON","POSITIVE","NEGATIVE","a00","a01","a10","a11","hasInexactNegativeOrientation","sideOfOrientedCircle","perturb","sideOfOrientedCircleP","Error","p0","p1","p2","os","getOrientedSide","ON_ORIENTED_BOUNDARY","reverse","ON_NEGATIVE_SIDE","xyEqual","xySmaller","xyCompare","qpx","qpy","rpx","rpy","tpx","tpy","tqx","tqy","rqx","rqy","maxx","maxy","arpx","arpy","atqx","atqy","atpx","atpy","arqx","arqy","ON_POSITIVE_SIDE","segSegDoIntersectCrossing","p3","p4","RIGHT_TURN","segSegDoIntersectContained","pa","pb","pc","pd","getIntersectionType","intersectionType","IntersectionType","POINT","NO_INTERSECTION","getLine","doIntersect","l1","l2","info","getIntersectionTypeLine","la","lb","denom","nom1","nom2","A1","A2","B1","B2","nextUp","MAX_VALUE","MIN_VALUE","ulp","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_asset_node_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_asset_node_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","bringPlayers","createToken","showInitiative","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_vision_vue_vue_type_style_index_0_id_46baf892_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_vision_vue_vue_type_style_index_0_id_46baf892_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_dialog_vue_vue_type_style_index_0_id_23de098e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_dialog_vue_vue_type_style_index_0_id_23de098e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","positioned","offsetX","offsetY","screenX","screenY","dragging","updatePosition","container","offsetWidth","offsetHeight","clientX","clientY","parseInt","destination","setRoot","folder","set","accordion_vue_1","FilterTool","cat","","localeCompare","initalValues","labelFilters","f","toggleUnlabeledFilter","_","accordion","Accordion","initialValues","updateCategory","overall","items","indeterminate","item","--detailRight","detailRight","--detailArrow","detailArrow","toggle","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_selectcontext_vue_vue_type_style_index_0_id_2e7d4582_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_selectcontext_vue_vue_type_style_index_0_id_2e7d4582_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_game_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_game_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_points","minx","miny","lineCap","_draw_vue_vue_type_template_id_639cd890_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_draw_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","opposite","zoomValue","exp","zoomDisplay","colorpicker_vue_1","CreateTokenModal","updatePreview","Watch","color-picker","NoteDialog","textarea","scrollHeight","DrawTool","brushHelper","ruler","shapeSelect","modeSelect","modes","brushSize","helperSize","onModeChange","fowLayer","normalLayer","setupBrush","_vertices","pushBrushBack","lastPoint","finaliseShape","axios_1","vue_router_1","manager_vue_1","login_vue_1","logout_1","load_vue_1","main_vue_1","game_vue_1","invitation_1","router","base","routes","redirect","meta","auth","template","beforeEach","coreStore","initialized","matched","record","authenticated","response","setAuthenticated","setUsername","setInitialized","catch","error","Tool","tool","onMouseDown","onMouseUp","onMouseMove","onContextMenu","onDeselect","onSelect","_tools_vue_vue_type_template_id_b6e1f51c_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_tools_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tool_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tool_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","mouseleave","wheel","zoom","ready","mousedown","mouseup","mousemove","contextmenu","dragover","drop","showUI","layer-selected","selectedLayer","selectLayer","interval","dot-width","dot-height","tooltip-dir","tooltip","formatter","toFixed","slider-style","border-radius","bg-style","background-color","box-shadow","process-style","model","callback","copy","topleft","_inputCopy_vue_vue_type_template_id_20bfdb3e_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_inputCopy_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","CDT","TDS","insert","insertConstraintV","stack","markConstraint","intersectionInfo","findIntersectedFaces","triangulateHole","intersectedFaces","listAB","listBA","edges","triangulateHole2","propagatingFlipE","triangulateHalfHole","fl","deleteTriangle","conflictBoundaries","iN","iT","iC","current","n1","n2","ind","ind1","ind2","mirrorIndex","v0","v1","v2","newlf","createTriangle","vaa","vbb","aa","lfc","LineFaceCirculator","lf","rf","indexT","unshift","previousFace","currentVertex","i1","i2","vcc","vdd","pi","BoundingBox","dilate","overlaps","removeConstrainedEdge","dimension","indf","locateInfo","iLocate","insertb","li","flipAround","propagatingFlip","depth","isFlipable","maxDepth","ni","flip","e1","e2","uid","eni","eI","edgeSet","lessEdge","indn","ed","tt","ii","u","t1","t2","t3","i3","t4","i4","insertInConstrainedEdge","LocateType","EDGE","insertc","updateConstraintsIncident","VERTEX","clearConstraintsIncident","updateConstraintsOpposite","c1","c2","fc","FaceCirculator","cwi","ccwi","insertFirst","finiteVertex","insertSecond","OUTSIDE_AFFINE_HULL","insertOutsideAffineHull","OUTSIDE_CONVEX_HULL","insertOutsideConvexHull","insertInEdge","FACE","insertInFace","insertDimUp","_infinite","conform","finiteEdge","COUNTERCLOCKWISE","insertOutsideConvexHull2","ccwlist","cwlist","th","marchLocate1D","marchLocate2D","ff","iv","pqt","Triangle","leftFirst","o0","o1","o2","sum","nTurns","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_draw_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_draw_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","LayerManager","drawLoop","requestAnimationFrame","addLayer","globalAlpha","getSelection","image","getData","l2gx","l2gy","lm","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_initiative_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_initiative_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","_createtoken_modal_vue_vue_type_template_id_73816298_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_createtoken_modal_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","BoundingNode","nPrimitives","LeafNode","firstPrimOffset","InteriorNode","union","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_createtoken_modal_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_createtoken_modal_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","utils_4","onKeyUp","HTMLTextAreaElement","selectTool","onKeyDown","keyCode","hasSelection","toggleUI","setClipboard","clip","oldTrackers","newTracker","oldAuras","newAura","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_manager_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_manager_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","shapecontext_vue_1","createtoken_modal_vue_1","draw_vue_1","filter_vue_1","map_vue_1","pan_1","select_vue_1","vision_vue_1","manager_2","ruler_1","Tools","currentTool","tools","dmTools","currentToolComponent","visibleTools","tagName","targetTool","button","buttons","annotations","gameManager","annotationManager","setActiveText","select-tool","pan-tool","draw-tool","ruler-tool","RulerTool","map-tool","filter-tool","vision-tool","shape-menu","createtoken-dialog","watch","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_selection_info_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_selection_info_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modal_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modal_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_labels_vue_vue_type_style_index_0_id_e477c214_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_labels_vue_vue_type_style_index_0_id_e477c214_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_contextmenu_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_contextmenu_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","question","answer","resolve","reject","Promise","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_b102d41e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_b102d41e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_accordion_vue_vue_type_style_index_0_id_0bf2b7ba_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_accordion_vue_vue_type_style_index_0_id_0bf2b7ba_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","message","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_menu_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_menu_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","botRight","vector","other","xmin","xmax","ymin","ymax","botright","dirIsNeg","txmin","getDiagCorner","txmax","tymin","tymax","tMax","coreVisible","getPointDistance","Point","scale","atan2","maxT","mouseover","hash","mouseout","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_inputCopy_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_inputCopy_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","vue_slider_component_1","lodash_1","initiative_vue_1","labels_vue_1","menu_vue_1","note_vue_1","selection_info_vue_1","tools_vue_1","keyboard_1","mouse_1","dmsettings_vue_1","Game","manager","updateZoom","newZoomDisplay","zoomLocation","addEventListener","resizeWindow","removeEventListener","throttle","scrollZoom","setWidth","setHeight","confirm","dropAsset","tool-bar","selection-info","prompt-dialog","confirm-dialog","menu-bar","initiative-dialog","zoom-slider","note-dialog","label-dialog","dm-settings","obj","z","l2gr","asset_node_vue_1","MenuBar","setGridColour","setFOWColour","setRulerColour","nextElementSibling","newNote","asset-node","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_colorpicker_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_colorpicker_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","_INFINITE_VERTEX","LineFaceState","newPoint","INFINITE","_counter","vertex","A","sign","Vertex","_point","_ri","Edge","_es","associatedEdge","increment","tr","dir","UNDEFINED","_tr","ic","vt","vr","pqr","VERTEX_VERTEX","VERTEX_EDGE","EDGE_VERTEX","EDGE_EDGE","createVertex","addVertex","infiniteVertex","n0","trig","t0","i0","setAdjacency","deleteList","neighbour","lfit","reorient","vCW","vCCW","tri","bl","bli","vv","g","x1","y1","dist","node_1","BoundingVolume","totalNodes","buildData","orderedPrims","nodes","recursiveBuild","compact","node","createLeaf","centroidBbox","getMaxExtent","pMid","partitionedData","flattened","stopOnFirstHit","tMin","todoOffset","nodeNum","todo","secondChildOffset","flatten","myOffset","secondOffset","primitivesOffset","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_filter_vue_vue_type_style_index_1_id_dca395d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_filter_vue_vue_type_style_index_1_id_dca395d6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","annotation_1","GameManager","selectedTool","oldShape","redrawInitiative","checkVisionSources","setMovementBlock","setIsToken","localPos","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_asset_node_vue_vue_type_style_index_0_id_6d718094_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_asset_node_vue_vue_type_style_index_0_id_6d718094_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modal_vue_vue_type_style_index_0_id_c2851f0e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modal_vue_vue_type_style_index_0_id_c2851f0e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_vision_vue_vue_type_template_id_46baf892_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_vision_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","fakeSetData","updateOrder","actor","flex-direction","align-items","initiative-selected","currentActor","mouseenter","toggleHighlight","notAllowed","owns","syncInitiative","createEffect","getDefaultEffect","toggleOption","removeInitiative","effect","updateEffect","turns","roundCounter","visionLock","toggleVisionLock","cameraLock","setRound","updateTurn","nextTurn","LoadComponent","openEditDialog","changeValue","maxvalue","registerHooks","Dashboard","vm","err","post","_confirm_vue_vue_type_template_id_1883e207_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_confirm_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_shapecontext_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_shapecontext_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_draw_vue_vue_type_style_index_0_id_639cd890_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_draw_vue_vue_type_style_index_0_id_639cd890_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_shapecontext_vue_vue_type_style_index_0_id_6c66d243_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_shapecontext_vue_vue_type_style_index_0_id_6c66d243_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_manager_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_manager_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_filter_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_filter_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_selectcontext_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_selectcontext_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","FOWPlayersLayer","skipPlayerFOW","maxLength","tokenId","_a","selectionColor","selectionWidth","invalidateLight","serverShape","lsI","lbI","mbI","anI","annotationIndex","ownedIndex","ogOP","drawAuras","filterNoLabel","destinationIndex","oldIdx","deltaY","_filter_vue_vue_type_template_id_dca395d6_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_filter_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","topright","botleft","mx","my","_select_vue_vue_type_template_id_048b3482___WEBPACK_IMPORTED_MODULE_0__","_select_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","_main_vue_vue_type_template_id_b102d41e_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_main_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_createtoken_modal_vue_vue_type_style_index_0_id_73816298_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_createtoken_modal_vue_vue_type_style_index_0_id_73816298_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","moveDrag","stopDrag","multiple","hidden","createDirectory","prepareUpload","dblclick","changeDirectory","dragleave","leaveDrag","inode-selected","cm","startDrag","createtokendialog","Logout","CoreStore","init","App_vue_1","router_1","config","productionTip","devtools","performance","$mount","props","Initiative","code","sessionUrl","_prompt_vue_vue_type_template_id_0602c2e6_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_prompt_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","draw_1","drawt","drawTEContour","Q","rawOutput","expandEdge","fh","nfh","nIndex","rIndex","lIndex","nvh","rvh","lvh","re","le","ro","lo","raySegIntersection","CLOCKWISE","denominator","ua","_edit_dialog_vue_vue_type_template_id_23de098e_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_edit_dialog_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","modal-mask","dialog-mask","dragOver","tempFill","Login","password","$route","statusText","span","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_game_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_game_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","diffsign","xdiff","ydiff","xmid","ymid","_modal_vue_vue_type_template_id_c2851f0e_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_modal_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_accordion_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_accordion_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","cdt_1","triangulate","partial","cdt","insertConstraint","vision","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tools_vue_vue_type_style_index_0_id_b6e1f51c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tools_vue_vue_type_style_index_0_id_b6e1f51c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","EditDialog","addEmpty","hadAnnotation","an","getLayers","setLayer","moveToBack","moveToFront","getInitiativeWord","yes","no","ok","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_dmsettings_vue_vue_type_style_index_0_id_b908e87c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_dmsettings_vue_vue_type_style_index_0_id_b908e87c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_map_vue_vue_type_template_id_2104f147___WEBPACK_IMPORTED_MODULE_0__","_map_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","toggleDisplay","toggleCategory","showArrow","toggleSelection","deny","_dmsettings_vue_vue_type_template_id_b908e87c_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_dmsettings_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_select_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_select_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_filter_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_filter_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","LabelManager","user","option-selected","max-width","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_game_vue_vue_type_style_index_1_id_3d0578ba_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_game_vue_vue_type_style_index_1_id_3d0578ba_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","selectionupdate","updateSelection","_manager_vue_vue_type_template_id_5b0def98___WEBPACK_IMPORTED_MODULE_0__","_manager_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tools_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tools_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","_tool_vue_vue_type_template_id_1e034b42___WEBPACK_IMPORTED_MODULE_0__","_tool_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_initiative_vue_vue_type_style_index_0_id_07fc8ff2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_initiative_vue_vue_type_style_index_0_id_07fc8ff2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","keyup","_k","vuedraggable_1","_activeTokens","setTurn","getActor","actorId","setActiveTokens","setCenterPosition","order","show","option","effectIndex","syncEffect","_selection_info_vue_vue_type_template_id_674cf937_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_selection_info_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","bvh_1","GameStore","selectedLayerIndex","boardInitialized","locationName","vision_mode","filters","updatedLayers","Set","isDM","oldLoc","newLoc","getGridLayer","increase","unit_size","gridLayer","use_grid","vision_min_range","vision_max_range","full_fow","fow_opacity","fow_los","actualNote","playerId","context","commit","Action","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_confirm_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_confirm_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","vision_source","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_contextMenu_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_contextMenu_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","_note_vue_vue_type_template_id_7a3669fd_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_note_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","_initiative_vue_vue_type_template_id_07fc8ff2_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_initiative_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","fow_1","fowplayers_1","grid_1","createLayer","layerInfo","zIndex","player_editable","setShapes","_labels_vue_vue_type_template_id_e477c214_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_labels_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_dialog_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__","_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_thread_loader_dist_cjs_js_node_modules_ts_loader_index_js_ref_12_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_dialog_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default","toolVisible","refInFor","tool-selected","focusin","focusout","login","autocomplete","required","visibility","register","edit_dialog_vue_1","SelectionInfo","editDialog","ogValue","isNaN","edit-dialog","setRoomName","setRoomCreator","setInvitationCode","setPlayers","addPlayer","setDM","decodeURIComponent","grid_colour","fow_colour","ruler_colour","setPanX","pan_x","setPanY","pan_y","setZoomDisplay","zoom_factor","active_layer","setLocationName","setAssets","locationInfo","setLocations","innerHTML","resetLayerInfo","reset","setBoardInitialized","realShape","setLabelVisibility","setLabelFilters"],"mappings":"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","file":"static/js/app.bc49a9d4.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { GlobalPoint, LocalPoint } from \"@/game/geom\";\nimport { BoundingRect } from \"@/game/shapes/boundingrect\";\nimport { Shape } from \"@/game/shapes/shape\";\nimport { g2l } from \"@/game/units\";\n\nexport class Text extends Shape {\n    type = \"text\";\n    text: string;\n    font: string;\n    angle: number;\n    constructor(\n        position: GlobalPoint,\n        text: string,\n        font: string,\n        angle?: number,\n        fillColour?: string,\n        strokeColour?: string,\n        uuid?: string,\n    ) {\n        super(position, fillColour, strokeColour, uuid);\n        this.text = text;\n        this.font = font;\n        this.angle = angle || 0;\n    }\n    asDict() {\n        return Object.assign(this.getBaseDict(), {\n            text: this.text,\n            font: this.font,\n            angle: this.angle,\n        });\n    }\n    get points() {\n        return [[this.refPoint.x, this.refPoint.y]];\n    }\n    getBoundingBox(): BoundingRect {\n        return new BoundingRect(this.refPoint, 5, 5); // TODO: fix this bounding box\n    }\n    draw(ctx: CanvasRenderingContext2D) {\n        super.draw(ctx);\n        ctx.font = this.font;\n        ctx.fillStyle = this.fillColour;\n        ctx.save();\n        const dest = g2l(this.refPoint);\n        ctx.translate(dest.x, dest.y);\n        ctx.rotate(this.angle);\n        ctx.textAlign = \"center\";\n        this.getLines(ctx).map(line => ctx.fillText(line.text, line.x, line.y));\n        ctx.restore();\n    }\n    contains(point: GlobalPoint): boolean {\n        return false; // TODO\n    }\n\n    center(): GlobalPoint;\n    center(centerPoint: GlobalPoint): void;\n    center(centerPoint?: GlobalPoint): GlobalPoint | void {} // TODO\n    visibleInCanvas(canvas: HTMLCanvasElement): boolean {\n        return this.getBoundingBox().visibleInCanvas(canvas);\n    } // TODO\n    snapToGrid(): void {}\n    resizeToGrid(): void {}\n    resize(resizePoint: number, point: LocalPoint): void {}\n\n    getMaxHeight(ctx: CanvasRenderingContext2D) {\n        const lines = this.getLines(ctx);\n        const lineHeight = 30;\n        return lineHeight * lines.length;\n    }\n\n    getMaxWidth(ctx: CanvasRenderingContext2D) {\n        const lines = this.getLines(ctx);\n        const widths = lines.map(line => ctx.measureText(line.text).width);\n        return Math.max(...widths);\n    }\n\n    private getLines(ctx: CanvasRenderingContext2D) {\n        const lines = this.text.split(\"\\n\");\n        const allLines: { text: string; x: number; y: number }[] = [];\n        const maxWidth = ctx.canvas.width;\n        const lineHeight = 30;\n        const x = 0; // this.refPoint.x;\n        let y = 0; // this.refPoint.y;\n\n        for (const line of lines) {\n            let targetLine = \"\";\n            const words = line.split(\" \");\n            for (const word of words) {\n                const testLine = targetLine + word + \" \";\n                const metrics = ctx.measureText(testLine);\n                const testWidth = metrics.width;\n                if (testWidth > maxWidth) {\n                    ctx.fillText(targetLine, x, y);\n                    allLines.push({ text: targetLine, x, y });\n                    targetLine = word + \" \";\n                    y += lineHeight;\n                } else {\n                    targetLine = testLine;\n                }\n            }\n            allLines.push({ text: targetLine, x, y });\n            y += lineHeight;\n        }\n        return allLines;\n    }\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selection_info.vue?vue&type=style&index=0&id=674cf937&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selection_info.vue?vue&type=style&index=0&id=674cf937&scoped=true&lang=css&\"","import { render, staticRenderFns } from \"./shapecontext.vue?vue&type=template&id=6c66d243&scoped=true&\"\nimport script from \"./shapecontext.vue?vue&type=script&lang=ts&\"\nexport * from \"./shapecontext.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./shapecontext.vue?vue&type=style&index=0&id=6c66d243&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c66d243\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./prompt.vue?vue&type=style&index=0&id=0602c2e6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./prompt.vue?vue&type=style&index=0&id=0602c2e6&scoped=true&lang=css&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport tinycolor from \"tinycolor2\";\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport { Chrome } from \"vue-color\";\nimport { Prop } from \"vue-property-decorator\";\n\n@Component<ColorPicker>({\n    components: {\n        \"chrome-picker\": Chrome,\n    },\n})\nexport default class ColorPicker extends Vue {\n    @Prop(String) color!: string;\n    @Prop(Boolean) disabled!: boolean;\n\n    display = false;\n    left = 0;\n    top = 0;\n    transparent = false;\n\n    mounted() {\n        this.transparent = (<any>this.$refs.chromePicker).val.rgba.a === 0;\n        this.setPosition();\n    }\n\n    open() {\n        if (this.display || this.disabled) return; // click on the picker itself\n        this.setPosition();\n        this.display = true;\n        this.$nextTick(() => (<HTMLElement>this.$children[0].$el).focus());\n    }\n    updateColor(value: { rgba: { r: number; g: number; b: number; a: number } }) {\n        this.transparent = value.rgba.a === 0;\n        const newColor = tinycolor(value.rgba).toRgbString();\n        this.$emit(\"update:color\", newColor);\n        this.$emit(\"input\", newColor);\n    }\n    closePicker() {\n        this.display = false;\n        this.$emit(\"change\", this.color);\n    }\n    setPosition() {\n        const rect = this.$el.getBoundingClientRect();\n        // 224 is the width of the picker, 242 the height\n        if (rect.right + 224 > window.innerWidth) this.left = rect.left - 224;\n        else this.left = rect.right;\n        if (rect.bottom + 242 > window.innerHeight) this.top = rect.top - 242;\n        else this.top = rect.bottom;\n    }\n}\n","import { render, staticRenderFns } from \"./game.vue?vue&type=template&id=3d0578ba&scoped=true&\"\nimport script from \"./game.vue?vue&type=script&lang=ts&\"\nexport * from \"./game.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./game.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./game.vue?vue&type=style&index=1&id=3d0578ba&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d0578ba\",\n  null\n  \n)\n\nexport default component.exports","import io from \"socket.io-client\";\nimport { Route } from \"vue-router\";\n\nexport const socket = io(location.protocol + \"//\" + location.host + \"/planarally\", { autoConnect: false });\n\nexport function createConnection(route: Route) {\n    socket.io.opts.query = `user=${route.params.creator}&room=${route.params.room}`;\n    socket.connect();\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport AssetContextMenu from \"@/assetManager/contextMenu.vue\";\nimport ConfirmDialog from \"@/core/components/modals/confirm.vue\";\nimport Prompt from \"@/core/components/modals/prompt.vue\";\n\nimport { socket } from \"@/assetManager/socket\";\nimport { assetStore } from \"@/assetManager/store\";\nimport { Asset } from \"@/core/comm/types\";\nimport { uuidv4 } from \"@/core/utils\";\n\n@Component({\n    components: {\n        Prompt,\n        ConfirmDialog,\n        AssetContextMenu,\n    },\n    beforeRouteEnter(to, from, next) {\n        socket.connect();\n        next();\n    },\n    beforeRouteLeave(to, from, next) {\n        socket.disconnect();\n        next();\n    },\n})\nexport default class AssetManager extends Vue {\n    path: number[] = [];\n    draggingSelection = false;\n\n    get folders(): number[] {\n        return assetStore.folders;\n    }\n\n    get files(): number[] {\n        return assetStore.files;\n    }\n\n    get selected(): number[] {\n        return assetStore.selected;\n    }\n\n    get idMap() {\n        return assetStore.idMap;\n    }\n\n    get currentFolder(): number {\n        if (this.path.length) return this.path[this.path.length - 1];\n        return assetStore.root;\n    }\n    get parentFolder(): number {\n        let parent = this.path[this.path.length - 2];\n        if (parent === undefined) parent = assetStore.root;\n        return parent;\n    }\n    get firstSelectedFile(): Asset | null {\n        for (const sel of assetStore.selected) {\n            if (assetStore.idMap.get(sel)!.file_hash) {\n                return assetStore.idMap.get(sel)!;\n            }\n        }\n        return null;\n    }\n    changeDirectory(nextFolder: number) {\n        if (nextFolder < 0) this.path.pop();\n        else this.path.push(nextFolder);\n        assetStore.clearSelected();\n        socket.emit(\"Folder.Get\", this.currentFolder);\n    }\n    createDirectory() {\n        const name = window.prompt(\"New folder name\");\n        if (name !== null) {\n            socket.emit(\"Folder.Create\", { name, parent: this.currentFolder });\n        }\n    }\n    moveInode(inode: number, target: number) {\n        if (assetStore.files.includes(inode)) assetStore.files.splice(assetStore.files.indexOf(inode), 1);\n        else assetStore.folders.splice(assetStore.folders.indexOf(inode), 1);\n        assetStore.idMap.delete(inode);\n        socket.emit(\"Inode.Move\", { inode, target });\n    }\n    select(event: MouseEvent, inode: number) {\n        if (event.shiftKey && assetStore.selected.length > 0) {\n            const inodes = [...assetStore.files, ...assetStore.folders];\n            const start = inodes.indexOf(assetStore.selected[assetStore.selected.length - 1]);\n            const end = inodes.indexOf(inode);\n            for (let i = start; i !== end; start < end ? i++ : i--) {\n                if (i === start) continue;\n                assetStore.selected.push(inodes[i]);\n            }\n            assetStore.selected.push(inodes[end]);\n        } else {\n            if (!event.ctrlKey) {\n                assetStore.clearSelected();\n            }\n            assetStore.selected.push(inode);\n        }\n    }\n    startDrag(event: DragEvent, file: number) {\n        if (event.dataTransfer === null) return;\n        event.dataTransfer.setData(\"Hack\", \"ittyHack\");\n        event.dataTransfer.dropEffect = \"move\";\n        if (!assetStore.selected.includes(file)) assetStore.selected.push(file);\n        this.draggingSelection = true;\n    }\n    moveDrag(event: DragEvent) {\n        if ((<HTMLElement>event.target).classList.contains(\"folder\"))\n            (<HTMLElement>event.target).classList.add(\"inode-selected\");\n    }\n    leaveDrag(event: DragEvent) {\n        if ((<HTMLElement>event.target).classList.contains(\"folder\"))\n            (<HTMLElement>event.target).classList.remove(\"inode-selected\");\n    }\n    stopDrag(event: DragEvent, target: number) {\n        (<HTMLElement>event.target).classList.remove(\"inode-selected\");\n        if (this.draggingSelection) {\n            if (\n                (target === assetStore.root || assetStore.folders.includes(target)) &&\n                !assetStore.selected.includes(target)\n            ) {\n                for (const inode of assetStore.selected) {\n                    this.moveInode(inode, target);\n                }\n            }\n            assetStore.clearSelected();\n        } else if (event.dataTransfer && event.dataTransfer.files.length > 0) {\n            this.upload(event.dataTransfer.files, target);\n        }\n        this.draggingSelection = false;\n    }\n    prepareUpload() {\n        document.getElementById(\"files\")!.click();\n    }\n    upload(fls?: FileList, target?: number) {\n        const files = (<HTMLInputElement>document.getElementById(\"files\")!).files;\n        if (fls === undefined) {\n            if (files) fls = files;\n            else return;\n        }\n        if (target === undefined) target = this.currentFolder;\n        const CHUNK_SIZE = 100000;\n        for (const file of fls) {\n            const uuid = uuidv4();\n            const slices = Math.ceil(file.size / CHUNK_SIZE);\n            for (let slice = 0; slice < slices; slice++) {\n                const fr = new FileReader();\n                fr.readAsArrayBuffer(\n                    file.slice(\n                        slice * CHUNK_SIZE,\n                        slice * CHUNK_SIZE + Math.min(CHUNK_SIZE, file.size - slice * CHUNK_SIZE),\n                    ),\n                );\n                fr.onload = e => {\n                    socket.emit(\"Asset.Upload\", {\n                        name: file.name,\n                        directory: target,\n                        data: fr.result,\n                        slice,\n                        totalSlices: slices,\n                        uuid,\n                    });\n                };\n            }\n        }\n    }\n}\n","import { render, staticRenderFns } from \"./asset_node.vue?vue&type=template&id=6d718094&scoped=true&\"\nimport script from \"./asset_node.vue?vue&type=script&lang=ts&\"\nexport * from \"./asset_node.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./asset_node.vue?vue&type=style&index=0&id=6d718094&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d718094\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=bc30fc14&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=ts&\"\nexport * from \"./login.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=bc30fc14&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bc30fc14\",\n  null\n  \n)\n\nexport default component.exports","import { layerManager } from \"@/game/layers/manager\";\nimport { g2lx, g2ly } from \"@/game/units\";\nimport { EdgeIterator, TDS } from \"./tds\";\nimport { ccw, cw } from \"./triag\";\n\nexport function drawPolygon(polygon: number[][], colour?: string) {\n    const dl = layerManager.getLayer(\"draw\");\n    if (dl === undefined) return;\n    const ctx = dl.ctx;\n    ctx.lineJoin = \"round\";\n    // ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n    ctx.lineJoin = \"round\";\n    ctx.beginPath();\n    ctx.strokeStyle =\n        colour === undefined ? `rgb(${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 255})` : colour;\n    ctx.moveTo(g2lx(polygon[0][0]), g2ly(polygon[0][1]));\n    for (const point of polygon) {\n        ctx.lineTo(g2lx(point[0]), g2ly(point[1]));\n    }\n    ctx.closePath();\n    ctx.stroke();\n}\n\nexport function drawPolygonL(polygon: number[][], colour?: string) {\n    const dl = layerManager.getLayer(\"draw\");\n    if (dl === undefined) return;\n    const ctx = dl.ctx;\n    ctx.lineJoin = \"round\";\n    // ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n    ctx.lineJoin = \"round\";\n    ctx.beginPath();\n    ctx.strokeStyle =\n        colour === undefined ? `rgb(${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 255})` : colour;\n    ctx.moveTo(polygon[0][0], polygon[0][1]);\n    for (const point of polygon) {\n        ctx.lineTo(point[0], point[1]);\n    }\n    ctx.closePath();\n    ctx.stroke();\n}\n\nfunction x(xx: number, local: boolean) {\n    if (local) return xx;\n    else return g2lx(xx);\n}\n\nfunction y(yy: number, local: boolean) {\n    if (local) return yy;\n    else return g2ly(yy);\n}\n\nlet I = 0;\nlet J = 0;\n\nfunction drl(ctx: CanvasRenderingContext2D, from: number[], to: number[], constrained: boolean, local: boolean) {\n    // J++;\n    // if (constrained) {\n    //     I++;\n    //     console.log(\"*\", from, to);\n    // } else {\n    //     console.log(\" \", from, to);\n    // }\n    ctx.beginPath();\n    ctx.strokeStyle = constrained ? \"rgba(255, 0, 0, 0.30)\" : \"rgba(0, 0, 0, 0.30)\";\n    ctx.moveTo(x(from[0], local), y(from[1], local));\n    ctx.lineTo(x(to[0], local), y(to[1], local));\n    ctx.closePath();\n    ctx.stroke();\n}\n\nfunction drawPolygonT(tds: TDS, local = true, clear = true, logs: 0 | 1 | 2 = 0) {\n    I = 0;\n    J = 0;\n    let T = 0;\n    const dl = layerManager.getLayer(\"draw\");\n    if (dl === undefined) return;\n    const ctx = dl.ctx;\n    if (clear) ctx.clearRect(0, 0, 2000, 1000);\n    ctx.lineJoin = \"round\";\n    // ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n    ctx.lineJoin = \"round\";\n    const ei = new EdgeIterator(tds);\n    while (ei.valid) {\n        ei.next();\n        ei.collect();\n    }\n    ei.collect();\n    do {\n        const fromP = ei.edge.first!.vertices[ccw(ei.edge.second)]!.point!;\n        const toP = ei.edge.first!.vertices[cw(ei.edge.second)]!.point!;\n        if (logs > 0) {\n            if (fromP[0] === -Infinity || toP[0] === -Infinity) {\n                ei.next();\n                continue;\n            }\n            J++;\n            if (ei.edge.first!.constraints[ei.edge.second]) {\n                I++;\n                if (logs === 2) console.log(`Edge: (*) ${fromP} > ${toP}`);\n            } else if (logs === 2) console.log(`Edge: ${fromP} > ${toP}`);\n        }\n        do {\n            ei.next();\n            ei.collect();\n        } while (ei.valid);\n    } while (ei.pos !== null);\n    for (const t of tds.triangles) {\n        if (t.isInfinite()) continue;\n        T++;\n        const po = [];\n        ctx.fillStyle = \"red\";\n        if (t.vertices[0] !== undefined) {\n            po.push(t.vertices[0]!.point);\n            ctx.beginPath();\n            ctx.arc(x(t.vertices[0]!.point![0], local), y(t.vertices[0]!.point![1], local), 5, 0, 2 * Math.PI);\n            ctx.closePath();\n            ctx.fill();\n        }\n        if (t.vertices[1] !== undefined) {\n            po.push(t.vertices[1]!.point);\n            ctx.arc(x(t.vertices[1]!.point![0], local), y(t.vertices[1]!.point![1], local), 5, 0, 2 * Math.PI);\n            ctx.closePath();\n            ctx.fill();\n        }\n        if (t.vertices[2] !== undefined) {\n            po.push(t.vertices[2]!.point);\n            ctx.arc(x(t.vertices[2]!.point![0], local), y(t.vertices[2]!.point![1], local), 5, 0, 2 * Math.PI);\n            ctx.closePath();\n            ctx.fill();\n        }\n        if (logs === 2) console.log(\"[T] \", ...po, t.constraints);\n\n        ctx.moveTo(x(t.vertices[0]!.point![0], local), y(t.vertices[0]!.point![1], local));\n        if (t.vertices[0] !== undefined && t.vertices[1] !== undefined)\n            drl(ctx, t.vertices[0]!.point!, t.vertices[1]!.point!, t.constraints[2], local);\n        if (t.vertices[1] !== undefined && t.vertices[2] !== undefined)\n            drl(ctx, t.vertices[1]!.point!, t.vertices[2]!.point!, t.constraints[0], local);\n        if (t.vertices[2] !== undefined && t.vertices[0] !== undefined)\n            drl(ctx, t.vertices[2]!.point!, t.vertices[0]!.point!, t.constraints[1], local);\n    }\n    if (logs > 0) {\n        console.log(`Edges: ${I}/${J}`);\n        console.log(`Faces: ${T}`);\n    }\n}\n\n(<any>window).DP = drawPolygon;\n(<any>window).DPL = drawPolygonL;\n(<any>window).DPT = drawPolygonT;\n","import { render, staticRenderFns } from \"./accordion.vue?vue&type=template&id=0bf2b7ba&scoped=true&\"\nimport script from \"./accordion.vue?vue&type=script&lang=ts&\"\nexport * from \"./accordion.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./accordion.vue?vue&type=style&index=0&id=0bf2b7ba&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bf2b7ba\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool.vue?vue&type=style&index=0&lang=css&\"","import * as tinycolor from \"tinycolor2\";\n\nimport { calcFontScale } from \"@/core/utils\";\nimport { InitiativeData } from \"@/game/comm/types/general\";\nimport { ServerCircularToken } from \"@/game/comm/types/shapes\";\nimport { GlobalPoint } from \"@/game/geom\";\nimport { Circle } from \"@/game/shapes/circle\";\nimport { gameStore } from \"@/game/store\";\nimport { g2l, g2lz } from \"@/game/units\";\n\nexport class CircularToken extends Circle {\n    type = \"circulartoken\";\n    text: string;\n    font: string;\n    constructor(\n        center: GlobalPoint,\n        r: number,\n        text: string,\n        font: string,\n        fillColour?: string,\n        strokeColour?: string,\n        uuid?: string,\n    ) {\n        super(center, r, fillColour, strokeColour, uuid);\n        this.text = text;\n        this.font = font;\n    }\n    asDict(): ServerCircularToken {\n        return Object.assign(this.getBaseDict(), {\n            radius: this.r,\n            text: this.text,\n            font: this.font,\n        });\n    }\n    fromDict(data: ServerCircularToken) {\n        super.fromDict(data);\n        this.r = data.radius;\n        this.text = data.text;\n        this.font = data.font;\n    }\n    draw(ctx: CanvasRenderingContext2D) {\n        super.draw(ctx);\n        ctx.font = this.font;\n        ctx.save();\n        const dest = g2l(this.center());\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = \"middle\";\n        const xs = calcFontScale(ctx, this.text, g2lz(this.r), g2lz(this.r));\n        const ys = 0;\n        ctx.transform(xs, ys, -ys, xs, dest.x, dest.y);\n        ctx.fillStyle = tinycolor.mostReadable(this.fillColour, [\"#000\", \"#fff\"]).toHexString();\n        ctx.fillText(this.text, 0, 0);\n        ctx.restore();\n    }\n    getInitiativeRepr(): InitiativeData {\n        return {\n            uuid: this.uuid,\n            visible: !gameStore.IS_DM,\n            group: false,\n            source: this.name === \"\" || this.name === \"Unknown shape\" ? this.text : this.name,\n            has_img: false,\n            effects: [],\n            index: Infinity,\n        };\n    }\n}\n","import { GlobalPoint, LocalPoint } from \"@/game/geom\";\nimport { Layer } from \"@/game/layers/layer\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { Rect } from \"@/game/shapes/rect\";\nimport { Text } from \"@/game/shapes/text\";\nimport { gameStore } from \"@/game/store\";\nimport { l2g } from \"@/game/units\";\n\nexport class AnnotationManager {\n    annotationText: Text;\n    annotationRect: Rect;\n    layer: Layer | undefined;\n    shown: boolean = false;\n\n    constructor() {\n        const origin = new GlobalPoint(0, 0);\n        this.annotationText = new Text(origin, \"\", \"bold 20px serif\", 0, \"rgba(230, 230, 230, 1)\");\n        this.annotationRect = new Rect(origin, 0, 0, \"rgba(0, 0, 0, 0.6)\");\n    }\n\n    setActiveText(text: string) {\n        if (this.layer === undefined) {\n            if (layerManager.hasLayer(\"draw\")) {\n                this.layer = layerManager.getLayer(\"draw\")!;\n                this.layer.addShape(this.annotationRect, false);\n                this.layer.addShape(this.annotationText, false);\n            } else {\n                console.warn(\"There is no draw layer to draw annotations on!\");\n                return;\n            }\n        }\n        this.shown = text !== \"\";\n        this.annotationText.refPoint = l2g(new LocalPoint(this.layer.canvas.width / 2, 50));\n        this.annotationText.text = text;\n        const width = this.shown ? this.annotationText.getMaxWidth(this.layer.ctx) + 10 : 0;\n        const height = this.shown ? this.annotationText.getMaxHeight(this.layer.ctx) + 10 : 0;\n        this.annotationRect.refPoint = l2g(new LocalPoint(this.layer.canvas.width / 2 - width / 2, 30));\n        this.annotationRect.w = width / gameStore.zoomFactor;\n        this.annotationRect.h = height / gameStore.zoomFactor;\n        this.layer.invalidate(true);\n    }\n}\n","import { render, staticRenderFns } from \"./menu.vue?vue&type=template&id=c7fe324c&scoped=true&\"\nimport script from \"./menu.vue?vue&type=script&lang=ts&\"\nexport * from \"./menu.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./menu.vue?vue&type=style&index=0&id=c7fe324c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c7fe324c\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./contextmenu.vue?vue&type=template&id=256dde9c&\"\nimport script from \"./contextmenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./contextmenu.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./contextmenu.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"visible\":_vm.visible,\"mask\":false},on:{\"close\":function($event){_vm.visible = false}},scopedSlots:_vm._u([{key:\"header\",fn:function(m){return _c('div',{staticClass:\"modal-header\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":m.dragStart,\"dragend\":m.dragEnd}},[_c('div',[_vm._v(\"Label manager\")]),_c('div',{staticClass:\"header-close\",on:{\"click\":function($event){_vm.visible = false}}},[_c('i',{staticClass:\"far fa-window-close\"})])])}}])},[_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"grid\"},[_c('div',{staticClass:\"header\"},[_c('abbr',{attrs:{\"title\":\"Category\"}},[_vm._v(\"Cat.\")])]),_c('div',{staticClass:\"header name\"},[_vm._v(\"Name\")]),_c('div',{staticClass:\"header\"},[_c('abbr',{attrs:{\"title\":\"Visible\"}},[_vm._v(\"Vis.\")])]),_c('div',{staticClass:\"header\"},[_c('abbr',{attrs:{\"title\":\"Delete\"}},[_vm._v(\"Del.\")])]),_c('div',{staticClass:\"separator spanrow\",staticStyle:{\"margin\":\"0 0 7px\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],ref:\"search\",staticClass:\"spanrow\",attrs:{\"type\":\"text\",\"placeholder\":\"search\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}})]),_c('div',{staticClass:\"grid scroll\"},[_vm._l((_vm.categories),function(category){return [_vm._l((_vm.labels[category]),function(label){return [_c('div',{key:'row-'+label.uuid,staticClass:\"row\",on:{\"click\":function($event){return _vm.selectLabel(label.uuid)}}},[(label.category)?[_c('div',{key:'cat-'+label.uuid},[_vm._v(_vm._s(label.category))]),_c('div',{key:'name-'+label.uuid,staticClass:\"name\"},[_vm._v(_vm._s(label.name))])]:_vm._e(),(!label.category)?[_c('div',{key:'cat-'+label.uuid}),_c('div',{key:'name-'+label.uuid,staticClass:\"name\"},[_vm._v(_vm._s(label.name))])]:_vm._e(),_c('div',{key:'visible-'+label.uuid,class:{'lower-opacity': !label.visible},style:({textAlign: 'center'}),on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleVisibility(label)}}},[_c('i',{staticClass:\"fas fa-eye\"})]),_c('div',{key:'delete-'+label.uuid,on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteLabel(label.uuid)}}},[_c('i',{staticClass:\"fas fa-trash-alt\"})])],2)]})]}),(_vm.labels.length === 0)?[_c('div',{attrs:{\"id\":\"no-labels\"}},[_vm._v(\"No labels exist yet\")])]:_vm._e()],2),_c('div',{staticClass:\"grid\"},[_c('div',{staticClass:\"separator spanrow\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.newCategory),expression:\"newCategory\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.newCategory)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newCategory=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.newName),expression:\"newName\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.newName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newName=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('button',{attrs:{\"id\":\"addLabelButton\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.addLabel($event)}}},[_vm._v(\"Add\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./labels.vue?vue&type=template&id=e477c214&scoped=true&\"","import {\n    ServerAsset,\n    ServerCircle,\n    ServerCircularToken,\n    ServerLine,\n    ServerMultiLine,\n    ServerPolygon,\n    ServerRect,\n    ServerShape,\n    ServerText,\n} from \"@/game/comm/types/shapes\";\nimport { GlobalPoint } from \"@/game/geom\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { Asset } from \"@/game/shapes/asset\";\nimport { Circle } from \"@/game/shapes/circle\";\nimport { CircularToken } from \"@/game/shapes/circulartoken\";\nimport { Line } from \"@/game/shapes/line\";\nimport { MultiLine } from \"@/game/shapes/multiline\";\nimport { Rect } from \"@/game/shapes/rect\";\nimport { Shape } from \"@/game/shapes/shape\";\nimport { Text } from \"@/game/shapes/text\";\nimport { Polygon } from \"./polygon\";\n\nexport function createShapeFromDict(shape: ServerShape) {\n    let sh: Shape;\n\n    // A fromJSON and toJSON on Shape would be cleaner but ts does not allow for static abstracts so yeah.\n\n    // Shape Type specifics\n\n    const refPoint = new GlobalPoint(shape.x, shape.y);\n    if (shape.type_ === \"rect\") {\n        const rect = <ServerRect>shape;\n        sh = new Rect(refPoint, rect.width, rect.height, rect.fill_colour, rect.stroke_colour, rect.uuid);\n    } else if (shape.type_ === \"circle\") {\n        const circ = <ServerCircle>shape;\n        sh = new Circle(refPoint, circ.radius, circ.fill_colour, circ.stroke_colour, circ.uuid);\n    } else if (shape.type_ === \"circulartoken\") {\n        const token = <ServerCircularToken>shape;\n        sh = new CircularToken(\n            refPoint,\n            token.radius,\n            token.text,\n            token.font,\n            token.fill_colour,\n            token.stroke_colour,\n            token.uuid,\n        );\n    } else if (shape.type_ === \"line\") {\n        const line = <ServerLine>shape;\n        sh = new Line(refPoint, new GlobalPoint(line.x2, line.y2), line.line_width, line.stroke_colour, line.uuid);\n    } else if (shape.type_ === \"multiline\") {\n        const multiline = <ServerMultiLine>shape;\n        sh = new MultiLine(\n            refPoint,\n            multiline.points.map(p => new GlobalPoint(p.x, p.y)),\n            multiline.line_width,\n            multiline.stroke_colour,\n            multiline.uuid,\n        );\n    } else if (shape.type_ === \"polygon\") {\n        const polygon = <ServerPolygon>shape;\n        sh = new Polygon(\n            refPoint,\n            polygon.vertices.map(v => new GlobalPoint(v.x, v.y)),\n            polygon.fill_colour,\n            polygon.stroke_colour,\n            polygon.uuid,\n        );\n    } else if (shape.type_ === \"text\") {\n        const text = <ServerText>shape;\n        sh = new Text(refPoint, text.text, text.font, text.angle, text.fill_colour, text.stroke_colour, text.uuid);\n    } else if (shape.type_ === \"assetrect\") {\n        const asset = <ServerAsset>shape;\n        const img = new Image(asset.width, asset.height);\n        if (asset.src.startsWith(\"http\")) img.src = new URL(asset.src).pathname;\n        else img.src = asset.src;\n        sh = new Asset(img, refPoint, asset.width, asset.height, asset.uuid);\n        img.onload = () => {\n            layerManager.getLayer(shape.layer)!.invalidate(false);\n        };\n    } else {\n        return undefined;\n    }\n    sh.fromDict(shape);\n    return sh;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dmsettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dmsettings.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=style&index=0&id=1883e207&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=style&index=0&id=1883e207&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('SelectContext',{ref:\"selectcontext\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./select.vue?vue&type=template&id=048b3482&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"visible\":_vm.visible,\"colour\":'rgba(255, 255, 255, 0.8)',\"mask\":false},on:{\"close\":function($event){_vm.visible = false}},scopedSlots:_vm._u([{key:\"header\",fn:function(m){return _c('div',{staticClass:\"modal-header\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":m.dragStart,\"dragend\":m.dragEnd}},[_c('div',[_vm._v(\"DM Settings\")]),_c('div',{staticClass:\"header-close\",on:{\"click\":function($event){_vm.visible = false}}},[_c('i',{staticClass:\"far fa-window-close\"})])])}}])},[_c('div',{staticClass:\"modal-body\",on:{\"click\":_vm.handleClick}},[_c('div',{attrs:{\"id\":\"categories\"}},_vm._l((_vm.categories),function(category,c){return _c('div',{key:category,staticClass:\"category\",class:{'selected': _vm.selection === c},on:{\"click\":function($event){_vm.selection = c}}},[_vm._v(_vm._s(category))])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selection === 0),expression:\"selection === 0\"}],staticClass:\"panel\"},[_c('div',{staticClass:\"spanrow header\"},[_vm._v(\"Players\")]),_vm._l((_vm.$store.state.game.players),function(player){return _c('div',{key:player.id,staticClass:\"row smallrow\"},[_c('div',[_vm._v(_vm._s(player.name))]),_c('div',[_c('div',{on:{\"click\":function($event){return _vm.kickPlayer(player.id)}}},[_vm._v(\"Kick\")])])])}),(Object.values(_vm.$store.state.game.players).length === 0)?_c('div',{staticClass:\"row smallrow\"},[_c('div',{staticClass:\"spanrow\"},[_vm._v(\"There are no players yet, invite some using the link below!\")])]):_vm._e(),_c('div',{staticClass:\"spanrow header\"},[_vm._v(\"Invite code\")]),_c('div',{staticClass:\"row\"},[_c('div',[_vm._v(\"Invitation URL:\")]),(_vm.showRefreshState)?[_c('InputCopyElement',{attrs:{\"value\":_vm.refreshState}})]:[_c('InputCopyElement',{attrs:{\"value\":_vm.invitationUrl}})]],2),_c('div',{staticClass:\"row\",on:{\"click\":_vm.refreshInviteCode}},[_c('div'),_c('div',[_c('button',[_vm._v(\"Refresh invitation code\")])])]),_c('div',{staticClass:\"spanrow header\"},[_vm._v(\"Danger Zone\")]),_c('div',{staticClass:\"row\"},[_c('div',[(_vm.locked)?[_vm._v(\"Unlock\")]:[_vm._v(\"Lock\")],_vm._v(\" Session \"),_c('i',[_vm._v(\"(DM access only)\")])],2),_c('div',[_c('button',{staticClass:\"danger\",on:{\"click\":_vm.toggleSessionLock}},[(_vm.locked)?[_vm._v(\"Unlock\")]:[_vm._v(\"Lock\")],_vm._v(\" this Session\")],2)])]),_c('div',{staticClass:\"row\"},[_c('div',[_vm._v(\"Remove Session\")]),_c('div',[_c('button',{staticClass:\"danger\",on:{\"click\":_vm.deleteSession}},[_vm._v(\"Delete this Session\")])])])],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selection === 1),expression:\"selection === 1\"}],staticClass:\"panel\"},[_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"useGridInput\"}},[_vm._v(\"Use grid\")]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.useGrid),expression:\"useGrid\"}],attrs:{\"id\":\"useGridInput\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.useGrid)?_vm._i(_vm.useGrid,null)>-1:(_vm.useGrid)},on:{\"change\":function($event){var $$a=_vm.useGrid,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.useGrid=$$a.concat([$$v]))}else{$$i>-1&&(_vm.useGrid=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.useGrid=$$c}}}})])]),_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"gridSizeInput\"}},[_vm._v(\"Grid Size (in pixels):\")]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.gridSize),expression:\"gridSize\",modifiers:{\"number\":true}}],attrs:{\"id\":\"gridSizeInput\",\"type\":\"number\",\"min\":\"0\"},domProps:{\"value\":(_vm.gridSize)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.gridSize=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"unitSizeInput\"}},[_vm._v(\"Unit Size (in ft.):\")]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.unitSize),expression:\"unitSize\",modifiers:{\"number\":true}}],attrs:{\"id\":\"unitSizeInput\",\"type\":\"number\"},domProps:{\"value\":(_vm.unitSize)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.unitSize=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selection === 2),expression:\"selection === 2\"}],staticClass:\"panel\"},[_c('div',{staticClass:\"spanrow header\"},[_vm._v(\"Core\")]),_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"fakePlayerInput\"}},[_vm._v(\"Fake player:\")]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fakePlayer),expression:\"fakePlayer\"}],attrs:{\"id\":\"fakePlayerInput\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.fakePlayer)?_vm._i(_vm.fakePlayer,null)>-1:(_vm.fakePlayer)},on:{\"change\":function($event){var $$a=_vm.fakePlayer,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.fakePlayer=$$a.concat([$$v]))}else{$$i>-1&&(_vm.fakePlayer=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.fakePlayer=$$c}}}})])]),_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"useFOWInput\"}},[_vm._v(\"Fill entire canvas with FOW:\")]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fullFOW),expression:\"fullFOW\"}],attrs:{\"id\":\"useFOWInput\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.fullFOW)?_vm._i(_vm.fullFOW,null)>-1:(_vm.fullFOW)},on:{\"change\":function($event){var $$a=_vm.fullFOW,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.fullFOW=$$a.concat([$$v]))}else{$$i>-1&&(_vm.fullFOW=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.fullFOW=$$c}}}})])]),_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"fowLOS\"}},[_vm._v(\"Only show lights in LoS:\")]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fowLOS),expression:\"fowLOS\"}],attrs:{\"id\":\"fowLOS\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.fowLOS)?_vm._i(_vm.fowLOS,null)>-1:(_vm.fowLOS)},on:{\"change\":function($event){var $$a=_vm.fowLOS,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.fowLOS=$$a.concat([$$v]))}else{$$i>-1&&(_vm.fowLOS=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.fowLOS=$$c}}}})])]),_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"fowOpacity\"}},[_vm._v(\"FOW opacity:\")]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.fowOpacity),expression:\"fowOpacity\",modifiers:{\"number\":true}}],attrs:{\"id\":\"fowOpacity\",\"type\":\"number\",\"min\":\"0\",\"max\":\"1\",\"step\":\"0.1\"},domProps:{\"value\":(_vm.fowOpacity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.fowOpacity=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"spanrow header\"},[_vm._v(\"Advanced\")]),_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"visionMode\"}},[_vm._v(\"Vision Mode:\")]),_c('div',[_c('select',{attrs:{\"id\":\"visionMode\"},on:{\"change\":_vm.changeVisionMode}},[_c('option',{domProps:{\"selected\":_vm.$store.state.game.visionMode === 'bvh'}},[_vm._v(\"BVH\")]),_c('option',{domProps:{\"selected\":_vm.$store.state.game.visionMode === 'triangle'}},[_vm._v(\"Triangle\")])])])]),_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"vmininp\"}},[_vm._v(\"Minimal full vision (ft):\")]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy.number\",value:(_vm.visionRangeMin),expression:\"visionRangeMin\",modifiers:{\"lazy\":true,\"number\":true}}],attrs:{\"id\":\"vmininp\",\"type\":\"number\",\"min\":\"0\"},domProps:{\"value\":(_vm.visionRangeMin)},on:{\"change\":function($event){_vm.visionRangeMin=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"vmaxinp\"}},[_vm._v(\"Maximal vision (ft):\")]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy.number\",value:(_vm.visionRangeMax),expression:\"visionRangeMax\",modifiers:{\"lazy\":true,\"number\":true}}],attrs:{\"id\":\"vmaxinp\",\"type\":\"number\",\"min\":\"0\"},domProps:{\"value\":(_vm.visionRangeMax)},on:{\"change\":function($event){_vm.visionRangeMax=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dmsettings.vue?vue&type=template&id=b908e87c&scoped=true&\"","import tinycolor from \"tinycolor2\";\n\nimport { uuidv4 } from \"@/core/utils\";\nimport { socket } from \"@/game/api/socket\";\nimport { aurasFromServer, aurasToServer } from \"@/game/comm/conversion/aura\";\nimport { InitiativeData } from \"@/game/comm/types/general\";\nimport { ServerShape } from \"@/game/comm/types/shapes\";\nimport { GlobalPoint, LocalPoint, Vector } from \"@/game/geom\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { BoundingRect } from \"@/game/shapes/boundingrect\";\nimport { gameStore } from \"@/game/store\";\nimport { g2l, g2lr, g2lx, g2ly, g2lz } from \"@/game/units\";\n\nexport abstract class Shape {\n    // Used to create class instance from server shape data\n    abstract readonly type: string;\n    // The unique ID of this shape\n    readonly uuid: string;\n    // The layer the shape is currently on\n    layer!: string;\n\n    // A reference point regarding that specific shape's structure\n    protected _refPoint: GlobalPoint;\n\n    // Fill colour of the shape\n    fillColour: string = \"#000\";\n    strokeColour: string = \"rgba(0,0,0,0)\";\n    // The optional name associated with the shape\n    name = \"Unknown shape\";\n    nameVisible = true;\n\n    // Associated trackers/auras/owners\n    trackers: Tracker[] = [];\n    auras: Aura[] = [];\n    labels: Label[] = [];\n    protected _owners: string[] = [];\n\n    // Block light sources\n    visionObstruction = false;\n    // Prevent shapes from overlapping with this shape\n    movementObstruction = false;\n    // Does this shape represent a playable token\n    isToken = false;\n    // Show a highlight box\n    showHighlight = false;\n\n    // Mouseover annotation\n    annotation: string = \"\";\n\n    // Draw modus to use\n    globalCompositeOperation: string = \"source-over\";\n\n    // Additional options for specialized uses\n    options: Map<string, any> = new Map();\n\n    constructor(refPoint: GlobalPoint, fillColour?: string, strokeColour?: string, uuid?: string) {\n        this._refPoint = refPoint;\n        this.uuid = uuid || uuidv4();\n        if (fillColour !== undefined) this.fillColour = fillColour;\n        if (strokeColour !== undefined) this.strokeColour = strokeColour;\n    }\n\n    get refPoint() {\n        return this._refPoint;\n    }\n    set refPoint(point: GlobalPoint) {\n        this._refPoint = point;\n    }\n\n    abstract getBoundingBox(): BoundingRect;\n\n    // If inWorldCoord is\n    abstract contains(point: GlobalPoint): boolean;\n\n    abstract center(): GlobalPoint;\n    abstract center(centerPoint: GlobalPoint): void;\n    visibleInCanvas(canvas: HTMLCanvasElement): boolean {\n        // for (const aura of this.auras) {\n        //     if (aura.value > 0) {\n        //         const auraCircle = new Circle(this.center(), aura.value);\n        //         if (auraCircle.visibleInCanvas(canvas)) return true;\n        //     }\n        // }\n        return false;\n    }\n\n    // Code to snap a shape to the grid\n    // This is shape dependent as the shape refPoints are shape specific in\n    abstract snapToGrid(): void;\n    abstract resizeToGrid(): void;\n    abstract resize(resizePoint: number, point: LocalPoint): void;\n\n    abstract get points(): number[][];\n\n    getPointIndex(p: GlobalPoint, delta = 0): number {\n        for (const [idx, point] of this.points.entries()) {\n            if (Math.abs(p.x - point[0]) <= delta && Math.abs(p.y - point[1]) <= delta) return idx;\n        }\n        return -1;\n    }\n\n    getPointOrientation(i: number): Vector {\n        const prev = GlobalPoint.fromArray(this.points[(this.points.length + i - 1) % this.points.length]);\n        const point = GlobalPoint.fromArray(this.points[i]);\n        const next = GlobalPoint.fromArray(this.points[(i + 1) % this.points.length]);\n        const vec = next.subtract(prev);\n        const mid = prev.add(vec.multiply(0.5));\n        return point.subtract(mid).normalize();\n    }\n\n    invalidate(skipLightUpdate: boolean) {\n        const l = layerManager.getLayer(this.layer);\n        if (l) l.invalidate(skipLightUpdate);\n    }\n\n    checkVisionSources(recalculate = true) {\n        const self = this;\n        const obstructionIndex = gameStore.visionBlockers.indexOf(this.uuid);\n        let update = false;\n        if (this.visionObstruction && obstructionIndex === -1) {\n            gameStore.visionBlockers.push(this.uuid);\n            update = true;\n        } else if (!this.visionObstruction && obstructionIndex >= 0) {\n            gameStore.visionBlockers.splice(obstructionIndex, 1);\n            update = true;\n        }\n        if (update && recalculate) gameStore.recalculateVision();\n\n        // Check if the visionsource auras are in the gameManager\n        this.auras.forEach(au => {\n            const ls = gameStore.visionSources;\n            const i = ls.findIndex(o => o.aura === au.uuid);\n            if (au.visionSource && i === -1) {\n                ls.push({ shape: self.uuid, aura: au.uuid });\n            } else if (!au.visionSource && i >= 0) {\n                ls.splice(i, 1);\n            }\n        });\n        // Check if anything in the gameManager referencing this shape is in fact still a visionsource\n        for (let i = gameStore.visionSources.length - 1; i >= 0; i--) {\n            const ls = gameStore.visionSources[i];\n            if (ls.shape === self.uuid) {\n                if (!self.auras.some(a => a.uuid === ls.aura && a.visionSource)) gameStore.visionSources.splice(i, 1);\n            }\n        }\n    }\n\n    setMovementBlock(blocksMovement: boolean, recalculate = true) {\n        this.movementObstruction = blocksMovement || false;\n        const obstructionIndex = gameStore.movementblockers.indexOf(this.uuid);\n        let update = false;\n        if (this.movementObstruction && obstructionIndex === -1) {\n            gameStore.movementblockers.push(this.uuid);\n            update = true;\n        } else if (!this.movementObstruction && obstructionIndex >= 0) {\n            gameStore.movementblockers.splice(obstructionIndex, 1);\n            update = true;\n        }\n        if (update && recalculate) gameStore.recalculateMovement();\n    }\n\n    setIsToken(isToken: boolean) {\n        this.isToken = isToken;\n        if (this.ownedBy()) {\n            const i = gameStore.ownedtokens.indexOf(this.uuid);\n            if (this.isToken && i === -1) gameStore.ownedtokens.push(this.uuid);\n            else if (!this.isToken && i >= 0) gameStore.ownedtokens.splice(i, 1);\n        }\n    }\n\n    abstract asDict(): ServerShape;\n    getBaseDict(): ServerShape {\n        return {\n            type_: this.type,\n            uuid: this.uuid,\n            x: this.refPoint.x,\n            y: this.refPoint.y,\n            layer: this.layer,\n            draw_operator: this.globalCompositeOperation,\n            movement_obstruction: this.movementObstruction,\n            vision_obstruction: this.visionObstruction,\n            auras: aurasToServer(this.auras),\n            trackers: this.trackers,\n            labels: this.labels,\n            owners: this._owners,\n            fill_colour: this.fillColour,\n            stroke_colour: this.strokeColour,\n            name: this.name,\n            name_visible: this.nameVisible,\n            annotation: this.annotation,\n            is_token: this.isToken,\n            options: JSON.stringify([...this.options]),\n        };\n    }\n    fromDict(data: ServerShape) {\n        this.layer = data.layer;\n        this.globalCompositeOperation = data.draw_operator;\n        this.movementObstruction = data.movement_obstruction;\n        this.visionObstruction = data.vision_obstruction;\n        this.auras = aurasFromServer(data.auras);\n        this.trackers = data.trackers;\n        this.labels = data.labels;\n        this._owners = data.owners;\n        this.isToken = data.is_token;\n        this.nameVisible = data.name_visible;\n        if (data.annotation) this.annotation = data.annotation;\n        if (data.name) this.name = data.name;\n        if (data.options) this.options = new Map(JSON.parse(data.options));\n    }\n\n    draw(ctx: CanvasRenderingContext2D) {\n        if (this.globalCompositeOperation !== undefined) ctx.globalCompositeOperation = this.globalCompositeOperation;\n        else ctx.globalCompositeOperation = \"source-over\";\n        if (this.showHighlight) {\n            const bbox = this.getBoundingBox();\n            ctx.strokeStyle = \"red\";\n            ctx.strokeRect(g2lx(bbox.topLeft.x) - 5, g2ly(bbox.topLeft.y) - 5, g2lz(bbox.w) + 10, g2lz(bbox.h) + 10);\n        }\n    }\n\n    drawAuras(ctx: CanvasRenderingContext2D) {\n        for (const aura of this.auras) {\n            if (aura.value === 0 && aura.dim === 0) return;\n            ctx.beginPath();\n\n            const loc = g2l(this.center());\n            const innerRange = g2lr(aura.value + aura.dim);\n\n            if (aura.dim === 0) ctx.fillStyle = aura.colour;\n            else {\n                const gradient = ctx.createRadialGradient(\n                    loc.x,\n                    loc.y,\n                    g2lr(aura.value),\n                    loc.x,\n                    loc.y,\n                    g2lr(aura.value + aura.dim),\n                );\n                const tc = tinycolor(aura.colour);\n                ctx.fillStyle = gradient;\n                gradient.addColorStop(0, aura.colour);\n                gradient.addColorStop(1, tc.setAlpha(0).toRgbString());\n            }\n            if (!aura.visionSource || aura.lastPath === undefined) {\n                ctx.arc(loc.x, loc.y, innerRange, 0, 2 * Math.PI);\n                ctx.fill();\n            } else {\n                try {\n                    ctx.fill(aura.lastPath);\n                } catch (e) {\n                    ctx.arc(loc.x, loc.y, innerRange, 0, 2 * Math.PI);\n                    ctx.fill();\n                    console.warn(e);\n                }\n            }\n        }\n    }\n\n    getInitiativeRepr(): InitiativeData {\n        return {\n            uuid: this.uuid,\n            visible: !gameStore.IS_DM,\n            group: false,\n            source: this.name,\n            has_img: false,\n            effects: [],\n            index: Infinity,\n        };\n    }\n\n    moveLayer(layer: string, sync: boolean) {\n        const oldLayer = layerManager.getLayer(this.layer);\n        const newLayer = layerManager.getLayer(layer);\n        if (oldLayer === undefined || newLayer === undefined) return;\n        this.layer = layer;\n        // Update layer shapes\n        oldLayer.shapes.splice(oldLayer.shapes.indexOf(this), 1);\n        newLayer.shapes.push(this);\n        // Revalidate layers  (light should at most be redone once)\n        oldLayer.invalidate(true);\n        newLayer.invalidate(false);\n        // Sync!\n        if (sync) socket.emit(\"Shape.Layer.Change\", { uuid: this.uuid, layer });\n    }\n\n    get owners() {\n        return Object.freeze(this._owners.slice());\n    }\n\n    ownedBy(username?: string) {\n        if (username === undefined) username = gameStore.username;\n        return gameStore.IS_DM || this._owners.includes(username) || (gameStore.FAKE_PLAYER && gameStore.activeTokens.includes(this.uuid));\n    }\n\n    addOwner(owner: string) {\n        if (!this._owners.includes(owner)) this._owners.push(owner);\n    }\n\n    updateOwner(oldValue: string, newValue: string) {\n        const ownerIndex = this._owners.findIndex(o => o === oldValue);\n        if (ownerIndex >= 0) this._owners.splice(ownerIndex, 1, newValue);\n        else this.addOwner(newValue);\n    }\n\n    removeOwner(owner: string) {\n        const ownerIndex = this._owners.findIndex(o => o === owner);\n        this._owners.splice(ownerIndex, 1);\n    }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./prompt.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./prompt.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"menuContainer\"}},[_c('div',{ref:\"rm\",style:({\n            left: _vm.visible.settings ? '200px' : '0',\n            top: _vm.visible.locations ? '100px' : '0'\n        }),attrs:{\"id\":\"radialmenu\"}},[_c('div',{staticClass:\"rm-wrapper\"},[_c('div',{staticClass:\"rm-toggler\"},[_c('ul',{staticClass:\"rm-list\",class:{ 'rm-list-dm': _vm.IS_DM }},[(_vm.IS_DM)?_c('li',{staticClass:\"rm-item\",attrs:{\"id\":\"rm-locations\"},on:{\"click\":function($event){_vm.visible.locations = !_vm.visible.locations}}},[_vm._m(0)]):_vm._e(),_c('li',{staticClass:\"rm-item\",attrs:{\"id\":\"rm-settings\"},on:{\"click\":function($event){_vm.visible.settings = !_vm.visible.settings}}},[_vm._m(1)])])]),_vm._m(2)])]),_c('transition',{attrs:{\"name\":\"settings\"},on:{\"enter\":function($event){_vm.$refs.rm.style.transition = 'left 500ms'}}},[(_vm.visible.settings)?_c('div',{ref:\"settings\",attrs:{\"id\":\"menu\"},on:{\"click\":_vm.settingsClick}},[_c('div',{staticStyle:{\"width\":\"200px\",\"height\":\"90%\",\"overflow-y\":\"auto\",\"overflow-x\":\"hidden\"}},[(_vm.IS_DM)?[_c('button',{staticClass:\"menu-accordion\"},[_vm._v(\"Assets\")]),_c('div',{staticClass:\"menu-accordion-panel\"},[_c('a',{staticClass:\"actionButton\",attrs:{\"href\":\"/assets\",\"target\":\"blank\",\"title\":\"Open asset manager\"}},[_c('i',{staticClass:\"fas fa-external-link-alt\"})]),_c('div',{staticClass:\"directory\",attrs:{\"id\":\"menu-tokens\"}},[_c('asset-node',{attrs:{\"asset\":_vm.assets}}),(!_vm.assets)?_c('div',[_vm._v(\"No assets\")]):_vm._e()],1)]),_c('button',{staticClass:\"menu-accordion\"},[_vm._v(\"Notes\")]),_c('div',{staticClass:\"menu-accordion-panel\"},[_c('div',{staticClass:\"menu-accordion-subpanel\",attrs:{\"id\":\"menu-notes\"}},[_c('a',{staticClass:\"actionButton\",on:{\"click\":_vm.createNote}},[_c('i',{staticClass:\"far fa-plus-square\"})]),_vm._l((_vm.notes),function(note){return _c('div',{key:note.uuid,staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.openNote(note)}}},[_vm._v(_vm._s(note.title || \"[?]\"))])}),(!_vm.notes.length)?_c('div',[_vm._v(\"No notes\")]):_vm._e()],2)]),_c('button',{staticClass:\"menu-accordion\",on:{\"click\":_vm.openDmSettings}},[_vm._v(\"DM Options\")])]:_vm._e(),_c('button',{staticClass:\"menu-accordion\"},[_vm._v(\"Client Options\")]),_c('div',{staticClass:\"menu-accordion-panel\"},[_c('div',{staticClass:\"menu-accordion-subpanel\"},[_c('label',{attrs:{\"for\":\"gridColour\"}},[_vm._v(\"Grid Colour:\")]),_c('color-picker',{attrs:{\"id\":\"gridColour\",\"color\":_vm.gridColour},on:{\"update:color\":function($event){_vm.gridColour=$event}}}),_c('label',{attrs:{\"for\":\"fowColour\"}},[_vm._v(\"FOW Colour:\")]),_c('color-picker',{attrs:{\"id\":\"fowColour\",\"color\":_vm.fowColour},on:{\"update:color\":function($event){_vm.fowColour=$event}}}),_c('label',{attrs:{\"for\":\"rulerColour\"}},[_vm._v(\"Ruler Colour:\")]),_c('color-picker',{attrs:{\"id\":\"rulerColour\",\"color\":_vm.rulerColour},on:{\"update:color\":function($event){_vm.rulerColour=$event}}})],1)])],2),_c('router-link',{staticClass:\"menu-accordion\",staticStyle:{\"text-decoration\":\"none\",\"display\":\"inline-block\",\"position\":\"absolute\",\"bottom\":\"0\"},attrs:{\"to\":\"/dashboard\"}},[_vm._v(\"Exit\")])],1):_vm._e()]),_c('transition',{attrs:{\"name\":\"locations\"},on:{\"enter\":function($event){_vm.$refs.rm.style.transition = 'top 500ms'}}},[(_vm.IS_DM && _vm.visible.locations)?_c('div',{attrs:{\"id\":\"locations-menu\"}},[_c('div',[_vm._l((_vm.locations),function(location){return _c('div',{key:location,on:{\"click\":function($event){return _vm.changeLocation(location)}}},[_vm._v(_vm._s(location))])}),_c('div',{on:{\"click\":_vm.createLocation}},[_c('i',{staticClass:\"fas fa-plus\"})])],2)]):_vm._e()]),_c('img',{attrs:{\"id\":\"dragImage\"}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"far fa-compass\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fas fa-cog\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"rm-topper\"},[_c('i',{staticClass:\"icon-share-alt\"})])}]\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=template&id=c7fe324c&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.note !== null)?_c('modal',{attrs:{\"visible\":_vm.visible,\"mask\":false},on:{\"close\":function($event){_vm.visible = false}},scopedSlots:_vm._u([{key:\"header\",fn:function(m){return _c('div',{staticClass:\"modal-header\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":m.dragStart,\"dragend\":m.dragEnd}},[_c('span',{on:{\"click\":function($event){return _vm.$refs.title.select()}}},[_c('i',{staticClass:\"fas fa-pencil-alt\",staticStyle:{\"font-size\":\"15px\"}})]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.note.title),expression:\"note.title\"}],ref:\"title\",domProps:{\"value\":(_vm.note.title)},on:{\"change\":_vm.updateNote,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.note, \"title\", $event.target.value)}}}),_c('div',{staticClass:\"header-close\",on:{\"click\":function($event){_vm.visible = false}}},[_c('i',{staticClass:\"far fa-window-close\"})])])}}],null,false,1320213373)},[_c('div',{staticClass:\"modal-body\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.note.text),expression:\"note.text\"}],ref:\"textarea\",style:({'height': _vm.calcHeight()}),domProps:{\"value\":(_vm.note.text)},on:{\"change\":_vm.updateNote,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.note, \"text\", $event.target.value)}}})]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{on:{\"click\":_vm.removeNote}},[_c('i',{staticClass:\"far fa-trash-alt\"}),_vm._v(\" Remove\\n    \")])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=template&id=7a3669fd&scoped=true&\"","\n\n\n\n\nimport Component from \"vue-class-component\";\n\nimport SelectContext from \"@/game/ui/tools/selectcontext.vue\";\nimport Tool from \"@/game/ui/tools/tool.vue\";\nimport SelectionInfo from \"../selection/selection_info.vue\";\n\nimport { getRef } from \"@/core/utils\";\nimport { socket } from \"@/game/api/socket\";\nimport { GlobalPoint, LocalPoint, Ray, Vector } from \"@/game/geom\";\nimport { Layer } from \"@/game/layers/layer\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { Rect } from \"@/game/shapes/rect\";\nimport { gameStore } from \"@/game/store\";\nimport { calculateDelta } from \"@/game/ui/tools/utils\";\nimport { g2l, g2lr, g2lx, g2ly, g2lz, l2g, l2gz } from \"@/game/units\";\nimport { getMouse } from \"@/game/utils\";\n\nexport enum SelectOperations {\n    Noop,\n    Resize,\n    Drag,\n    GroupSelect,\n}\n\nconst start = new GlobalPoint(-1000, -1000);\n\n@Component({\n    components: {\n        SelectContext,\n    },\n})\nexport default class SelectTool extends Tool {\n    name = \"Select\";\n    showContextMenu = false;\n    active = false;\n\n    mode = SelectOperations.Noop;\n    resizePoint = 0;\n    deltaChanged = false;\n    // Because we never drag from the asset's (0, 0) coord and want a smoother drag experience\n    // we keep track of the actual offset within the asset.\n    dragRay = new Ray<LocalPoint>(new LocalPoint(0, 0), new Vector(0, 0));\n    selectionStartPoint = start;\n    selectionHelper = new Rect(start, 0, 0);\n    created() {\n        this.selectionHelper.globalCompositeOperation = \"source-over\";\n    }\n    onMouseDown(event: MouseEvent) {\n        const layer = layerManager.getLayer();\n        if (layer === undefined) {\n            console.log(\"No active layer!\");\n            return;\n        }\n\n        if (!this.selectionHelper.owners.includes(gameStore.username)) {\n            this.selectionHelper.addOwner(gameStore.username);\n        }\n\n        const mouse = getMouse(event);\n        const globalMouse = l2g(mouse);\n\n        let hit = false;\n        // The selectionStack allows for lower positioned objects that are selected to have precedence during overlap.\n        let selectionStack;\n        if (!layer.selection.length) selectionStack = layer.shapes;\n        else selectionStack = layer.shapes.concat(layer.selection);\n        for (let i = selectionStack.length - 1; i >= 0; i--) {\n            const shape = selectionStack[i];\n\n            this.resizePoint = shape.getPointIndex(globalMouse, l2gz(3));\n\n            // Resize case, a corner is selected\n            if (this.resizePoint >= 0) {\n                layer.selection = [shape];\n                getRef<SelectionInfo>(\"selectionInfo\").shape = shape;\n                this.mode = SelectOperations.Resize;\n                layer.invalidate(true);\n                hit = true;\n                break;\n\n                // Drag case, a shape is selected\n            } else if (shape.contains(globalMouse)) {\n                const selection = shape;\n                if (layer.selection.indexOf(selection) === -1) {\n                    layer.selection = [selection];\n                    getRef<SelectionInfo>(\"selectionInfo\").shape = selection;\n                }\n                this.mode = SelectOperations.Drag;\n                const localRefPoint = g2l(selection.refPoint);\n                this.dragRay = new Ray<LocalPoint>(localRefPoint, mouse.subtract(localRefPoint));\n                layer.invalidate(true);\n                hit = true;\n                break;\n            }\n        }\n\n        // GroupSelect case, draw a selection box to select multiple shapes\n        if (!hit) {\n            this.mode = SelectOperations.GroupSelect;\n            for (const selection of layer.selection) getRef<SelectionInfo>(\"selectionInfo\").shape = selection;\n\n            this.selectionStartPoint = globalMouse;\n\n            this.selectionHelper.refPoint = this.selectionStartPoint;\n            this.selectionHelper.w = 0;\n            this.selectionHelper.h = 0;\n\n            layer.selection = [this.selectionHelper];\n            layer.invalidate(true);\n        }\n        this.active = true;\n    }\n    onMouseMove(event: MouseEvent) {\n        // if (!this.active) return;   we require mousemove for the resize cursor\n        const layer = layerManager.getLayer();\n        if (layer === undefined) {\n            console.log(\"No active layer!\");\n            return;\n        }\n        const mouse = getMouse(event);\n        const globalMouse = l2g(mouse);\n        this.deltaChanged = false;\n\n        if (this.mode === SelectOperations.GroupSelect) {\n            // Currently draw on active layer\n            const endPoint = globalMouse;\n\n            this.selectionHelper.w = Math.abs(endPoint.x - this.selectionStartPoint.x);\n            this.selectionHelper.h = Math.abs(endPoint.y - this.selectionStartPoint.y);\n            this.selectionHelper.refPoint = new GlobalPoint(\n                Math.min(this.selectionStartPoint.x, endPoint.x),\n                Math.min(this.selectionStartPoint.y, endPoint.y),\n            );\n            layer.invalidate(true);\n        } else if (layer.selection.length) {\n            const og = g2l(layer.selection[layer.selection.length - 1].refPoint);\n            const origin = og.add(this.dragRay.direction);\n            let delta = mouse.subtract(origin).multiply(1 / gameStore.zoomFactor);\n            const ogDelta = delta;\n            if (this.mode === SelectOperations.Drag) {\n                // If we are on the tokens layer do a movement block check.\n                if (layer.name === \"tokens\" && !(event.shiftKey && gameStore.IS_DM)) {\n                    for (const sel of layer.selection) {\n                        if (!sel.ownedBy()) continue;\n                        if (sel.uuid === this.selectionHelper.uuid) continue; // the selection helper should not be treated as a real shape.\n                        delta = calculateDelta(delta, sel);\n                        if (delta !== ogDelta) this.deltaChanged = true;\n                    }\n                }\n                // Actually apply the delta on all shapes\n                for (const sel of layer.selection) {\n                    if (!sel.ownedBy()) continue;\n                    sel.refPoint = sel.refPoint.add(delta);\n                    if (sel !== this.selectionHelper) {\n                        if (sel.visionObstruction) gameStore.recalculateVision(true);\n                        socket.emit(\"Shape.Update\", { shape: sel.asDict(), redraw: true, temporary: true });\n                    }\n                }\n                layer.invalidate(false);\n            } else if (this.mode === SelectOperations.Resize) {\n                for (const sel of layer.selection) {\n                    if (!sel.ownedBy()) continue;\n                    sel.resize(this.resizePoint, mouse);\n                    if (sel !== this.selectionHelper) {\n                        if (sel.visionObstruction) gameStore.recalculateVision(true);\n                        socket.emit(\"Shape.Update\", { shape: sel.asDict(), redraw: true, temporary: true });\n                    }\n                    layer.invalidate(false);\n                    this.updateCursor(layer, globalMouse);\n                }\n            } else {\n                this.updateCursor(layer, globalMouse);\n            }\n        } else {\n            document.body.style.cursor = \"default\";\n        }\n    }\n    onMouseUp(e: MouseEvent): void {\n        if (!this.active) return;\n        if (layerManager.getLayer() === undefined) {\n            console.log(\"No active layer!\");\n            return;\n        }\n        const layer = layerManager.getLayer()!;\n\n        if (this.mode === SelectOperations.GroupSelect) {\n            layer.clearSelection();\n            layer.shapes.forEach(shape => {\n                if (!shape.ownedBy()) return;\n                if (shape === this.selectionHelper) return;\n                const bbox = shape.getBoundingBox();\n                if (!shape.ownedBy()) return;\n                if (\n                    this.selectionHelper!.refPoint.x <= bbox.topRight.x &&\n                    this.selectionHelper!.refPoint.x + this.selectionHelper!.w >= bbox.topLeft.x &&\n                    this.selectionHelper!.refPoint.y <= bbox.botLeft.y &&\n                    this.selectionHelper!.refPoint.y + this.selectionHelper!.h >= bbox.topLeft.y\n                ) {\n                    layer.selection.push(shape);\n                }\n            });\n\n            // Push the selection helper as the last element of the selection\n            // This makes sure that it will be the first one to be hit in the hit detection onMouseDown\n            if (layer.selection.length > 0) layer.selection.push(this.selectionHelper);\n\n            layer.invalidate(true);\n        } else if (layer.selection.length) {\n            layer.selection.forEach(sel => {\n                if (!sel.ownedBy()) return;\n                if (this.mode === SelectOperations.Drag) {\n                    if (\n                        this.dragRay.origin!.x === g2lx(sel.refPoint.x) &&\n                        this.dragRay.origin!.y === g2ly(sel.refPoint.y)\n                    )\n                        return;\n\n                    if (gameStore.useGrid && !e.altKey && !this.deltaChanged) {\n                        sel.snapToGrid();\n                    }\n\n                    if (sel !== this.selectionHelper) {\n                        if (sel.visionObstruction) gameStore.recalculateVision();\n                        if (sel.movementObstruction) gameStore.recalculateMovement();\n                        socket.emit(\"Shape.Update\", { shape: sel.asDict(), redraw: true, temporary: false });\n                    }\n                    layer.invalidate(false);\n                }\n                if (this.mode === SelectOperations.Resize) {\n                    if (gameStore.useGrid && !e.altKey) {\n                        sel.resizeToGrid();\n                    }\n                    if (sel !== this.selectionHelper) {\n                        if (sel.visionObstruction) gameStore.recalculateVision();\n                        if (sel.movementObstruction) gameStore.recalculateMovement();\n                        socket.emit(\"Shape.Update\", { shape: sel.asDict(), redraw: true, temporary: false });\n                    }\n                    layer.invalidate(false);\n                }\n            });\n        }\n        this.mode = SelectOperations.Noop;\n        this.active = false;\n    }\n    onContextMenu(event: MouseEvent) {\n        if (layerManager.getLayer() === undefined) {\n            console.log(\"No active layer!\");\n            return;\n        }\n        const layer = layerManager.getLayer()!;\n        const mouse = getMouse(event);\n        const globalMouse = l2g(mouse);\n\n        for (const shape of layer.selection) {\n            if (shape.contains(globalMouse) && shape !== this.selectionHelper) {\n                layer.selection = [shape];\n                getRef<SelectionInfo>(\"selectionInfo\").shape = shape;\n                layer.invalidate(true);\n                (<any>this.$parent.$refs.shapecontext).open(event, shape);\n                return;\n            }\n        }\n        (<any>this.$refs.selectcontext).open(event);\n    }\n    updateCursor(layer: Layer, globalMouse: GlobalPoint) {\n        for (const sel of layer.selection) {\n            const resizePoint = sel.getPointIndex(globalMouse, l2gz(3));\n            if (resizePoint < 0) document.body.style.cursor = \"default\";\n            else {\n                let angle = sel.getPointOrientation(resizePoint).angle();\n                if (angle < 0) angle += 360;\n                const d = 45 / 2;\n                if (angle >= 315 + d || angle < d || (angle >= 135 + d && angle < 225 - d))\n                    document.body.style.cursor = \"ew-resize\";\n                if ((angle >= 45 + d && angle < 135 - d) || (angle >= 225 + d && angle < 315 - d))\n                    document.body.style.cursor = \"ns-resize\";\n                if ((angle >= d && angle < 90 - d) || (angle >= 180 + d && angle < 270 - d))\n                    document.body.style.cursor = \"nwse-resize\";\n                if ((angle >= 90 + d && angle < 180 - d) || (angle >= 270 + d && angle < 360 - d))\n                    document.body.style.cursor = \"nesw-resize\";\n            }\n        }\n    }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport { mapState } from \"vuex\";\n\nimport InputCopyElement from \"@/core/components/inputCopy.vue\";\nimport Modal from \"@/core/components/modals/modal.vue\";\nimport Prompt from '../../core/components/modals/prompt.vue';\n\nimport { getRef, uuidv4 } from \"@/core/utils\";\nimport { socket } from \"@/game/api/socket\";\nimport { EventBus } from \"@/game/event-bus\";\nimport { gameStore } from \"@/game/store\";\nimport { layerManager } from \"../layers/manager\";\n\n@Component({\n    components: {\n        InputCopyElement,\n        Modal,\n    },\n    computed: {\n        ...mapState(\"game\", [\"invitationCode\"]),\n    },\n})\nexport default class DmSettings extends Vue {\n    visible = false;\n    categories = [\"Admin\", \"Grid\", \"Vision\"];\n    selection = 0;\n\n    showRefreshState = false;\n    refreshState = \"pending\";\n\n    mounted() {\n        EventBus.$on(\"DmSettings.Open\", () => {\n            this.visible = true;\n        });\n        EventBus.$on(\"DmSettings.RefreshedInviteCode\", () => {\n            this.showRefreshState = false;\n        });\n    }\n\n    beforeDestroy() {\n        EventBus.$off(\"DmSettings.Open\");\n        EventBus.$off(\"DmSettings.RefreshedInviteCode\");\n    }\n\n    // Admin\n    get invitationUrl(): string {\n        return window.location.protocol + '//' + window.location.host + '/invite/' + gameStore.invitationCode;\n    }\n    get locked(): boolean {\n        return gameStore.isLocked;\n    }\n    // Grid\n    get useGrid(): boolean {\n        return gameStore.useGrid;\n    }\n    set useGrid(value: boolean) {\n        gameStore.setUseGrid({ useGrid: value, sync: true });\n    }\n    get unitSize(): number {\n        return gameStore.unitSize;\n    }\n    set unitSize(value: number) {\n        if (typeof value !== \"number\") return;\n        gameStore.setUnitSize({ unitSize: value, sync: true });\n    }\n    get gridSize(): number {\n        return gameStore.gridSize;\n    }\n    set gridSize(value: number) {\n        if (typeof value !== \"number\") return;\n        gameStore.setGridSize({ gridSize: value, sync: true });\n    }\n    // Vision\n    get fakePlayer(): boolean {\n        return gameStore.FAKE_PLAYER;\n    }\n    set fakePlayer(value: boolean) {\n        gameStore.setFakePlayer(value);\n    }\n    get fullFOW(): boolean {\n        return gameStore.fullFOW;\n    }\n    set fullFOW(value: boolean) {\n        gameStore.setFullFOW({ fullFOW: value, sync: true });\n    }\n    get fowOpacity(): number {\n        return gameStore.fowOpacity;\n    }\n    set fowOpacity(value: number) {\n        if (typeof value !== \"number\") return;\n        gameStore.setFOWOpacity({ fowOpacity: value, sync: true });\n    }\n    get fowLOS(): boolean {\n        return gameStore.fowLOS;\n    }\n    set fowLOS(value: boolean) {\n        gameStore.setLineOfSight({ fowLOS: value, sync: true });\n    }\n    get visionRangeMin(): number {\n        return gameStore.visionRangeMin;\n    }\n    set visionRangeMin(value: number) {\n        if (typeof value !== \"number\") return;\n        gameStore.setVisionRangeMin({ value, sync: true });\n    }\n    get visionRangeMax(): number {\n        return gameStore.visionRangeMax;\n    }\n    set visionRangeMax(value: number) {\n        if (typeof value !== \"number\") return;\n        gameStore.setVisionRangeMax({ value, sync: true });\n    }\n    changeVisionMode(event: { target: HTMLSelectElement }) {\n        const value = event.target.value.toLowerCase();\n        if (value !== \"bvh\" && value !== \"triangle\") return;\n        gameStore.setVisionMode({ mode: value, sync: true });\n        gameStore.recalculateVision();\n        gameStore.recalculateMovement();\n        layerManager.invalidate();\n    }\n    handleClick(event: { target: HTMLElement }) {\n        const child = event.target.firstElementChild;\n        if (child instanceof HTMLInputElement) {\n            child.click();\n        }\n    }\n    refreshInviteCode() {\n        socket.emit(\"Room.Info.InviteCode.Refresh\");\n        this.refreshState = \"pending\";\n        this.showRefreshState = true;\n    }\n    kickPlayer(id: number) {\n        socket.emit(\"Room.Info.Players.Kick\", id);\n        gameStore.kickPlayer(id);\n    }\n    toggleSessionLock() {\n        gameStore.setIsLocked({isLocked: !gameStore.isLocked, sync: true});\n    }\n    deleteSession() {\n        getRef<Prompt>(\"prompt\")\n            .prompt(`ENTER ${gameStore.roomCreator}/${gameStore.roomName} TO CONFIRM SESSION REMOVAL.`, `DELETING SESSION`)\n            .then(\n                (value: string) => {\n                    if (value !== `${gameStore.roomCreator}/${gameStore.roomName}`) return;\n                    socket.emit(\"Room.Delete\");\n                    this.$router.push(\"/\");\n                },\n                () => {},\n            );\n    }\n}\n","import { GlobalPoint, Ray, Vector } from \"@/game/geom\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { Shape } from \"@/game/shapes/shape\";\nimport { gameStore } from \"@/game/store\";\nimport { PA_CDT } from \"@/game/visibility/te/pa\";\nimport { Point, Sign, Triangle } from \"@/game/visibility/te/tds\";\nimport { ccw, cw, intersection, orientation } from \"@/game/visibility/te/triag\";\n\n// First go through each shape in the selection and see if the delta has to be truncated due to movement blockers\n\n// This is definitely super convoluted and inefficient but I was tired and really wanted the smooth wall sliding collision stuff to work\n// And it does now, so hey ¯\\_(ツ)_/¯\nexport function calculateDelta(delta: Vector, sel: Shape, done?: string[]) {\n    if (delta.x === 0 && delta.y === 0) return delta;\n    if (gameStore.visionMode === \"bvh\") {\n        if (done === undefined) done = [];\n        const ogSelBBox = sel.getBoundingBox();\n        const newSelBBox = ogSelBBox.offset(delta);\n        let refine = false;\n        for (const movementBlocker of gameStore.movementblockers) {\n            if (done.includes(movementBlocker)) continue;\n            const blocker = layerManager.UUIDMap.get(movementBlocker)!;\n            const blockerBBox = blocker.getBoundingBox();\n            let found = blockerBBox.intersectsWithInner(newSelBBox);\n            if (!found) {\n                // This is an edge case, precalculating the rays is not worth in this case.\n                const ray = Ray.fromPoints(ogSelBBox.topLeft.add(delta.normalize()), newSelBBox.topLeft);\n                const invDir = ray.direction.inverse();\n                const dirIsNegative = [invDir.x < 0, invDir.y < 0];\n                found = blockerBBox.intersectP(ray, invDir, dirIsNegative).hit;\n            }\n            // Check if the bounding box of our destination would intersect with the bounding box of the movementblocker\n            if (found) {\n                const bCenter = blockerBBox.center();\n                const sCenter = ogSelBBox.center();\n\n                const d = sCenter.subtract(bCenter);\n                const ux = new Vector(1, 0);\n                const uy = new Vector(0, 1);\n                let dx = d.dot(ux);\n                let dy = d.dot(uy);\n                if (dx > blockerBBox.w / 2) dx = blockerBBox.w / 2;\n                if (dx < -blockerBBox.w / 2) dx = -blockerBBox.w / 2;\n                if (dy > blockerBBox.h / 2) dy = blockerBBox.h / 2;\n                if (dy < -blockerBBox.h / 2) dy = -blockerBBox.h / 2;\n\n                // Closest point / intersection point between the two bboxes.  Not the delta intersect!\n                const p = bCenter.add(ux.multiply(dx)).add(uy.multiply(dy));\n\n                if (p.x === ogSelBBox.topLeft.x || p.x === ogSelBBox.topRight.x) delta = new Vector(0, delta.y);\n                else if (p.y === ogSelBBox.topLeft.y || p.y === ogSelBBox.botLeft.y) delta = new Vector(delta.x, 0);\n                else {\n                    if (p.x < ogSelBBox.topLeft.x) delta = new Vector(p.x - ogSelBBox.topLeft.x, delta.y);\n                    else if (p.x > ogSelBBox.topRight.x) delta = new Vector(p.x - ogSelBBox.topRight.x, delta.y);\n                    else if (p.y < ogSelBBox.topLeft.y) delta = new Vector(delta.x, p.y - ogSelBBox.topLeft.y);\n                    else if (p.y > ogSelBBox.botLeft.y) delta = new Vector(delta.x, p.y - ogSelBBox.botLeft.y);\n                }\n                refine = true;\n                done.push(movementBlocker);\n                break;\n            }\n        }\n        if (refine) delta = calculateDelta(delta, sel, done);\n        return delta;\n    } else {\n        const centerTriangle = PA_CDT.movement.locate(sel.center().asArray(), null).loc;\n        for (const point of sel.points) {\n            const lt = PA_CDT.movement.locate(point, centerTriangle);\n            const triangle = lt.loc;\n            if (triangle === null) continue;\n            delta = checkTriangle(point, triangle, delta);\n        }\n        return delta;\n    }\n}\n\nfunction checkTriangle(point: Point, triangle: Triangle, delta: Vector, skip: Triangle[] = []): Vector {\n    const p = new GlobalPoint(point[0], point[1]);\n    const endpoint = p.add(delta).asArray();\n    if (triangle.contains(endpoint)) return delta;\n    skip.push(triangle);\n\n    for (let i = 0; i < 3; i++) {\n        if (skip.includes(triangle.neighbours[i]!)) continue;\n\n        const _cw = triangle.vertices[cw(i)]!.point!;\n        const _ccw = triangle.vertices[ccw(i)]!.point!;\n        const ix = intersection(point, endpoint, _cw, _ccw);\n\n        if (ix === null) continue;\n\n        if (!triangle.isConstrained(i)) return checkTriangle(point, triangle.neighbours[i]!, delta, skip);\n\n        if (ix[0] === p.x && ix[1] === p.y) {\n            const OR = orientation;\n            const o = orientation(point, endpoint, _ccw);\n            // Remember: canvas y axis is inverted\n            if (o === Sign.LEFT_TURN) continue;\n            if (o === Sign.ZERO) continue;\n        }\n        let newDelta = new GlobalPoint(ix[0], ix[1]).subtract(p).multiply(0.8);\n        if (newDelta.length() < 1) newDelta = new Vector(0, 0);\n        if (newDelta.length() < delta.length()) delta = newDelta;\n    }\n    return delta;\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=style&index=0&id=7a3669fd&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=style&index=0&id=7a3669fd&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inputCopy.vue?vue&type=style&index=0&id=20bfdb3e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inputCopy.vue?vue&type=style&index=0&id=20bfdb3e&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./labels.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./labels.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"formcontainer\"}},[(_vm.owned || _vm.joined)?_c('form',[_c('fieldset',[_c('legend',{staticClass:\"legend\"},[_vm._v(\"Your sessions\")]),_c('div',{staticClass:\"input\"},[_vm._l((_vm.owned),function(room,i){return _c('router-link',{key:'o-'+i,attrs:{\"to\":'/game/' + encodeURIComponent(room[1]) + '/' + encodeURIComponent(room[0])}},[_vm._v(_vm._s(room[0]))])}),_vm._l((_vm.joined),function(room,i){return _c('router-link',{key:'j-'+i,attrs:{\"to\":'/game/' + encodeURIComponent(room[1]) + '/' + encodeURIComponent(room[0])}},[_vm._v(_vm._s(room[1])+\"/\"+_vm._s(room[0]))])})],2),(_vm.owned.length === 0)?_c('div',{staticClass:\"input\"},[_vm._v(\"No active sessions\")]):_vm._e()])]):_vm._e(),_vm._m(0),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createRoom($event)}}},[_c('fieldset',[(!_vm.owned && !_vm.joined)?_c('legend',{staticClass:\"legend\"},[_vm._v(\"Create a session\")]):_c('div',{staticClass:\"input\"},[_vm._v(\"Create a new session\")]),_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newSessionName),expression:\"newSessionName\"}],attrs:{\"type\":\"text\",\"name\":\"room_name\",\"placeholder\":\"Session Name\"},domProps:{\"value\":(_vm.newSessionName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newSessionName=$event.target.value}}}),_vm._m(1)]),_vm._m(2)])]),_c('div',{attrs:{\"id\":\"account-options\"}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('router-link',{staticClass:\"submit\",attrs:{\"tag\":\"button\",\"title\":\"Account Settings\",\"to\":\"/account\"}},[_c('i',{staticClass:\"fas fa-cog\"})])],1),_c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('router-link',{staticClass:\"submit\",attrs:{\"tag\":\"button\",\"title\":\"Logout\",\"to\":\"/auth/logout\"}},[_c('i',{staticClass:\"fas fa-sign-out-alt\"})])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h4',[_c('span',[_vm._v(\"OR\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"fab fa-d-and-d\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"submit\",attrs:{\"type\":\"submit\",\"title\":\"Create\"}},[_c('i',{staticClass:\"fas fa-arrow-right\"})])}]\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=template&id=b102d41e&scoped=true&\"","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vision.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vision.vue?vue&type=script&lang=ts&\"","import { socket } from \"@/game/api/socket\";\nimport { gameStore } from \"@/game/store\";\n\nexport function sendClientOptions() {\n    socket.emit(\"Client.Options.Set\", {\n        locationOptions: {\n            panX: gameStore.panX,\n            panY: gameStore.panY,\n            zoomFactor: gameStore.zoomFactor,\n        },\n    });\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Prop } from \"vue-property-decorator\";\n\nimport { AssetFile, AssetList } from \"@/core/comm/types\";\nimport { alphSort } from \"@/core/utils\";\n\n@Component({\n    name: \"asset-node\",\n})\nexport default class AssetNode extends Vue {\n    @Prop() asset!: AssetList;\n\n    showImage = null;\n    get folders(): string[] {\n        return Object.keys(this.asset)\n            .filter(el => ![\"__files\"].includes(el))\n            .sort(alphSort);\n    }\n\n    get files(): AssetFile[] {\n        if (this.asset.__files)\n            return (<AssetFile[]>this.asset.__files)\n                .concat()\n                .sort((a, b) => (a.name.toLowerCase() > b.name.toLowerCase() ? 1 : -1));\n        return [];\n    }\n\n    toggle(event: { target: HTMLElement }) {\n        // tslint:disable-next-line:prefer-for-of\n        for (let i = 0; i < event.target.children.length; i++) {\n            const el = <HTMLElement>event.target.children[i];\n            el.style.display = el.style.display === \"\" ? \"block\" : \"\";\n        }\n    }\n\n    dragStart(event: DragEvent, imageSource: string) {\n        this.showImage = null;\n        if (event === null || event.dataTransfer === null) return;\n        const img = (<HTMLElement>event.target).querySelector(\".preview\")!;\n        event.dataTransfer.setDragImage(img, 0, 0);\n        event.dataTransfer.setData(\"text/plain\", imageSource);\n    }\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./colorpicker.vue?vue&type=style&index=0&id=f8744d60&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./colorpicker.vue?vue&type=style&index=0&id=f8744d60&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.visible)?_c('div',{staticClass:\"ContextMenu\",style:({left:_vm.left, top:_vm.top}),attrs:{\"tabindex\":\"-1\"},on:{\"blur\":function($event){return _vm.$emit('close')}}},[_c('ul',[_vm._t(\"default\")],2)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=template&id=256dde9c&\"","// import Vuex from \"vuex\";\nimport { getModule, Module, Mutation, VuexModule } from \"vuex-module-decorators\";\n\nimport { Asset } from \"@/core/comm/types\";\nimport { rootStore } from \"@/store\";\n\nexport interface AssetState {\n    root: number;\n    files: number[];\n    folders: number[];\n    idMap: Map<number, Asset>;\n    selected: number[];\n}\n\n@Module({ dynamic: true, store: rootStore, name: \"assets\", namespaced: true })\nclass AssetStore extends VuexModule {\n    root = -1;\n    files: number[] = [];\n    folders: number[] = [];\n    idMap: Map<number, Asset> = new Map();\n    selected: number[] = [];\n\n    @Mutation\n    clear() {\n        this.folders = [];\n        this.files = [];\n    }\n\n    @Mutation\n    clearSelected() {\n        console.log(\"Cleared\");\n        this.selected = [];\n    }\n\n    @Mutation\n    setRoot(root: number) {\n        this.root = root;\n    }\n}\n\nexport const assetStore = getModule(AssetStore);\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport ContextMenu from \"@/core/components/contextmenu.vue\";\nimport Initiative from \"@/game/ui/initiative.vue\";\n\nimport { getRef } from \"@/core/utils\";\nimport { EventBus } from \"@/game/event-bus\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { Shape } from \"@/game/shapes/shape\";\nimport { gameStore } from \"@/game/store\";\n\n@Component({\n    components: {\n        ContextMenu,\n    },\n})\nexport default class ShapeContext extends Vue {\n    visible = false;\n    x = 0;\n    y = 0;\n    shape: Shape | null = null;\n    get activeLayer(): string {\n        const layer = layerManager.getLayer();\n        return layer === undefined ? \"\" : layer.name;\n    }\n    open(event: MouseEvent, shape: Shape) {\n        this.visible = true;\n        this.x = event.pageX;\n        this.y = event.pageY;\n        this.shape = shape;\n        this.$nextTick(() => (<HTMLElement>this.$children[0].$el).focus());\n    }\n    close() {\n        this.visible = false;\n        this.shape = null;\n    }\n    getLayers() {\n        return layerManager.layers.filter(l => l.selectable && (gameStore.IS_DM || l.playerEditable));\n    }\n    getActiveLayer() {\n        return layerManager.getLayer();\n    }\n    getInitiativeWord() {\n        if (this.shape === null) return \"\";\n        return getRef<Initiative>(\"initiative\").contains(this.shape.uuid) ? \"Show\" : \"Add\";\n    }\n    setLayer(newLayer: string) {\n        if (this.shape === null) return;\n        this.shape.moveLayer(newLayer, true);\n        this.close();\n    }\n    moveToBack() {\n        if (this.shape === null) return;\n        const layer = this.getActiveLayer()!;\n        layer.moveShapeOrder(this.shape, 0, true);\n        this.close();\n    }\n    moveToFront() {\n        if (this.shape === null) return;\n        const layer = this.getActiveLayer()!;\n        layer.moveShapeOrder(this.shape, layer.shapes.length - 1, true);\n        this.close();\n    }\n    addInitiative() {\n        if (this.shape === null) return;\n        const initiative = getRef<Initiative>(\"initiative\");\n        if (!initiative.contains(this.shape.uuid)) initiative.addInitiative(this.shape.getInitiativeRepr());\n        initiative.visible = true;\n        this.close();\n    }\n    openEditDialog() {\n        EventBus.$emit(\"EditDialog.Open\", this.shape);\n        this.close();\n    }\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=style&index=0&id=c7fe324c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=style&index=0&id=c7fe324c&scoped=true&lang=css&\"","\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport { Prop } from \"vue-property-decorator\";\n\n@Component\nexport default class InputCopyElement extends Vue {\n    @Prop() value!: string;\n\n    borderColour = \"lightgray\";\n    popupString = \"\";\n    showPopup = false;\n\n    copy() {\n        (<any>navigator).clipboard.writeText(this.value).then(\n            () => {\n                this.popupString = \"Copied!\";\n                this.showPopup = true;\n            },\n            () => {\n                console.log(\"Could not copy to clipboard :(\");\n                this.popupString = \"Error!\";\n                this.showPopup = true;\n            },\n        );\n    }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContextMenu',{attrs:{\"visible\":_vm.visible,\"left\":_vm.left + 'px',\"top\":_vm.top + 'px'},on:{\"close\":_vm.close}},[_c('li',{on:{\"click\":_vm.rename}},[_vm._v(\"Rename\")]),_c('li',{on:{\"click\":_vm.remove}},[_vm._v(\"Remove\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./contextMenu.vue?vue&type=template&id=dbbd4d08&\"","import { Layer } from \"@/game/layers/layer\";\nimport { gameStore } from \"@/game/store\";\n\nexport class GridLayer extends Layer {\n    invalidate(): void {\n        this.valid = false;\n    }\n    draw(doClear?: boolean): void {\n        if (!this.valid) {\n            this.drawGrid();\n        }\n    }\n    drawGrid(): void {\n        const ctx = this.ctx;\n        this.clear();\n        ctx.beginPath();\n\n        const gs = gameStore.gridSize;\n\n        for (let i = 0; i < this.width; i += gs * gameStore.zoomFactor) {\n            ctx.moveTo(i + (gameStore.panX % gs) * gameStore.zoomFactor, 0);\n            ctx.lineTo(i + (gameStore.panX % gs) * gameStore.zoomFactor, this.height);\n            ctx.moveTo(0, i + (gameStore.panY % gs) * gameStore.zoomFactor);\n            ctx.lineTo(this.width, i + (gameStore.panY % gs) * gameStore.zoomFactor);\n        }\n\n        ctx.strokeStyle = gameStore.gridColour;\n        ctx.lineWidth = 1;\n        ctx.stroke();\n        this.valid = true;\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"outer\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.open($event)}}},[_c('div',{staticClass:\"current-color\",style:(_vm.transparent ? 'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)' : 'background-color:' + _vm.color),on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.open($event)}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.display),expression:\"display\"}],staticClass:\"mask\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.closePicker($event)}}}),_c('chrome-picker',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.display),expression:\"display\"}],ref:\"chromePicker\",style:({position: 'fixed', left:_vm.left + 'px', top:_vm.top + 'px', 'z-index': 9999}),attrs:{\"value\":_vm.color,\"tabindex\":\"-1\"},on:{\"input\":_vm.updateColor}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./colorpicker.vue?vue&type=template&id=f8744d60&scoped=true&\"","import Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nimport { AssetState } from \"@/assetManager/store\";\nimport { CoreState } from \"@/core/store\";\nimport { GameState } from \"@/game/store\";\n\nVue.use(Vuex);\n\nexport interface RootState {\n    assets: AssetState;\n    core: CoreState;\n    game: GameState;\n}\n\nexport const rootStore = new Vuex.Store<RootState>({});\n","import { render, staticRenderFns } from \"./colorpicker.vue?vue&type=template&id=f8744d60&scoped=true&\"\nimport script from \"./colorpicker.vue?vue&type=script&lang=ts&\"\nexport * from \"./colorpicker.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./colorpicker.vue?vue&type=style&index=0&id=f8744d60&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8744d60\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Component from \"vue-class-component\";\n\nimport Tool from \"@/game/ui/tools/tool.vue\";\n\nimport { socket } from \"@/game/api/socket\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { gameStore } from \"@/game/store\";\nimport { Shape } from \"../../shapes/shape\";\n\n@Component\nexport default class VisionTool extends Tool {\n    name = \"Vision\";\n    active = false;\n\n    get selection(): string[] {\n        return gameStore.activeTokens;\n    }\n\n    get tokens(): Shape[] {\n        return gameStore.ownedtokens.map(t => layerManager.UUIDMap.get(t)!);\n    }\n\n    toggle(uuid: string) {\n        if (this.selection.includes(uuid)) gameStore.removeActiveToken(uuid);\n        else gameStore.addActiveToken(uuid);\n    }\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=bc30fc14&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=bc30fc14&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view',{ref:\"activeComponent\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=196415f0&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { GlobalPoint, Ray } from \"@/game/geom\";\nimport { Layer } from \"@/game/layers/layer\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { Settings } from \"@/game/settings\";\nimport { Circle } from \"@/game/shapes/circle\";\nimport { Shape } from \"@/game/shapes/shape\";\nimport { gameStore } from \"@/game/store\";\nimport { g2l, g2lr, g2lx, g2ly, g2lz, getUnitDistance } from \"@/game/units\";\nimport { getFogColour } from \"@/game/utils\";\nimport { computeVisibility } from \"../visibility/te/te\";\n\nexport class FOWLayer extends Layer {\n    isVisionLayer: boolean = true;\n    preFogShapes: Shape[] = [];\n    virtualCanvas: HTMLCanvasElement;\n    vCtx: CanvasRenderingContext2D;\n\n    constructor(canvas: HTMLCanvasElement, name: string) {\n        super(canvas, name);\n        this.virtualCanvas = document.createElement(\"canvas\");\n        this.virtualCanvas.width = window.innerWidth;\n        this.virtualCanvas.height = window.innerHeight;\n        this.vCtx = this.virtualCanvas.getContext(\"2d\")!;\n    }\n\n    addShape(shape: Shape, sync: boolean, temporary?: boolean, invalidate = true): void {\n        super.addShape(shape, sync, temporary, invalidate);\n        if (shape.options.has(\"preFogShape\") && shape.options.get(\"preFogShape\")) {\n            this.preFogShapes.push(shape);\n        }\n    }\n\n    removeShape(shape: Shape, sync: boolean, temporary?: boolean) {\n        if (shape.options.has(\"preFogShape\") && shape.options.get(\"preFogShape\")) {\n            const idx = this.preFogShapes.findIndex(s => s.uuid === shape.uuid);\n            this.preFogShapes.splice(idx, 1);\n        }\n        super.removeShape(shape, sync, temporary);\n    }\n\n    draw(): void {\n        if (!this.valid) {\n            const ctx = this.ctx;\n\n            if (Settings.skipLightFOW) {\n                ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n                this.valid = true;\n                return;\n            }\n\n            const originalOperation = ctx.globalCompositeOperation;\n            ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n            ctx.fillStyle = \"rgba(0, 0, 0, 1)\";\n\n            const dctx = layerManager.getLayer(\"draw\")!.ctx;\n            if (Settings.drawAngleLines || Settings.drawFirstLightHit) {\n                dctx.clearRect(0, 0, dctx.canvas.width, dctx.canvas.height);\n            }\n\n            // At all times provide a minimal vision range to prevent losing your tokens in fog.\n            if (gameStore.fullFOW && layerManager.hasLayer(\"tokens\")) {\n                layerManager.getLayer(\"tokens\")!.shapes.forEach(sh => {\n                    if (!sh.ownedBy() || !sh.isToken) return;\n                    const bb = sh.getBoundingBox();\n                    const lcenter = g2l(sh.center());\n                    const alm = 0.8 * g2lz(bb.w);\n                    ctx.beginPath();\n                    ctx.arc(lcenter.x, lcenter.y, alm, 0, 2 * Math.PI);\n                    const gradient = ctx.createRadialGradient(lcenter.x, lcenter.y, alm / 2, lcenter.x, lcenter.y, alm);\n                    gradient.addColorStop(0, \"rgba(0, 0, 0, 1)\");\n                    gradient.addColorStop(1, \"rgba(0, 0, 0, 0)\");\n                    ctx.fillStyle = gradient;\n                    ctx.fill();\n                });\n            }\n\n            this.vCtx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n\n            // First cut out all the light sources\n            for (const light of gameStore.visionSources) {\n                const shape = layerManager.UUIDMap.get(light.shape);\n                if (shape === undefined) continue;\n                const aura = shape.auras.find(a => a.uuid === light.aura);\n                if (aura === undefined) continue;\n\n                const auraLength = getUnitDistance(aura.value + aura.dim);\n                const center = shape.center();\n                const lcenter = g2l(center);\n\n                const auraCircle = new Circle(center, auraLength);\n                if (!auraCircle.visibleInCanvas(ctx.canvas)) continue;\n\n                if (gameStore.visionMode === \"bvh\") {\n                    let lastArcAngle = -1;\n\n                    const path = new Path2D();\n                    path.moveTo(lcenter.x, lcenter.y);\n                    let firstPoint: GlobalPoint;\n\n                    for (let angle = 0; angle < 2 * Math.PI; angle += (Settings.angleSteps / 180) * Math.PI) {\n                        const anglePoint = new GlobalPoint(\n                            center.x + auraLength * Math.cos(angle),\n                            center.y + auraLength * Math.sin(angle),\n                        );\n                        if (Settings.drawAngleLines) {\n                            dctx!.beginPath();\n                            dctx!.moveTo(g2lx(center.x), g2ly(center.y));\n                            dctx!.lineTo(g2lx(anglePoint.x), g2ly(anglePoint.y));\n                            dctx!.stroke();\n                        }\n\n                        // Check if there is a hit with one of the nearby light blockers.\n                        const lightRay = Ray.fromPoints(center, anglePoint);\n                        const hitResult = gameStore.BV.intersect(lightRay);\n\n                        if (angle === 0) firstPoint = hitResult.hit ? hitResult.intersect : anglePoint;\n\n                        // We can move on to the next angle if nothing was hit.\n                        if (!hitResult.hit) {\n                            // If an earlier hit caused the aura to leave the arc, we need to go back to the arc\n                            if (lastArcAngle === -1) {\n                                // Set the start of a new arc beginning at the current angle\n                                lastArcAngle = angle;\n                                // Draw a line from the last non arc location back to the arc\n                                const dest = g2l(anglePoint);\n                                ctx.lineTo(dest.x, dest.y);\n                            }\n                            continue;\n                        }\n                        // If hit , first finish any ongoing arc, then move to the intersection point\n                        if (lastArcAngle !== -1) {\n                            path.arc(lcenter.x, lcenter.y, g2lr(aura.value + aura.dim), lastArcAngle, angle);\n                            lastArcAngle = -1;\n                        }\n                        path.lineTo(g2lx(hitResult.intersect.x), g2ly(hitResult.intersect.y));\n                    }\n                    // Finish the final arc.\n                    if (lastArcAngle === -1) path.lineTo(g2lx(firstPoint!.x), g2ly(firstPoint!.y));\n                    else path.arc(lcenter.x, lcenter.y, g2lr(aura.value + aura.dim), lastArcAngle, 2 * Math.PI);\n\n                    if (gameStore.fullFOW) {\n                        if (aura.dim > 0) {\n                            // Fill the light aura with a radial dropoff towards the outside.\n                            const gradient = ctx.createRadialGradient(\n                                lcenter.x,\n                                lcenter.y,\n                                g2lr(aura.value),\n                                lcenter.x,\n                                lcenter.y,\n                                g2lr(aura.value + aura.dim),\n                            );\n                            gradient.addColorStop(0, \"rgba(0, 0, 0, 1)\");\n                            gradient.addColorStop(1, \"rgba(0, 0, 0, 0)\");\n                            ctx.fillStyle = gradient;\n                        } else {\n                            ctx.fillStyle = \"rgba(0, 0, 0, 1)\";\n                        }\n                        ctx.fill(path);\n                    }\n\n                    aura.lastPath = path;\n                } else {\n                    this.vCtx.globalCompositeOperation = \"source-over\";\n                    this.vCtx.fillStyle = \"rgba(0, 0, 0, 1)\";\n                    const polygon = computeVisibility(center, \"vision\");\n                    this.vCtx.beginPath();\n                    this.vCtx.moveTo(g2lx(polygon[0][0]), g2ly(polygon[0][1]));\n                    for (const point of polygon) this.vCtx.lineTo(g2lx(point[0]), g2ly(point[1]));\n                    this.vCtx.closePath();\n                    this.vCtx.fill();\n                    if (aura.dim > 0) {\n                        // Fill the light aura with a radial dropoff towards the outside.\n                        const gradient = this.vCtx.createRadialGradient(\n                            lcenter.x,\n                            lcenter.y,\n                            g2lr(aura.value),\n                            lcenter.x,\n                            lcenter.y,\n                            g2lr(aura.value + aura.dim),\n                        );\n                        gradient.addColorStop(0, \"rgba(0, 0, 0, 1)\");\n                        gradient.addColorStop(1, \"rgba(0, 0, 0, 0)\");\n                        this.vCtx.fillStyle = gradient;\n                    } else {\n                        this.vCtx.fillStyle = \"rgba(0, 0, 0, 1)\";\n                    }\n                    this.vCtx.globalCompositeOperation = \"source-in\";\n                    this.vCtx.beginPath();\n                    this.vCtx.arc(lcenter.x, lcenter.y, g2lr(aura.value + aura.dim), 0, 2 * Math.PI);\n                    this.vCtx.fill();\n                    ctx.drawImage(this.virtualCanvas, 0, 0);\n                }\n            }\n\n            // At the DM Side due to opacity of the two fow layers, it looks strange if we just render them on top of eachother like players.\n            if (gameStore.fowLOS) {\n                ctx.globalCompositeOperation = \"source-in\";\n                ctx.drawImage(layerManager.getLayer(\"fow-players\")!.canvas, 0, 0);\n            }\n\n            for (const preShape of this.preFogShapes) {\n                if (!preShape.visibleInCanvas(this.canvas)) continue;\n                const ogComposite = preShape.globalCompositeOperation;\n                if (!gameStore.fullFOW) {\n                    if (preShape.globalCompositeOperation === \"source-over\")\n                        preShape.globalCompositeOperation = \"destination-out\";\n                    else if (preShape.globalCompositeOperation === \"destination-out\")\n                        preShape.globalCompositeOperation = \"source-over\";\n                }\n                preShape.draw(ctx);\n                preShape.globalCompositeOperation = ogComposite;\n            }\n\n            if (gameStore.fullFOW) {\n                ctx.globalCompositeOperation = \"source-out\";\n                ctx.fillStyle = getFogColour();\n                ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            }\n\n            super.draw(false);\n\n            ctx.globalCompositeOperation = originalOperation;\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./load.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./load.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"visible\":_vm.visible,\"mask\":false},on:{\"close\":function($event){_vm.visible = false}},scopedSlots:_vm._u([{key:\"header\",fn:function(m){return _c('div',{staticClass:\"modal-header\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":m.dragStart,\"dragend\":m.dragEnd}},[_c('div',[_vm._v(\"Edit asset\")]),_c('div',{staticClass:\"header-close\",on:{\"click\":function($event){_vm.visible = false}}},[_c('i',{staticClass:\"far fa-window-close\"})])])}}])},[_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"grid\"},[_c('label',{attrs:{\"for\":\"shapeselectiondialog-name\"}},[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.shape.name),expression:\"shape.name\"}],staticStyle:{\"grid-column\":\"numerator / remove\"},attrs:{\"type\":\"text\",\"id\":\"shapeselectiondialog-name\",\"disabled\":!_vm.owned},domProps:{\"value\":(_vm.shape.name)},on:{\"change\":function($event){return _vm.updateShape(false)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.shape, \"name\", $event.target.value)}}}),_c('div',{style:({opacity: _vm.shape.nameVisible ? 1.0 : 0.3, textAlign: 'center'}),attrs:{\"disabled\":!_vm.owned},on:{\"click\":function($event){_vm.shape.nameVisible = !_vm.shape.nameVisible;_vm.updateShape(false)}}},[_c('i',{staticClass:\"fas fa-eye\"})]),_c('label',{attrs:{\"for\":\"shapeselectiondialog-istoken\"}},[_vm._v(\"Is a token\")]),_c('input',{staticClass:\"styled-checkbox\",staticStyle:{\"grid-column-start\":\"remove\"},attrs:{\"type\":\"checkbox\",\"id\":\"shapeselectiondialog-istoken\",\"disabled\":!_vm.owned},domProps:{\"checked\":_vm.shape.isToken},on:{\"click\":_vm.setToken}}),_c('label',{attrs:{\"for\":\"shapeselectiondialog-visionblocker\"}},[_vm._v(\"Blocks vision/light\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.shape.visionObstruction),expression:\"shape.visionObstruction\"}],staticStyle:{\"grid-column-start\":\"remove\"},attrs:{\"type\":\"checkbox\",\"id\":\"shapeselectiondialog-visionblocker\",\"disabled\":!_vm.owned},domProps:{\"checked\":Array.isArray(_vm.shape.visionObstruction)?_vm._i(_vm.shape.visionObstruction,null)>-1:(_vm.shape.visionObstruction)},on:{\"change\":[function($event){var $$a=_vm.shape.visionObstruction,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.shape, \"visionObstruction\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.shape, \"visionObstruction\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.shape, \"visionObstruction\", $$c)}},_vm.setVisionBlocker]}}),_c('label',{attrs:{\"for\":\"shapeselectiondialog-moveblocker\"}},[_vm._v(\"Blocks movement\")]),_c('input',{staticStyle:{\"grid-column-start\":\"remove\"},attrs:{\"type\":\"checkbox\",\"id\":\"shapeselectiondialog-moveblocker\",\"disabled\":!_vm.owned},domProps:{\"checked\":_vm.shape.movementObstruction},on:{\"click\":_vm.setMovementBlocker}}),_c('label',{attrs:{\"for\":\"shapeselectiondialog-strokecolour\"}},[_vm._v(\"Border colour\")]),_c('color-picker',{staticStyle:{\"grid-column-start\":\"remove\"},attrs:{\"color\":_vm.shape.strokeColour,\"disabled\":!_vm.owned},on:{\"update:color\":function($event){return _vm.$set(_vm.shape, \"strokeColour\", $event)},\"input\":function($event){return _vm.updateShape(true, true)},\"change\":function($event){return _vm.updateShape(true)}}}),_c('label',{attrs:{\"for\":\"shapeselectiondialog-fillcolour\"}},[_vm._v(\"Fill colour\")]),_c('color-picker',{staticStyle:{\"grid-column-start\":\"remove\"},attrs:{\"color\":_vm.shape.fillColour,\"disabled\":!_vm.owned},on:{\"update:color\":function($event){return _vm.$set(_vm.shape, \"fillColour\", $event)},\"input\":function($event){return _vm.updateShape(true, true)},\"change\":function($event){return _vm.updateShape(true)}}}),_c('div',{staticClass:\"spanrow header\"},[_vm._v(\"Access\")]),_vm._l((_vm.shape.owners),function(owner){return [_c('input',{key:owner,staticStyle:{\"grid-column-start\":\"name\"},attrs:{\"type\":\"text\",\"placeholder\":\"name\",\"disabled\":!_vm.owned},domProps:{\"value\":owner},on:{\"change\":function($event){return _vm.updateOwner($event, owner)}}}),(owner !== '')?_c('div',{key:'remove-' + owner,style:({opacity: _vm.owned ? 1.0 : 0.3, textAlign: 'center', gridColumnStart: 'remove'}),attrs:{\"disabled\":!_vm.owned},on:{\"click\":function($event){return _vm.removeOwner(owner)}}},[_c('i',{staticClass:\"fas fa-trash-alt\"})]):_vm._e()]}),_c('div',{staticClass:\"spanrow header\"},[_vm._v(\"Trackers\")]),_vm._l((_vm.shape.trackers),function(tracker){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(tracker.name),expression:\"tracker.name\"}],key:'name-'+tracker.uuid,staticStyle:{\"grid-column-start\":\"name\"},attrs:{\"type\":\"text\",\"placeholder\":\"name\",\"disabled\":!_vm.owned},domProps:{\"value\":(tracker.name)},on:{\"change\":function($event){return _vm.updateShape(false);},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(tracker, \"name\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(tracker.value),expression:\"tracker.value\",modifiers:{\"number\":true}}],key:'value-'+tracker.uuid,attrs:{\"type\":\"text\",\"title\":\"Current value\",\"disabled\":!_vm.owned},domProps:{\"value\":(tracker.value)},on:{\"change\":function($event){return _vm.updateShape(false)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(tracker, \"value\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('span',{key:'fspan-'+tracker.uuid},[_vm._v(\"/\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(tracker.maxvalue),expression:\"tracker.maxvalue\",modifiers:{\"number\":true}}],key:'maxvalue-'+tracker.uuid,attrs:{\"type\":\"text\",\"title\":\"Current value\",\"disabled\":!_vm.owned},domProps:{\"value\":(tracker.maxvalue)},on:{\"change\":function($event){return _vm.updateShape(false)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(tracker, \"maxvalue\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('span',{key:'sspan-'+tracker.uuid}),_c('div',{key:'visibility-'+tracker.uuid,style:({opacity: tracker.visible ? 1.0 : 0.3, textAlign: 'center'}),attrs:{\"disabled\":!_vm.owned},on:{\"click\":function($event){tracker.visible = !tracker.visible;_vm.updateShape(false)}}},[_c('i',{staticClass:\"fas fa-eye\"})]),_c('span',{key:'tspan-'+tracker.uuid}),(tracker.name !== '' || tracker.value !== 0)?_c('div',{key:'remove-'+tracker.uuid,style:({opacity: _vm.owned ? 1.0 : 0.3, textAlign: 'center'}),attrs:{\"disabled\":!_vm.owned},on:{\"click\":function($event){return _vm.removeTracker(tracker.uuid)}}},[_c('i',{staticClass:\"fas fa-trash-alt\"})]):_vm._e()]}),_c('div',{staticClass:\"spanrow header\"},[_vm._v(\"Auras\")]),_vm._l((_vm.shape.auras),function(aura){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(aura.name),expression:\"aura.name\"}],key:'name-'+aura.uuid,staticStyle:{\"grid-column-start\":\"name\"},attrs:{\"type\":\"text\",\"placeholder\":\"name\",\"disabled\":!_vm.owned},domProps:{\"value\":(aura.name)},on:{\"change\":function($event){return _vm.updateShape(false)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(aura, \"name\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(aura.value),expression:\"aura.value\",modifiers:{\"number\":true}}],key:'value-'+aura.uuid,attrs:{\"type\":\"text\",\"title\":\"Current value\",\"disabled\":!_vm.owned},domProps:{\"value\":(aura.value)},on:{\"change\":function($event){return _vm.updateShape(true)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(aura, \"value\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('span',{key:'fspan-'+aura.uuid},[_vm._v(\"/\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(aura.dim),expression:\"aura.dim\",modifiers:{\"number\":true}}],key:'dimvalue-'+aura.uuid,attrs:{\"type\":\"text\",\"title\":\"Dim value\",\"disabled\":!_vm.owned},domProps:{\"value\":(aura.dim)},on:{\"change\":function($event){return _vm.updateShape(true)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(aura, \"dim\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('color-picker',{key:'colour-'+aura.uuid,attrs:{\"color\":aura.colour,\"disabled\":!_vm.owned},on:{\"update:color\":function($event){return _vm.$set(aura, \"colour\", $event)},\"input\":function($event){return _vm.updateAuraColour(aura, $event)},\"change\":function($event){return _vm.updateShape(true)}}}),_c('div',{key:'visibility-'+aura.uuid,style:({opacity: aura.visible ? 1.0 : 0.3, textAlign: 'center'}),attrs:{\"disabled\":!_vm.owned},on:{\"click\":function($event){aura.visible = !aura.visible;_vm.updateShape(true)}}},[_c('i',{staticClass:\"fas fa-eye\"})]),_c('div',{key:'visionsource-'+aura.uuid,style:({opacity: aura.visionSource ? 1.0 : 0.3, textAlign: 'center'}),attrs:{\"disabled\":!_vm.owned},on:{\"click\":function($event){return _vm.updateAuraVisionSource(aura)}}},[_c('i',{staticClass:\"fas fa-lightbulb\"})]),(aura.name !== '' || aura.value !== 0)?_c('div',{key:'remove-'+aura.uuid,style:({opacity: _vm.owned ? 1.0 : 0.3, textAlign: 'center'}),attrs:{\"disabled\":!_vm.owned},on:{\"click\":function($event){return _vm.removeAura(aura.uuid)}}},[_c('i',{staticClass:\"fas fa-trash-alt\"})]):_vm._e()]}),_c('div',{staticClass:\"spanrow header\"},[_vm._v(\"Labels\")]),_c('div',{staticClass:\"spanrow\",attrs:{\"id\":\"labels\"}},[_vm._l((_vm.shape.labels),function(label){return _c('div',{key:label.uuid,staticClass:\"label\"},[(label.category)?[_c('div',{staticClass:\"label-user\"},[_vm._v(_vm._s(label.category))]),_c('div',{staticClass:\"label-main\",on:{\"click\":function($event){return _vm.removeLabel(label.uuid)}}},[_vm._v(_vm._s(label.name))])]:_vm._e(),(!label.category)?[_c('div',{staticClass:\"label-main\",on:{\"click\":function($event){return _vm.removeLabel(label.uuid)}}},[_vm._v(_vm._s(label.name))])]:_vm._e()],2)}),(_vm.owned)?_c('div',{staticClass:\"label\",attrs:{\"id\":\"label-add\"}},[_c('div',{staticClass:\"label-main\",on:{\"click\":_vm.openLabelManager}},[_vm._v(\"+\")])]):_vm._e()],2),_c('div',{staticClass:\"spanrow header\"},[_vm._v(\"Annotation\")]),_c('textarea',{staticClass:\"spanrow\",attrs:{\"disabled\":!_vm.owned},domProps:{\"value\":_vm.shape.annotation},on:{\"change\":_vm.updateAnnotation}})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_dialog.vue?vue&type=template&id=23de098e&scoped=true&\"","import { ServerCircle } from \"@/game/comm/types/shapes\";\nimport { GlobalPoint, LocalPoint, Vector } from \"@/game/geom\";\nimport { BoundingRect } from \"@/game/shapes/boundingrect\";\nimport { Shape } from \"@/game/shapes/shape\";\nimport { gameStore } from \"@/game/store\";\nimport { calculateDelta } from \"@/game/ui/tools/utils\";\nimport { g2l, g2lz, l2g } from \"@/game/units\";\nimport { getFogColour } from \"@/game/utils\";\n\nexport class Circle extends Shape {\n    type = \"circle\";\n    r: number;\n    constructor(center: GlobalPoint, r: number, fillColour?: string, strokeColour?: string, uuid?: string) {\n        super(center, fillColour, strokeColour, uuid);\n        this.r = r || 1;\n    }\n    asDict(): ServerCircle {\n        // const base = <ServerCircle>this.getBaseDict();\n        // base.r = this.r;\n        // base.border = this.border;\n        // return base;\n        return Object.assign(this.getBaseDict(), {\n            radius: this.r,\n        });\n    }\n    fromDict(data: ServerCircle) {\n        super.fromDict(data);\n        this.r = data.radius;\n    }\n    getBoundingBox(): BoundingRect {\n        return new BoundingRect(\n            new GlobalPoint(this.refPoint.x - this.r, this.refPoint.y - this.r),\n            this.r * 2,\n            this.r * 2,\n        );\n    }\n\n    get points() {\n        return this.getBoundingBox().points;\n    }\n\n    draw(ctx: CanvasRenderingContext2D) {\n        super.draw(ctx);\n        ctx.beginPath();\n        if (this.fillColour === \"fog\") ctx.fillStyle = getFogColour();\n        else ctx.fillStyle = this.fillColour;\n        const loc = g2l(this.refPoint);\n        ctx.arc(loc.x, loc.y, g2lz(this.r), 0, 2 * Math.PI);\n        ctx.fill();\n        if (this.strokeColour !== \"rgba(0, 0, 0, 0)\") {\n            ctx.beginPath();\n            ctx.lineWidth = g2lz(5);\n            ctx.strokeStyle = this.strokeColour;\n            ctx.arc(loc.x, loc.y, g2lz(this.r), 0, 2 * Math.PI);\n            ctx.stroke();\n        }\n    }\n    contains(point: GlobalPoint): boolean {\n        return (point.x - this.refPoint.x) ** 2 + (point.y - this.refPoint.y) ** 2 < this.r ** 2;\n    }\n    center(): GlobalPoint;\n    center(centerPoint: GlobalPoint): void;\n    center(centerPoint?: GlobalPoint): GlobalPoint | void {\n        if (centerPoint === undefined) return this.refPoint;\n        this.refPoint = centerPoint;\n    }\n    visibleInCanvas(canvas: HTMLCanvasElement): boolean {\n        return this.getBoundingBox().visibleInCanvas(canvas);\n    } // TODO\n    snapToGrid() {\n        const gs = gameStore.gridSize;\n        let targetX;\n        let targetY;\n        if (((2 * this.r) / gs) % 2 === 0) {\n            targetX = Math.round(this.refPoint.x / gs) * gs;\n        } else {\n            targetX = Math.round((this.refPoint.x - gs / 2) / gs) * gs + this.r;\n        }\n        if (((2 * this.r) / gs) % 2 === 0) {\n            targetY = Math.round(this.refPoint.y / gs) * gs;\n        } else {\n            targetY = Math.round((this.refPoint.y - gs / 2) / gs) * gs + this.r;\n        }\n        const delta = calculateDelta(new Vector(targetX - this.refPoint.x, targetY - this.refPoint.y), this);\n        this.refPoint = this.refPoint.add(delta);\n        this.invalidate(false);\n    }\n    resizeToGrid() {\n        const gs = gameStore.gridSize;\n        this.r = Math.max(Math.round(this.r / gs) * gs, gs / 2);\n        this.invalidate(false);\n    }\n    resize(resizePoint: number, point: LocalPoint) {\n        const z = gameStore.zoomFactor;\n        const diff = l2g(point).subtract(this.refPoint);\n        this.r = Math.sqrt(Math.pow(diff.length(), 2) / 2);\n    }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Tool from \"@/game/ui/tools/tool.vue\";\n\nimport { GlobalPoint } from \"@/game/geom\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { BaseRect } from \"@/game/shapes/baserect\";\nimport { Rect } from \"@/game/shapes/rect\";\nimport { gameStore } from \"@/game/store\";\nimport { l2g } from \"@/game/units\";\nimport { getMouse } from \"@/game/utils\";\nimport Component from \"vue-class-component\";\n\n@Component\nexport default class MapTool extends Tool {\n    name = \"Map\";\n    active = false;\n    xCount = 3;\n    yCount = 3;\n    startPoint: GlobalPoint | null = null;\n    rect: Rect | null = null;\n\n    onMouseDown(event: MouseEvent) {\n        const layer = layerManager.getLayer();\n        if (layer === undefined) {\n            console.log(\"No active layer!\");\n            return;\n        }\n        this.active = true;\n\n        this.startPoint = l2g(getMouse(event));\n        this.rect = new Rect(this.startPoint.clone(), 0, 0, \"rgba(0,0,0,0)\", \"black\");\n        layer.addShape(this.rect, false, false);\n    }\n    onMouseMove(event: MouseEvent) {\n        if (!this.active || this.rect === null || this.startPoint === null) return;\n        const layer = layerManager.getLayer();\n        if (layer === undefined) {\n            console.log(\"No active layer!\");\n            return;\n        }\n\n        const endPoint = l2g(getMouse(event));\n\n        this.rect.w = Math.abs(endPoint.x - this.startPoint.x);\n        this.rect.h = Math.abs(endPoint.y - this.startPoint.y);\n        this.rect.refPoint = new GlobalPoint(\n            Math.min(this.startPoint.x, endPoint.x),\n            Math.min(this.startPoint.y, endPoint.y),\n        );\n        layer.invalidate(false);\n    }\n    onMouseUp(event: MouseEvent) {\n        if (!this.active || this.rect === null) return;\n        const layer = layerManager.getLayer();\n        if (layer === undefined) {\n            console.log(\"No active layer!\");\n            return;\n        }\n        this.active = false;\n\n        if (layer.selection.length !== 1) {\n            layer.removeShape(this.rect, false, false);\n            return;\n        }\n\n        const w = this.rect.w;\n        const h = this.rect.h;\n        const sel = layer.selection[0];\n\n        if (sel instanceof BaseRect) {\n            sel.w *= (this.xCount * gameStore.gridSize) / w;\n            sel.h *= (this.yCount * gameStore.gridSize) / h;\n        }\n\n        layer.removeShape(this.rect, false, false);\n    }\n}\n","import { render, staticRenderFns } from \"./load.vue?vue&type=template&id=ff095222&\"\nimport script from \"./load.vue?vue&type=script&lang=ts&\"\nexport * from \"./load.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Tool from \"@/game/ui/tools/tool.vue\";\n\nimport { sendClientOptions } from \"@/game/api/utils\";\nimport { LocalPoint } from \"@/game/geom\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { gameStore } from \"@/game/store\";\nimport { getMouse } from \"@/game/utils\";\nimport Component from \"vue-class-component\";\n\n@Component\nexport default class PanTool extends Tool {\n    name = \"Pan\";\n    panStart = new LocalPoint(0, 0);\n    active = false;\n\n    onMouseDown(event: MouseEvent) {\n        this.panStart = getMouse(event);\n        this.active = true;\n    }\n    onMouseMove(event: MouseEvent) {\n        if (!this.active) return;\n        const mouse = getMouse(event);\n        const distance = mouse.subtract(this.panStart).multiply(1 / gameStore.zoomFactor);\n        gameStore.increasePanX(Math.round(distance.x));\n        gameStore.increasePanY(Math.round(distance.y));\n        this.panStart = mouse;\n        layerManager.invalidate();\n    }\n    onMouseUp(event: MouseEvent) {\n        this.active = false;\n        sendClientOptions();\n    }\n}\n","import { render, staticRenderFns } from \"./selectcontext.vue?vue&type=template&id=2e7d4582&scoped=true&\"\nimport script from \"./selectcontext.vue?vue&type=script&lang=ts&\"\nexport * from \"./selectcontext.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./selectcontext.vue?vue&type=style&index=0&id=2e7d4582&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e7d4582\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\n\nimport { app } from \"@/main\";\n\n// Reference: https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\nexport function uuidv4() {\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, c => {\n        const r = (Math.random() * 16) | 0;\n        const v = c === \"x\" ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\n\nexport function capitalize(text: string) {\n    return text.charAt(0).toUpperCase() + text.slice(1);\n}\n\nexport function alphSort(a: string, b: string) {\n    if (a.toLowerCase() < b.toLowerCase()) return -1;\n    else return 1;\n}\n\nexport function getHTMLFont(element: HTMLElement) {\n    let font = element.style.font;\n    while (font === null && element.parentElement !== null) {\n        element = element.parentElement;\n        font = element.style.font;\n    }\n    if (font === null) font = window.getComputedStyle(document.body).getPropertyValue(\"font\");\n    return font;\n}\n\nexport function getHTMLTextWidth(text: string, font: string): number {\n    let fakeElement = <HTMLCanvasElement>document.getElementById(\"emptycanvas\");\n    if (fakeElement === null) {\n        fakeElement = document.createElement(\"canvas\");\n        fakeElement.id = \"emptycanvas\";\n        fakeElement.style.display = \"\";\n        document.body.appendChild(fakeElement);\n    }\n    const ctx = fakeElement.getContext(\"2d\")!;\n    ctx.font = font;\n    return Math.ceil(ctx.measureText(text).width);\n}\n\nexport function partition<T>(arr: T[], predicate: (n: T) => boolean) {\n    const ret: T[][] = [[], []];\n    arr.forEach(n => (predicate(n) ? ret[1].push(n) : ret[0].push(n)));\n    return ret;\n}\n\nexport function calcFontScale(ctx: CanvasRenderingContext2D, text: string, width: number, height: number) {\n    const points = Number(ctx.font.split(\"px\")[0]) * 0.2;\n    const fontWidth = ctx.measureText(text).width;\n    return Math.min(width / fontWidth, height / points);\n}\n\nexport function fixedEncodeURIComponent(str: string) {\n    return encodeURIComponent(str).replace(/[!'()*]/g, c => {\n        return \"%\" + c.charCodeAt(0).toString(16);\n    });\n}\n\nexport class OrderedMap<K, V> {\n    keys: K[] = [];\n    values: V[] = [];\n\n    get length() {\n        return this.keys.length;\n    }\n\n    get(key: K) {\n        return this.values[this.keys.indexOf(key)];\n    }\n    getIndexValue(idx: number) {\n        return this.values[idx];\n    }\n    getIndexKey(idx: number) {\n        return this.keys[idx];\n    }\n    set(key: K, value: V) {\n        this.keys.push(key);\n        this.values.push(value);\n    }\n    has(key: K) {\n        return this.indexOf(key) >= 0;\n    }\n    indexOf(element: K) {\n        return this.keys.indexOf(element);\n    }\n    remove(element: K) {\n        const idx = this.indexOf(element);\n        this.keys.splice(idx, 1);\n        this.values.splice(idx, 1);\n    }\n}\n\nexport function getComponent<T extends Vue>(): T {\n    return <T>app.$children[0].$refs.activeComponent;\n}\n\nexport function getRef<T extends Vue>(ref: string): T {\n    const active = <Vue>app.$children[0].$refs.activeComponent;\n    return <T>active.$refs[ref];\n}\n","import { render, staticRenderFns } from \"./contextMenu.vue?vue&type=template&id=dbbd4d08&\"\nimport script from \"./contextMenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./contextMenu.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { EdgeCirculator, Point, Sign, Triangle, Vertex } from \"./tds\";\n\ntype Line = number[];\n\nexport function cw(index: number) {\n    return (index + 2) % 3;\n}\n\nexport function ccw(index: number) {\n    return (index + 1) % 3;\n}\n\nexport function edgeInfo(va: Vertex, vb: Vertex) {\n    const ec = new EdgeCirculator(va, null);\n    if (ec.valid) {\n        do {\n            const indv = 3 - ec.t!.indexV(va) - ec.ri;\n            const v = ec.t!.vertices[indv]!;\n            if (!v.infinite) {\n                if (v === vb) {\n                    return { includes: true, vi: vb, fr: ec.t!, i: ec.ri };\n                } else {\n                    const orient = orientation(va.point!, vb.point!, v.point!);\n                    if (orient === Sign.COLLINEAR && collinearBetween(va.point!, v.point!, vb.point!)) {\n                        return { includes: true, vi: v, fr: ec.t!, i: ec.ri };\n                    }\n                }\n            }\n        } while (ec.next());\n    }\n    return { includes: false };\n}\n\nexport function collinearBetween(p: Point, q: Point, r: Point): boolean {\n    let cPQ: Sign;\n    let cQR: Sign;\n    if (compare(0, p, r) === Sign.EQUAL) {\n        cPQ = compare(1, p, q);\n        cQR = compare(1, q, r);\n    } else {\n        cPQ = compare(0, p, q);\n        cQR = compare(0, q, r);\n    }\n    return (cPQ === Sign.SMALLER && cQR === Sign.SMALLER) || (cPQ === Sign.LARGER && cQR === Sign.LARGER);\n}\n\nfunction compare(index: number, a: Point, b: Point): Sign {\n    if (a[index] < b[index]) return Sign.SMALLER;\n    if (a[index] > b[index]) return Sign.LARGER;\n    return Sign.EQUAL;\n}\n\nexport function orientation(p: Point, q: Point, r: Point) {\n    const px = p[0];\n    const py = p[1];\n    const qx = q[0];\n    const qy = q[1];\n    const rx = r[0];\n    const ry = r[1];\n    const pqx = qx - px;\n    const pqy = qy - py;\n    const prx = rx - px;\n    const pry = ry - py;\n    const det = determinant(pqx, pqy, prx, pry);\n    let maxX = Math.abs(pqx);\n    let maxY = Math.abs(pqy);\n    const aprX = Math.abs(prx);\n    const aprY = Math.abs(pry);\n    if (maxX < aprX) maxX = aprX;\n    if (maxY < aprY) maxY = aprY;\n    if (maxX > maxY) [maxX, maxY] = [maxY, maxX];\n    // underflow proection in eps computation?? Math.sqrt(Number.MIN_VALUE, Number.EPSILON)\n    if (maxX < 2e-162 && maxX === 0) {\n        return Sign.ZERO;\n    }\n    // overflow protection in det computation\n    if (maxY < 1e153) {\n        const eps = Number.EPSILON * maxX * maxY;\n        if (det > eps) return Sign.POSITIVE;\n        if (det < -eps) return Sign.NEGATIVE;\n    }\n    return Sign.ZERO;\n}\n\nexport function determinant(a00: number, a01: number, a10: number, a11: number) {\n    return a00 * a11 - a01 * a10;\n}\n\nexport function hasInexactNegativeOrientation(p: Point, q: Point, r: Point) {\n    return determinant(q[0] - p[0], q[1] - p[1], r[0] - p[0], r[1] - p[1]) < 0;\n}\n\nexport function sideOfOrientedCircle(t: Triangle, p: Point, perturb: boolean): Sign {\n    if (!t.isInfinite())\n        return sideOfOrientedCircleP(t.vertices[0]!.point!, t.vertices[1]!.point!, t.vertices[2]!.point!, p, perturb);\n    throw new Error(\"SSS\");\n}\n\nfunction sideOfOrientedCircleP(p0: Point, p1: Point, p2: Point, p: Point, perturb: boolean): Sign {\n    const os = getOrientedSide(p0, p1, p2, p);\n    if (os !== Sign.ON_ORIENTED_BOUNDARY || !perturb) return os;\n    const points = [p0, p1, p2, p];\n    points.sort((a, b) => a[0] - b[0] || a[1] - b[1]);\n    for (const point of points.reverse()) {\n        if (point === p) return Sign.ON_NEGATIVE_SIDE;\n        let o = orientation(p0, p1, p);\n        if (point === p2 && o !== Sign.COLLINEAR) return o;\n        o = orientation(p0, p, p2);\n        if (point === p1 && o !== Sign.COLLINEAR) return o;\n        o = orientation(p, p1, p2);\n        if (point === p0 && o !== Sign.COLLINEAR) return o;\n    }\n    return Sign.ON_NEGATIVE_SIDE;\n}\n\nexport function xyEqual(p: Point, q: Point) {\n    return p[0] === q[0] && p[1] === q[1];\n}\n\nexport function xySmaller(p: Point, q: Point) {\n    return p[0] < q[0] || (p[0] === q[0] && p[1] < q[1]);\n}\n\nexport function xyCompare(p: Point, q: Point) {\n    if (xySmaller(p, q)) return Sign.SMALLER;\n    if (xyEqual(p, q)) return Sign.EQUAL;\n    return Sign.LARGER;\n}\n\nfunction getOrientedSide(p: Point, q: Point, r: Point, t: Point): Sign {\n    const qpx = q[0] - p[0];\n    const qpy = q[1] - p[1];\n    const rpx = r[0] - p[0];\n    const rpy = r[1] - p[1];\n    const tpx = t[0] - p[0];\n    const tpy = t[1] - p[1];\n    const tqx = t[0] - q[0];\n    const tqy = t[1] - q[1];\n    const rqx = r[0] - q[0];\n    const rqy = r[1] - q[1];\n\n    const det = determinant(qpx * tpy - qpy * tpx, tpx * tqx + tpy * tqy, qpx * rpy - qpy * rpx, rpx * rqx + rpy * rqy);\n    let maxx = Math.abs(qpx);\n    let maxy = Math.abs(qpy);\n    const arpx = Math.abs(rpx);\n    const arpy = Math.abs(rpy);\n    const atqx = Math.abs(tqx);\n    const atqy = Math.abs(tqy);\n    const atpx = Math.abs(tpx);\n    const atpy = Math.abs(tpy);\n    const arqx = Math.abs(rqx);\n    const arqy = Math.abs(rqy);\n\n    if (maxx < arpx) maxx = arpx;\n    if (maxx < atpx) maxx = atpx;\n    if (maxx < atqx) maxx = atqx;\n    if (maxx < arqx) maxx = arqx;\n\n    if (maxy < arpy) maxy = arpy;\n    if (maxy < atpy) maxy = atpy;\n    if (maxy < atqy) maxy = atqy;\n    if (maxy < arqy) maxy = arqy;\n\n    if (maxx > maxy) [maxx, maxy] = [maxy, maxx];\n\n    if (maxx < 1e-73 && maxx === 0) return Sign.ON_ORIENTED_BOUNDARY;\n    // sqrt(sqrt(max_double/16\n    else if (maxy < 1e76) {\n        const eps = Number.EPSILON * maxx * maxy * (maxy * maxy);\n        if (det > eps) return Sign.ON_POSITIVE_SIDE;\n        if (det < -eps) return Sign.ON_NEGATIVE_SIDE;\n    }\n\n    return Sign.ZERO;\n}\n\nfunction segSegDoIntersectCrossing(p1: Point, p2: Point, p3: Point, p4: Point): boolean {\n    switch (orientation(p1, p2, p3)) {\n        case Sign.LEFT_TURN:\n            return orientation(p3, p4, p2) !== Sign.RIGHT_TURN;\n        case Sign.RIGHT_TURN:\n            return orientation(p3, p4, p2) !== Sign.LEFT_TURN;\n        case Sign.COLLINEAR:\n            return true;\n    }\n}\n\nfunction segSegDoIntersectContained(p1: Point, p2: Point, p3: Point, p4: Point): boolean {\n    switch (orientation(p1, p2, p3)) {\n        case Sign.LEFT_TURN:\n            return orientation(p1, p2, p4) !== Sign.LEFT_TURN;\n        case Sign.RIGHT_TURN:\n            return orientation(p1, p2, p4) !== Sign.RIGHT_TURN;\n        case Sign.COLLINEAR:\n            return true;\n    }\n}\n\nexport function intersection(pa: Point, pb: Point, pc: Point, pd: Point) {\n    const i = getIntersectionType(pa, pb, pc, pd);\n    switch (i.intersectionType) {\n        case IntersectionType.POINT:\n            return i.point!;\n        case IntersectionType.NO_INTERSECTION:\n            return null;\n    }\n    throw new Error(\"sdfgighowen\");\n}\n\nenum IntersectionType {\n    NO_INTERSECTION,\n    POINT,\n    SEGMENT,\n}\n\nfunction getLine(p0: Point, p1: Point): Line {\n    if (p0[0] === p1[0]) return [1, 0, -p0[0]];\n    if (p0[1] === p1[1]) return [0, 1, -p0[1]];\n    const x = p1[0] - p0[0];\n    const y = p1[1] - p0[1];\n    return [-y, x, -x * p0[1] + y * p0[0]];\n}\n\nfunction getIntersectionType(pa: Point, pb: Point, pc: Point, pd: Point) {\n    if (!doIntersect(pa, pb, pc, pd)) return { intersectionType: IntersectionType.NO_INTERSECTION, point: null };\n    const l1 = getLine(pa, pb);\n    const l2 = getLine(pc, pd);\n    const info = getIntersectionTypeLine(l1, l2);\n    switch (info.intersectionType) {\n        case IntersectionType.POINT: {\n            return info;\n        }\n    }\n    throw new Error(\"gzseuihgpib\");\n}\n\nfunction getIntersectionTypeLine(la: Line, lb: Line) {\n    const denom = la[0] * lb[1] - lb[0] * la[1];\n    const nom1 = la[1] * lb[2] - lb[1] * la[2];\n    const nom2 = lb[0] * la[2] - la[0] * lb[2];\n    return {\n        intersectionType: IntersectionType.POINT,\n        point: [nom1 / denom, nom2 / denom],\n    };\n}\n\nfunction doIntersect(A1: Point, A2: Point, B1: Point, B2: Point): boolean {\n    if (xySmaller(A1, A2)) {\n        if (xySmaller(B1, B2)) {\n            if (xySmaller(A2, B1) || xySmaller(B2, A1)) return false;\n        } else {\n            if (xySmaller(A2, B2) || xySmaller(B1, A1)) return false;\n        }\n    } else {\n        if (xySmaller(B1, B2)) {\n            if (xySmaller(A1, B1) || xySmaller(B2, A2)) return false;\n        } else {\n            if (xySmaller(A1, B2) || xySmaller(B1, A2)) return false;\n        }\n    }\n    if (xySmaller(A1, A2)) {\n        if (xySmaller(B1, B2)) {\n            switch (xyCompare(A1, B1)) {\n                case Sign.SMALLER: {\n                    switch (xyCompare(A2, B1)) {\n                        case Sign.SMALLER:\n                            return false;\n                        case Sign.EQUAL:\n                            return true;\n                        default: {\n                            switch (xyCompare(A2, B2)) {\n                                case Sign.SMALLER:\n                                    return segSegDoIntersectCrossing(A1, A2, B1, B2);\n                                case Sign.EQUAL:\n                                    return true;\n                                default:\n                                    return segSegDoIntersectContained(A1, A2, B1, B2);\n                            }\n                        }\n                    }\n                }\n                case Sign.EQUAL:\n                    return true;\n                default:\n                    switch (xyCompare(B2, A1)) {\n                        case Sign.SMALLER:\n                            return false;\n                        case Sign.EQUAL:\n                            return true;\n                        default: {\n                            switch (xyCompare(B2, A2)) {\n                                case Sign.SMALLER:\n                                    return segSegDoIntersectCrossing(B1, B2, A1, A2);\n                                case Sign.EQUAL:\n                                    return true;\n                                default:\n                                    return segSegDoIntersectContained(B1, B2, A1, A2);\n                            }\n                        }\n                    }\n            }\n        } else {\n            switch (xyCompare(A1, B2)) {\n                case Sign.SMALLER: {\n                    switch (xyCompare(A2, B2)) {\n                        case Sign.SMALLER:\n                            return false;\n                        case Sign.EQUAL:\n                            return true;\n                        default: {\n                            switch (xyCompare(A2, B1)) {\n                                case Sign.SMALLER:\n                                    return segSegDoIntersectCrossing(A1, A2, B2, B1);\n                                case Sign.EQUAL:\n                                    return true;\n                                default:\n                                    return segSegDoIntersectContained(A1, A2, B2, B1);\n                            }\n                        }\n                    }\n                }\n                case Sign.EQUAL:\n                    return true;\n                default:\n                    switch (xyCompare(B1, A1)) {\n                        case Sign.SMALLER:\n                            return false;\n                        case Sign.EQUAL:\n                            return true;\n                        default: {\n                            switch (xyCompare(B1, A2)) {\n                                case Sign.SMALLER:\n                                    return segSegDoIntersectCrossing(B2, B1, A1, A2);\n                                case Sign.EQUAL:\n                                    return true;\n                                default:\n                                    return segSegDoIntersectContained(B2, B1, A1, A2);\n                            }\n                        }\n                    }\n            }\n        }\n    } else {\n        if (xySmaller(B1, B2)) {\n            switch (xyCompare(A2, B1)) {\n                case Sign.SMALLER: {\n                    switch (xyCompare(A1, B1)) {\n                        case Sign.SMALLER:\n                            return false;\n                        case Sign.EQUAL:\n                            return true;\n                        default: {\n                            switch (xyCompare(A1, B2)) {\n                                case Sign.SMALLER:\n                                    return segSegDoIntersectCrossing(A2, A1, B1, B2);\n                                case Sign.EQUAL:\n                                    return true;\n                                default:\n                                    return segSegDoIntersectContained(A2, A1, B1, B2);\n                            }\n                        }\n                    }\n                }\n                case Sign.EQUAL:\n                    return true;\n                default:\n                    switch (xyCompare(B2, A2)) {\n                        case Sign.SMALLER:\n                            return false;\n                        case Sign.EQUAL:\n                            return true;\n                        default: {\n                            switch (xyCompare(B2, A1)) {\n                                case Sign.SMALLER:\n                                    return segSegDoIntersectCrossing(B1, B2, A2, A1);\n                                case Sign.EQUAL:\n                                    return true;\n                                default:\n                                    return segSegDoIntersectContained(B1, B2, A2, A1);\n                            }\n                        }\n                    }\n            }\n        } else {\n            switch (xyCompare(A2, B2)) {\n                case Sign.SMALLER: {\n                    switch (xyCompare(A1, B2)) {\n                        case Sign.SMALLER:\n                            return false;\n                        case Sign.EQUAL:\n                            return true;\n                        default: {\n                            switch (xyCompare(A1, B1)) {\n                                case Sign.SMALLER:\n                                    return segSegDoIntersectCrossing(A2, A1, B2, B1);\n                                case Sign.EQUAL:\n                                    return true;\n                                default:\n                                    return segSegDoIntersectContained(A2, A1, B2, B1);\n                            }\n                        }\n                    }\n                }\n                case Sign.EQUAL:\n                    return true;\n                default:\n                    switch (xyCompare(B1, A2)) {\n                        case Sign.SMALLER:\n                            return false;\n                        case Sign.EQUAL:\n                            return true;\n                        default: {\n                            switch (xyCompare(B1, A1)) {\n                                case Sign.SMALLER:\n                                    return segSegDoIntersectCrossing(B2, B1, A2, A1);\n                                case Sign.EQUAL:\n                                    return true;\n                                default:\n                                    return segSegDoIntersectContained(B2, B1, A2, A1);\n                            }\n                        }\n                    }\n            }\n        }\n    }\n}\n\nfunction nextUp(x: number) {\n    if (x !== x) {\n        return x;\n    }\n    if (x === -1 / 0) {\n        return -Number.MAX_VALUE;\n    }\n    if (x === +1 / 0) {\n        return +1 / 0;\n    }\n    if (x === +Number.MAX_VALUE) {\n        return +1 / 0;\n    }\n    let y = x * (x < 0 ? 1 - Number.EPSILON / 2 : 1 + Number.EPSILON);\n    if (y === x) {\n        y = Number.MIN_VALUE * Number.EPSILON > 0 ? x + Number.MIN_VALUE * Number.EPSILON : x + Number.MIN_VALUE;\n    }\n    if (y === +1 / 0) {\n        y = +Number.MAX_VALUE;\n    }\n    const b = x + (y - x) / 2;\n    if (x < b && b < y) {\n        y = b;\n    }\n    const c = (y + x) / 2;\n    if (x < c && c < y) {\n        y = c;\n    }\n    return y === 0 ? -0 : y;\n}\n\nexport function ulp(x: number) {\n    return x < 0 ? nextUp(x) - x : x + nextUp(-x);\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset_node.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset_node.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContextMenu',{attrs:{\"visible\":_vm.visible,\"left\":_vm.x + 'px',\"top\":_vm.y + 'px'},on:{\"close\":_vm.close}},[(_vm.IS_DM)?_c('li',{on:{\"click\":_vm.bringPlayers}},[_vm._v(\"Bring players\")]):_vm._e(),_c('li',{on:{\"click\":_vm.createToken}},[_vm._v(\"Create basic token\")]),_c('li',{on:{\"click\":_vm.showInitiative}},[_vm._v(\"Show initiative\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectcontext.vue?vue&type=template&id=2e7d4582&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vision.vue?vue&type=style&index=0&id=46baf892&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vision.vue?vue&type=style&index=0&id=46baf892&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_dialog.vue?vue&type=style&index=0&id=23de098e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_dialog.vue?vue&type=style&index=0&id=23de098e&scoped=true&lang=css&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Prop } from \"vue-property-decorator\";\n\n@Component\nexport default class Modal extends Vue {\n    @Prop(Boolean) visible!: boolean;\n    @Prop({ type: Boolean, default: true }) mask!: boolean;\n    @Prop({ type: String, default: \"white\" }) colour!: string;\n\n    $refs!: {\n        container: HTMLElement;\n    };\n\n    positioned = false;\n    offsetX = 0;\n    offsetY = 0;\n    screenX = 0;\n    screenY = 0;\n    dragging = false;\n\n    // Example of mounted required: opening note\n    mounted() {\n        this.updatePosition();\n    }\n    // Example of updated required: opening initiative\n    updated() {\n        this.updatePosition();\n    }\n\n    close(event: MouseEvent) {\n        this.$emit(\"close\");\n    }\n    updatePosition() {\n        if (!this.positioned) {\n            const container = <any>this.$refs.container;\n            if (container.offsetWidth === 0 && container.offsetHeight === 0) return;\n            this.$refs.container.style.left = (window.innerWidth - container.offsetWidth) / 2 + \"px\";\n            this.$refs.container.style.top = (window.innerHeight - container.offsetHeight) / 2 + \"px\";\n            this.positioned = true;\n        }\n    }\n    dragStart(event: DragEvent) {\n        if (event === null || event.dataTransfer === null) return;\n        event.dataTransfer.setData(\"Hack\", \"\");\n        // Because the drag event is happening on the header, we have to change the drag image\n        // in order to give the impression that the entire modal is dragged.\n        event.dataTransfer.setDragImage(<Element>this.$refs.container, event.offsetX, event.offsetY);\n        this.offsetX = event.offsetX;\n        this.offsetY = event.offsetY;\n        this.screenX = event.screenX;\n        this.screenY = event.screenY;\n        this.dragging = true;\n    }\n    dragEnd(event: DragEvent) {\n        this.dragging = false;\n        let left = event.clientX - this.offsetX;\n        let top = event.clientY - this.offsetY;\n        if (event.clientX === 0 && event.clientY === 0 && event.pageX === 0 && event.pageY === 0) {\n            left = parseInt(this.$refs.container.style.left!, 10) - (this.screenX - event.screenX);\n            top = parseInt(this.$refs.container.style.top!, 10) - (this.screenY - event.screenY);\n        }\n        if (left < 0) left = 0;\n        if (left > window.innerWidth - 100) left = window.innerWidth - 100;\n        if (top < 0) top = 0;\n        if (top > window.innerHeight - 100) top = window.innerHeight - 100;\n        this.$refs.container.style.left = left + \"px\";\n        this.$refs.container.style.top = top + \"px\";\n        this.$refs.container.style.display = \"block\";\n    }\n    dragOver(event: DragEvent) {\n        if (this.dragging) this.$refs.container.style.display = \"none\";\n    }\n}\n","import io from \"socket.io-client\";\n\nimport { Asset } from \"@/core/comm/types\";\nimport { assetStore } from \"./store\";\n\nexport const socket = io(location.protocol + \"//\" + location.host + \"/pa_assetmgmt\", { autoConnect: false });\n\n// export const socket = io.connect(location.protocol + \"//\" + location.host + \"/pa_assetmgmt\");\nsocket.on(\"connect\", () => {\n    console.log(\"Connected\");\n});\nsocket.on(\"disconnect\", () => {\n    console.log(\"Disconnected\");\n});\nsocket.on(\"redirect\", (destination: string) => {\n    console.log(\"redirecting\");\n    window.location.href = destination;\n});\nsocket.on(\"Folder.Root.Set\", (root: number) => {\n    assetStore.setRoot(root);\n});\nsocket.on(\"Folder.Set\", (folder: Asset) => {\n    assetStore.clear();\n    if (folder.children) {\n        for (const child of folder.children) {\n            assetStore.idMap.set(child.id, child);\n            if (child.file_hash) {\n                assetStore.files.push(child.id);\n            } else {\n                assetStore.folders.push(child.id);\n            }\n        }\n    }\n});\nsocket.on(\"Folder.Create\", (folder: Asset) => {\n    assetStore.folders.push(folder.id);\n    assetStore.idMap.set(folder.id, folder);\n});\nsocket.on(\"Asset.Upload.Finish\", (asset: Asset) => {\n    assetStore.idMap.set(asset.id, asset);\n    assetStore.files.push(asset.id);\n});\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Component from \"vue-class-component\";\n\nimport Accordion from \"@/core/components/accordion.vue\";\nimport Tool from \"@/game/ui/tools/tool.vue\";\n\nimport { socket } from \"@/game/api/socket\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { gameStore } from \"@/game/store\";\n\n@Component({\n    components: {\n        accordion: Accordion,\n    },\n})\nexport default class FilterTool extends Tool {\n    name = \"Filter\";\n    active = false;\n\n    get labels() {\n        const cat: { [category: string]: [string, string][] } = {'': []};\n        for (const uuid of Object.keys(gameStore.labels)) {\n            const label = gameStore.labels[uuid];\n            if (!label.category) cat[\"\"].push([label.uuid, label.name]);\n            else {\n                if (!(label.category in cat)) cat[label.category] = [];\n                cat[label.category].push([label.uuid, label.name]);\n                cat[label.category].sort((a, b) => a[1].localeCompare(b[1]));\n            }\n        }\n        return cat;\n    }\n\n    get initalValues() {\n        const values: { [category: string]: string[] } = {};\n        for (const cat of Object.keys(this.labels)) {\n            values[cat] = gameStore.labelFilters.filter(f => this.labels[cat].map(l => l[0]).includes(f));\n        }\n        return values;\n    }\n\n    get categories() {\n        return Object.keys(this.labels).sort();\n    }\n\n    isFilter(uuid: string): boolean {\n        return gameStore.labelFilters.includes(uuid);\n    }\n\n    toggleFilter(uuid: string) {\n        const i = gameStore.labelFilters.indexOf(uuid);\n        if (i >= 0) gameStore.labelFilters.splice(i, 1);\n        else gameStore.labelFilters.push(uuid);\n        layerManager.invalidate();\n    }\n\n    toggleUnlabeled() {\n        gameStore.toggleUnlabeledFilter();\n        layerManager.invalidate();\n    }\n\n    updateSelection(data: { title: string; selection: string[] }) {\n        if (!(data.title in this.labels)) return;\n        for (const [uuid, _] of this.labels[data.title]) {\n            const idx = gameStore.labelFilters.indexOf(uuid);\n            const selected = data.selection.includes(uuid);\n            if (idx >= 0 && !selected) {\n                gameStore.labelFilters.splice(idx, 1);\n                socket.emit(\"Labels.Filter.Remove\", uuid);\n            } else if (idx < 0 && selected) {\n                gameStore.labelFilters.push(uuid);\n                socket.emit(\"Labels.Filter.Add\", uuid);\n            }\n        }\n        layerManager.invalidate();\n    }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport { Prop } from \"vue-property-decorator\";\nimport { gameStore } from '../../game/store';\n\n@Component\nexport default class Accordion extends Vue {\n    @Prop(String) title!: string;\n    @Prop({ default: true, type: Boolean }) showArrow!: boolean;\n    @Prop({ default: () => []}) items!: [string, string][];\n    @Prop({ default: () => []}) initialValues!: string[];\n\n    selected: string[] = [];\n\n    active = false;\n\n    mounted() {\n        this.selected = this.initialValues;\n        this.updateCategory();\n    }\n\n    toggleDisplay(event: MouseEvent) {\n        this.active = !this.active;\n    }\n\n    toggleCategory() {\n        const overall = this.$refs.overall as HTMLInputElement;\n        if (overall.checked) this.selected = this.items.map((i) => i[0]);\n        else this.selected = [];\n        this.$emit(\"selectionupdate\", {title: this.title, selection: this.selected});\n    }\n\n    updateCategory() {\n        const overall = this.$refs.overall as HTMLInputElement;\n        if (this.selected.length === 0) {\n            overall.checked = false;\n            overall.indeterminate = false;\n        } else if(this.selected.length === this.items.length) {\n            overall.checked = true;\n            overall.indeterminate = false;\n        } else {\n            overall.checked = false;\n            overall.indeterminate = true;\n        }\n    }\n\n    toggleSelection(item: string) {\n        const found = this.selected.indexOf(item);\n        if (found === -1) this.selected.push(item);\n        else this.selected.splice(found, 1);\n        this.updateCategory();\n        this.$emit(\"selectionupdate\", {title: this.title, selection: this.selected});\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.selected)?_c('div',{staticClass:\"tool-detail\",style:({'--detailRight': _vm.detailRight, '--detailArrow': _vm.detailArrow})},_vm._l((_vm.tokens),function(token){return _c('div',{key:token.uuid,staticClass:\"token\",class:{'selected': _vm.selection.includes(token.uuid)},on:{\"click\":function($event){return _vm.toggle(token.uuid)}}},[(token.src)?_c('img',{attrs:{\"src\":token.src,\"width\":\"30px\",\"height\":\"30px\"}}):_vm._e(),_c('div',[_vm._v(_vm._s(token.name))])])}),0):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vision.vue?vue&type=template&id=46baf892&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectcontext.vue?vue&type=style&index=0&id=2e7d4582&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectcontext.vue?vue&type=style&index=0&id=2e7d4582&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=0&lang=css&\"","import { GlobalPoint, LocalPoint } from \"@/game/geom\";\nimport { BoundingRect } from \"@/game/shapes/boundingrect\";\nimport { Shape } from \"@/game/shapes/shape\";\nimport { g2lx, g2ly, g2lz, l2g } from \"@/game/units\";\nimport { getFogColour } from \"@/game/utils\";\nimport { ServerMultiLine } from \"../comm/types/shapes\";\n\nexport class MultiLine extends Shape {\n    type = \"multiline\";\n    _points: GlobalPoint[] = [];\n    lineWidth: number;\n    constructor(\n        startPoint: GlobalPoint,\n        points?: GlobalPoint[],\n        lineWidth?: number,\n        strokeColour?: string,\n        uuid?: string,\n    ) {\n        super(startPoint, \"rgba(0, 0, 0, 0)\", strokeColour || \"#000\", uuid);\n        this._points = points || [];\n        this.lineWidth = lineWidth || 3;\n    }\n\n    get refPoint() {\n        return this._refPoint;\n    }\n    set refPoint(point: GlobalPoint) {\n        const delta = point.subtract(this._refPoint);\n        this._refPoint = point;\n        for (let i = 0; i < this._points.length; i++) this._points[i] = this._points[i].add(delta);\n    }\n\n    asDict() {\n        return Object.assign(this.getBaseDict(), {\n            line_width: this.lineWidth,\n            points: this._points.map(p => ({ x: p.x, y: p.y })),\n        });\n    }\n    fromDict(data: ServerMultiLine) {\n        super.fromDict(data);\n        this._points = data.points.map(p => new GlobalPoint(p.x, p.y));\n    }\n    get points() {\n        return this._points.map(point => [point.x, point.y]);\n    }\n    getBoundingBox(): BoundingRect {\n        let minx: number = this.refPoint.x;\n        let maxx: number = this.refPoint.x;\n        let miny: number = this.refPoint.y;\n        let maxy: number = this.refPoint.y;\n        for (const p of this._points) {\n            if (p.x < minx) minx = p.x;\n            if (p.x > maxx) maxx = p.x;\n            if (p.y < miny) miny = p.y;\n            if (p.y > maxy) maxy = p.y;\n        }\n        return new BoundingRect(new GlobalPoint(minx, miny), maxx - minx, maxy - miny);\n    }\n    draw(ctx: CanvasRenderingContext2D) {\n        super.draw(ctx);\n        ctx.beginPath();\n        ctx.lineCap = \"round\";\n        ctx.lineJoin = \"round\";\n        ctx.moveTo(g2lx(this.refPoint.x), g2ly(this.refPoint.y));\n        for (const p of this._points) ctx.lineTo(g2lx(p.x), g2ly(p.y));\n        if (this.strokeColour === \"fog\") ctx.strokeStyle = getFogColour();\n        else ctx.strokeStyle = this.strokeColour;\n        ctx.lineWidth = g2lz(this.lineWidth);\n        ctx.stroke();\n    }\n    contains(point: GlobalPoint): boolean {\n        return this.getBoundingBox().contains(point);\n    }\n\n    center(): GlobalPoint;\n    center(centerPoint: GlobalPoint): void;\n    center(centerPoint?: GlobalPoint): GlobalPoint | void {\n        return this.getBoundingBox().center();\n    }\n    visibleInCanvas(canvas: HTMLCanvasElement): boolean {\n        return this.getBoundingBox().visibleInCanvas(canvas);\n    } // TODO\n    snapToGrid(): void {}\n    resizeToGrid(): void {}\n    resize(resizePoint: number, point: LocalPoint): void {\n        if (resizePoint === 0) this._refPoint = l2g(point);\n        else this._points[resizePoint - 1] = l2g(point);\n    }\n}\n","import { render, staticRenderFns } from \"./draw.vue?vue&type=template&id=639cd890&scoped=true&\"\nimport script from \"./draw.vue?vue&type=script&lang=ts&\"\nexport * from \"./draw.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./draw.vue?vue&type=style&index=0&id=639cd890&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"639cd890\",\n  null\n  \n)\n\nexport default component.exports","import tinycolor from \"tinycolor2\";\n\nimport { LocalPoint } from \"@/game/geom\";\nimport { gameStore } from \"@/game/store\";\n\nexport function getMouse(e: MouseEvent): LocalPoint {\n    return new LocalPoint(e.pageX, e.pageY);\n}\n\nexport function getFogColour(opposite: boolean = false): string {\n    const tc = tinycolor(gameStore.fowColour);\n    if (gameStore.IS_DM) tc.setAlpha(opposite ? 1 : gameStore.fowOpacity);\n    else tc.setAlpha(1);\n    return tc.toRgbString();\n}\n\nexport function zoomValue(display: number) {\n    // Powercurve 0.2/3/10\n    // Based on https://stackoverflow.com/a/17102320\n    return 1 / (-5 / 3 + (28 / 15) * Math.exp(1.83 * display));\n}\n\nexport function zoomDisplay(value: number) {\n    return Math.log((1 / value + 5 / 3) * (15 / 28)) / 1.83;\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport * as tinycolor from \"tinycolor2\";\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport { mapState } from \"vuex\";\n\nimport ColorPicker from \"@/core/components/colorpicker.vue\";\nimport Modal from \"@/core/components/modals/modal.vue\";\n\nimport { calcFontScale } from \"@/core/utils\";\nimport { LocalPoint } from \"@/game/geom\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { CircularToken } from \"@/game/shapes/circulartoken\";\nimport { gameStore } from \"@/game/store\";\nimport { getUnitDistance, l2g } from \"@/game/units\";\nimport { Watch } from \"vue-property-decorator\";\n\n@Component({\n    components: {\n        Modal,\n        \"color-picker\": ColorPicker,\n    },\n    computed: {\n        ...mapState(\"game\", [\"unitSize\"]),\n    },\n})\nexport default class CreateTokenModal extends Vue {\n    x = 0;\n    y = 0;\n    visible = false;\n    text = \"X\";\n    fillColour = \"rgba(255, 255, 255, 1)\";\n    borderColour = \"rgba(0, 0, 0, 1)\";\n\n    mounted() {\n        this.updatePreview();\n    }\n\n    @Watch(\"text\")\n    onTextChange(newValue: string, oldValue: string) {\n        this.updatePreview();\n    }\n    @Watch(\"fillColour\")\n    onFillChange(newValue: string, oldValue: string) {\n        this.updatePreview();\n    }\n    @Watch(\"borderColour\")\n    onBorderChange(newValue: string, oldValue: string) {\n        this.updatePreview();\n    }\n\n    open(x: number, y: number) {\n        this.visible = true;\n        this.x = x;\n        this.y = y;\n    }\n    submit() {\n        const layer = layerManager.getLayer();\n        if (layer === undefined) return;\n        const token = new CircularToken(\n            l2g(new LocalPoint(this.x, this.y)),\n            getUnitDistance(gameStore.unitSize / 2),\n            this.text,\n            \"10px serif\",\n            this.fillColour,\n            this.borderColour,\n        );\n        token.addOwner(gameStore.username);\n        layer.addShape(token, true);\n        layer.invalidate(false);\n        this.visible = false;\n    }\n    updatePreview() {\n        const ctx = (<HTMLCanvasElement>this.$refs.canvas).getContext(\"2d\")!;\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n        ctx.beginPath();\n        const dest = { x: ctx.canvas.width / 2, y: ctx.canvas.height / 2 };\n        const r = Math.min(dest.x, dest.y) * 0.9;\n\n        ctx.fillStyle = this.fillColour;\n\n        ctx.arc(dest.x, dest.y, r, 0, 2 * Math.PI);\n        ctx.fill();\n        if (this.borderColour !== \"rgba(0, 0, 0, 0)\") {\n            ctx.beginPath();\n            ctx.lineWidth = 5;\n            ctx.strokeStyle = this.borderColour;\n            ctx.arc(dest.x, dest.y, r, 0, 2 * Math.PI);\n            ctx.stroke();\n        }\n        ctx.save();\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = \"middle\";\n        const xs = calcFontScale(ctx, this.text, r, r);\n        const ys = 0;\n        ctx.transform(xs, ys, -ys, xs, dest.x, dest.y);\n        ctx.fillStyle = tinycolor.mostReadable(this.fillColour, [\"#000\", \"#fff\"]).toHexString();\n        ctx.fillText(this.text, 0, 0);\n        ctx.restore();\n    }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport ConfirmDialog from \"@/core/components/modals/confirm.vue\";\nimport Modal from \"@/core/components/modals/modal.vue\";\n\nimport { getRef } from \"@/core/utils\";\nimport { Note } from \"@/game/comm/types/general\";\nimport { gameStore } from \"@/game/store\";\n\n@Component({\n    components: {\n        Modal,\n    },\n})\nexport default class NoteDialog extends Vue {\n    visible = false;\n    note: Note | null = null;\n\n    open(note: Note) {\n        this.visible = true;\n        this.note = note;\n    }\n    calcHeight() {\n        if (this.$refs.textarea) {\n            const el = <HTMLElement>this.$refs.textarea;\n            el.style.height = \"auto\";\n            el.style.height = el.scrollHeight + \"px\";\n            // Using the return value without the above did not achieve what I want, so hey /shrug\n            return el.scrollHeight + \"px\";\n        }\n        return \"100px\";\n    }\n    updateNote() {\n        if (this.note) gameStore.updateNote({ note: this.note, sync: true });\n    }\n    removeNote() {\n        getRef<ConfirmDialog>(\"confirm\")\n            .open(\"Are you sure you wish to remove this?\")\n            .then(\n                (result: boolean) => {\n                    if (result && this.note) {\n                        gameStore.removeNote({ note: this.note, sync: true });\n                        this.visible = false;\n                    }\n                },\n                () => {},\n            );\n    }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Component from \"vue-class-component\";\n\nimport { Watch } from \"vue-property-decorator\";\n\nimport ColorPicker from \"@/core/components/colorpicker.vue\";\nimport Tool from \"@/game/ui/tools/tool.vue\";\n\nimport { socket } from \"@/game/api/socket\";\nimport { GlobalPoint } from \"@/game/geom\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { Circle } from \"@/game/shapes/circle\";\nimport { Line } from \"@/game/shapes/line\";\nimport { MultiLine } from \"@/game/shapes/multiline\";\nimport { Polygon } from \"@/game/shapes/polygon\";\nimport { Rect } from \"@/game/shapes/rect\";\nimport { Shape } from \"@/game/shapes/shape\";\nimport { gameStore } from \"@/game/store\";\nimport { getUnitDistance, l2g } from \"@/game/units\";\nimport { getMouse } from \"@/game/utils\";\n\n@Component({\n    components: {\n        \"color-picker\": ColorPicker,\n    },\n})\nexport default class DrawTool extends Tool {\n    name = \"Draw\";\n    active = false;\n\n    startPoint: GlobalPoint | null = null;\n    shape: Shape | null = null;\n    brushHelper: Circle | null = null;\n    ruler: Line | null = null;\n\n    fillColour = \"rgba(0, 0, 0, 1)\";\n    borderColour = \"rgba(255, 255, 255, 0)\";\n\n    shapeSelect = \"square\";\n    shapes = [\"square\", \"circle\", \"draw-polygon\", \"paint-brush\"];\n    modeSelect = \"normal\";\n    modes = [\"normal\", \"reveal\", \"hide\"];\n\n    brushSize = getUnitDistance(gameStore.unitSize);\n\n    get helperSize(): number {\n        if (this.shapeSelect === \"paint-brush\") return this.brushSize / 2;\n        return getUnitDistance(this.unitSize) / 8;\n    }\n    get IS_DM(): boolean {\n        return gameStore.IS_DM;\n    }\n    get unitSize(): number {\n        return gameStore.unitSize;\n    }\n    get useGrid(): boolean {\n        return gameStore.useGrid;\n    }\n\n    @Watch(\"fillColour\")\n    onFillChange() {\n        if (this.brushHelper) this.brushHelper.fillColour = this.fillColour;\n    }\n\n    @Watch(\"modeSelect\")\n    onModeUpdate(newValue: string, oldValue: string) {\n        this.onModeChange(newValue, oldValue);\n    }\n\n    setupBrush() {\n        if (this.brushHelper === null) return;\n        if (this.modeSelect === \"reveal\" || this.modeSelect === \"hide\") {\n            this.brushHelper.options.set(\"preFogShape\", true);\n            this.brushHelper.options.set(\"skipDraw\", true);\n            this.brushHelper.fillColour = \"rgba(0, 0, 0, 1)\";\n\n            if (this.modeSelect === \"reveal\") this.brushHelper.globalCompositeOperation = \"source-over\";\n            else if (this.modeSelect === \"hide\") this.brushHelper.globalCompositeOperation = \"destination-out\";\n        } else {\n            this.brushHelper.options.delete(\"preFogShape\");\n            this.brushHelper.options.delete(\"skipDraw\");\n            this.brushHelper.globalCompositeOperation = \"source-over\";\n            this.brushHelper.fillColour = this.fillColour;\n        }\n    }\n    onModeChange(newValue: string, oldValue: string) {\n        if (this.brushHelper === null) return;\n\n        const fowLayer = layerManager.getLayer(\"fow\");\n        const normalLayer = layerManager.getLayer();\n        if (fowLayer === undefined || normalLayer === undefined) return;\n\n        this.setupBrush();\n\n        if (newValue !== \"normal\" && oldValue === \"normal\") {\n            normalLayer.removeShape(this.brushHelper, false);\n            fowLayer.addShape(this.brushHelper, false);\n        } else if (newValue === \"normal\" && oldValue !== \"normal\") {\n            normalLayer.addShape(this.brushHelper, false);\n            fowLayer.removeShape(this.brushHelper, false);\n        }\n    }\n    getLayer() {\n        if (this.modeSelect === \"normal\") return layerManager.getLayer();\n        return layerManager.getLayer(\"fow\");\n    }\n    onMouseDown(event: MouseEvent) {\n        const layer = this.getLayer();\n        if (layer === undefined) {\n            console.log(\"No active layer!\");\n            return;\n        }\n        if (!this.active) {\n            this.startPoint = l2g(getMouse(event));\n            this.active = true;\n            switch (this.shapeSelect) {\n                case \"square\": {\n                    this.shape = new Rect(this.startPoint.clone(), 0, 0, this.fillColour, this.borderColour);\n                    break;\n                }\n                case \"circle\": {\n                    this.shape = new Circle(\n                        this.startPoint.clone(),\n                        this.helperSize,\n                        this.fillColour,\n                        this.borderColour,\n                    );\n                    break;\n                }\n                case \"paint-brush\": {\n                    this.shape = new MultiLine(this.startPoint.clone(), [], this.brushSize);\n                    this.shape.fillColour = this.fillColour;\n                    break;\n                }\n                case \"draw-polygon\": {\n                    this.shape = new Polygon(this.startPoint.clone(), [], this.fillColour, this.borderColour);\n                    break;\n                }\n                default:\n                    return;\n            }\n\n            if (this.modeSelect !== \"normal\") {\n                this.shape.options.set(\"preFogShape\", true);\n                this.shape.options.set(\"skipDraw\", true);\n                this.shape.fillColour = \"rgba(0, 0, 0, 1)\";\n            }\n            if (this.modeSelect === \"reveal\") this.shape.globalCompositeOperation = \"source-over\";\n            else if (this.modeSelect === \"hide\") this.shape.globalCompositeOperation = \"destination-out\";\n\n            this.shape.addOwner(gameStore.username);\n            if (layer.name === \"fow\" && this.modeSelect === \"normal\") {\n                this.shape.visionObstruction = true;\n                this.shape.movementObstruction = true;\n            }\n            layer.addShape(this.shape, true, false, false);\n\n            // Push brushhelper to back\n            this.pushBrushBack();\n        } else if (this.shape !== null && this.shape instanceof Polygon) {\n            // For polygon draw\n            this.shape._vertices.push(l2g(getMouse(event)));\n        }\n        if (this.shape !== null && this.shape instanceof Polygon) {\n            const lastPoint = l2g(getMouse(event));\n            if (this.ruler === null) {\n                this.ruler = new Line(lastPoint, lastPoint, 3, \"black\");\n                layer.addShape(this.ruler, false);\n            } else {\n                this.ruler.refPoint = lastPoint;\n                this.ruler.endPoint = lastPoint;\n            }\n            if (this.shape.visionObstruction) gameStore.recalculateVision(true);\n            layer.invalidate(false);\n            socket.emit(\"Shape.Update\", { shape: this.shape!.asDict(), redraw: true, temporary: true });\n        }\n    }\n    onMouseMove(event: MouseEvent) {\n        const endPoint = l2g(getMouse(event));\n        const layer = this.getLayer();\n        if (layer === undefined) {\n            console.log(\"No active layer!\");\n            return;\n        }\n\n        if (this.brushHelper !== null) {\n            this.brushHelper.r = this.helperSize;\n            this.brushHelper.refPoint = endPoint;\n            if (!this.active) layer.invalidate(false);\n        }\n\n        if (!this.active || this.startPoint === null || this.shape === null) return;\n\n        switch (this.shapeSelect) {\n            case \"square\": {\n                (<Rect>this.shape).w = Math.abs(endPoint.x - this.startPoint.x);\n                (<Rect>this.shape).h = Math.abs(endPoint.y - this.startPoint.y);\n                this.shape.refPoint = new GlobalPoint(\n                    Math.min(this.startPoint.x, endPoint.x),\n                    Math.min(this.startPoint.y, endPoint.y),\n                );\n                break;\n            }\n            case \"circle\": {\n                (<Circle>this.shape).r = endPoint.subtract(this.startPoint).length();\n                break;\n            }\n            case \"paint-brush\": {\n                (<MultiLine>this.shape)._points.push(endPoint);\n                break;\n            }\n            case \"draw-polygon\": {\n                this.ruler!.endPoint = endPoint;\n                break;\n            }\n        }\n\n        if (!(this.shape instanceof Polygon)) {\n            socket.emit(\"Shape.Update\", { shape: this.shape!.asDict(), redraw: true, temporary: true });\n            if (this.shape.visionObstruction) gameStore.recalculateVision(true);\n        }\n        layer.invalidate(false);\n    }\n    onMouseUp(event: MouseEvent) {\n        if (!this.active || this.shape === null || this.shape instanceof Polygon) return;\n        if (!event.altKey && this.useGrid) {\n            this.shape.resizeToGrid();\n        }\n        this.finaliseShape();\n    }\n    onContextMenu(event: MouseEvent) {\n        if (!this.active || this.shape === null || !(this.shape instanceof Polygon)) return;\n        const layer = this.getLayer();\n        if (layer === undefined) {\n            console.log(\"No active layer!\");\n            return;\n        }\n        layer.removeShape(this.ruler!, false);\n        this.ruler = null;\n        this.finaliseShape();\n    }\n\n    private finaliseShape() {\n        if (this.shape === null) return;\n        if (this.shape.visionObstruction) gameStore.recalculateVision();\n        if (this.shape.movementObstruction) gameStore.recalculateMovement();\n        socket.emit(\"Shape.Update\", { shape: this.shape!.asDict(), redraw: true, temporary: false });\n        this.active = false;\n    }\n\n    onSelect() {\n        const layer = this.getLayer();\n        if (layer === undefined) return;\n        this.brushHelper = new Circle(new GlobalPoint(-1000, -1000), this.brushSize / 2, this.fillColour);\n        this.setupBrush();\n        layer.addShape(this.brushHelper, false); // during mode change the shape is already added\n    }\n    onDeselect() {\n        const layer = this.getLayer();\n        if (this.brushHelper !== null && layer !== undefined) layer.removeShape(this.brushHelper, false);\n        if (this.active && layer !== undefined && this.shape !== null) {\n            layer.removeShape(this.shape, true, false);\n            this.shape = null;\n            this.active = false;\n            layer.invalidate(false);\n        }\n    }\n\n    private pushBrushBack() {\n        const layer = this.getLayer();\n        if (layer === undefined) {\n            console.log(\"No active layer!\");\n            return;\n        }\n        if (this.brushHelper !== null) layer.removeShape(this.brushHelper, false);\n        this.brushHelper = new Circle(new GlobalPoint(-1000, -1000), this.brushSize / 2, this.fillColour);\n        this.setupBrush();\n        layer.addShape(this.brushHelper, false); // during mode change the shape is already added\n    }\n}\n","import { GlobalPoint, LocalPoint } from \"@/game/geom\";\nimport { BoundingRect } from \"@/game/shapes/boundingrect\";\nimport { Shape } from \"@/game/shapes/shape\";\nimport { g2lx, g2ly, l2g } from \"@/game/units\";\n\nexport class Line extends Shape {\n    type = \"line\";\n    endPoint: GlobalPoint;\n    lineWidth: number;\n    constructor(\n        startPoint: GlobalPoint,\n        endPoint: GlobalPoint,\n        lineWidth?: number,\n        strokeColour?: string,\n        uuid?: string,\n    ) {\n        super(startPoint, \"rgba(0, 0, 0, 0)\", strokeColour || \"#000\", uuid);\n        this.endPoint = endPoint;\n        this.lineWidth = lineWidth === undefined ? 1 : lineWidth;\n    }\n    asDict() {\n        return Object.assign(this.getBaseDict(), {\n            x2: this.endPoint.x,\n            y2: this.endPoint.y,\n            line_width: this.lineWidth,\n        });\n    }\n    get points() {\n        return [[this.refPoint.x, this.refPoint.y], [this.endPoint.x, this.endPoint.y]];\n    }\n    getBoundingBox(): BoundingRect {\n        return new BoundingRect(\n            new GlobalPoint(Math.min(this.refPoint.x, this.endPoint.x), Math.min(this.refPoint.y, this.endPoint.y)),\n            Math.abs(this.refPoint.x - this.endPoint.x),\n            Math.abs(this.refPoint.y - this.endPoint.y),\n        );\n    }\n    draw(ctx: CanvasRenderingContext2D) {\n        super.draw(ctx);\n        ctx.strokeStyle = this.strokeColour;\n        ctx.beginPath();\n        ctx.moveTo(g2lx(this.refPoint.x), g2ly(this.refPoint.y));\n        ctx.lineTo(g2lx(this.endPoint.x), g2ly(this.endPoint.y));\n        ctx.lineWidth = this.lineWidth;\n        ctx.stroke();\n    }\n    contains(point: GlobalPoint): boolean {\n        return false; // TODO\n    }\n\n    center(): GlobalPoint;\n    center(centerPoint: GlobalPoint): void;\n    center(centerPoint?: GlobalPoint): GlobalPoint | void {} // TODO\n    visibleInCanvas(canvas: HTMLCanvasElement): boolean {\n        return this.getBoundingBox().visibleInCanvas(canvas);\n    } // TODO\n    snapToGrid(): void {}\n    resizeToGrid(): void {}\n    resize(resizePoint: number, point: LocalPoint): void {\n        if (resizePoint === 0) this.refPoint = l2g(point);\n        else this.endPoint = l2g(point);\n    }\n}\n","// import \"./class-component-hooks\";\n\nimport axios, { AxiosResponse } from \"axios\";\nimport Vue from \"vue\";\nimport Router from \"vue-router\";\n\nVue.use(Router);\n\nimport AssetManager from \"@/assetManager/manager.vue\";\nimport Login from \"@/auth/login.vue\";\nimport Logout from \"@/auth/logout\";\nimport LoadComponent from \"@/core/components/load.vue\";\nimport Dashboard from \"@/dashboard/main.vue\";\nimport Game from \"@/game/game.vue\";\nimport Invitation from \"@/invitation/invitation\";\n\nimport { coreStore } from \"@/core/store\";\n// import { AssetManager } from \"./assetManager/assets\";\n// const AssetManager = () => import(\"./assetManager/assets\").then(m => m.AssetManager);\n\nexport const router = new Router({\n    mode: \"history\",\n    base: process.env.BASE_URL,\n    routes: [\n        {\n            path: \"/\",\n            redirect: \"/dashboard\",\n        },\n        {\n            path: \"/_load\",\n            name: \"load\",\n            component: LoadComponent,\n        },\n        {\n            path: \"/assets\",\n            component: AssetManager,\n            meta: {\n                auth: true,\n            },\n        },\n        {\n            path: \"/auth\",\n            component: { template: \"<router-view></router-view>\" },\n            children: [{ path: \"login\", component: Login }, { path: \"logout\", component: Logout }],\n        },\n        {\n            path: \"/invite/:code\",\n            component: Invitation,\n            meta: {\n                auth: true,\n            },\n        },\n        {\n            path: \"/dashboard\",\n            component: Dashboard,\n            meta: {\n                auth: true,\n            },\n        },\n        {\n            path: \"/game/:creator/:room\",\n            component: Game,\n            meta: {\n                auth: true,\n            },\n        },\n    ],\n});\n\nrouter.beforeEach((to, from, next) => {\n    if (!coreStore.initialized && to.path !== \"/_load\") {\n        next({ path: \"/_load\" });\n        axios\n            .get(\"/api/auth\")\n            .then((response: AxiosResponse) => {\n                if (response.data.auth) {\n                    coreStore.setAuthenticated(true);\n                    coreStore.setUsername(response.data.username);\n                }\n                coreStore.setInitialized(true);\n                router.push(to.path);\n            })\n            .catch(() => {\n                console.error(\"Authentication check could not be fulfilled.\");\n            });\n    } else if (to.matched.some(record => record.meta.auth) && !coreStore.authenticated) {\n        next({ path: \"/auth/login\", query: { redirect: to.path } });\n    } else {\n        next();\n    }\n});\n","\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\n@Component\nexport default class Tool extends Vue {\n    name = \"\";\n    selected = false;\n    active = false;\n    get detailRight(): string {\n        const rect = (<any>this.$parent.$refs[this.name + \"-selector\"])[0].getBoundingClientRect();\n        const mid = rect.left + rect.width / 2;\n\n        return `${window.innerWidth - Math.min(window.innerWidth - 25, mid + 75)}px`;\n    }\n    get detailArrow(): string {\n        const rect = (<any>this.$parent.$refs[this.name + \"-selector\"])[0].getBoundingClientRect();\n        const mid = rect.left + rect.width / 2;\n        const right = Math.min(window.innerWidth - 25, mid + 75);\n        return `${right - mid - 14}px`; // border width\n    }\n    created() {\n        this.$parent.$on(\"mousedown\", (event: MouseEvent, tool: string) => {\n            if (tool === this.name) this.onMouseDown(event);\n        });\n        this.$parent.$on(\"mouseup\", (event: MouseEvent, tool: string) => {\n            if (tool === this.name) this.onMouseUp(event);\n        });\n        this.$parent.$on(\"mousemove\", (event: MouseEvent, tool: string) => {\n            if (tool === this.name) this.onMouseMove(event);\n        });\n        this.$parent.$on(\"contextmenu\", (event: MouseEvent, tool: string) => {\n            if (tool === this.name) this.onContextMenu(event);\n        });\n        this.$parent.$on(\"tools-select-change\", (newValue: string, oldValue: string) => {\n            if (oldValue === this.name) {\n                this.selected = false;\n                this.onDeselect();\n            } else if (newValue === this.name) {\n                this.selected = true;\n                this.onSelect();\n            }\n        });\n    }\n    onSelect() {}\n    onDeselect() {}\n    onMouseDown(event: MouseEvent) {}\n    onMouseUp(event: MouseEvent) {}\n    onMouseMove(event: MouseEvent) {}\n    onContextMenu(event: MouseEvent) {}\n}\n","import { render, staticRenderFns } from \"./tools.vue?vue&type=template&id=b6e1f51c&scoped=true&\"\nimport script from \"./tools.vue?vue&type=script&lang=ts&\"\nexport * from \"./tools.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./tools.vue?vue&type=style&index=0&id=b6e1f51c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b6e1f51c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"main\"},on:{\"mouseleave\":_vm.mouseleave,\"wheel\":_vm.zoom}},[(_vm.showUI)?_c('menu-bar'):_vm._e(),_c('div',{attrs:{\"id\":\"board\"}},[(_vm.ready.manager)?[_c('tool-bar',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUI),expression:\"showUI\"}],ref:\"tools\"})]:_vm._e(),_c('div',{attrs:{\"id\":\"layers\"},on:{\"mousedown\":_vm.mousedown,\"mouseup\":_vm.mouseup,\"mousemove\":_vm.mousemove,\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.contextmenu($event)},\"dragover\":function($event){$event.preventDefault();},\"drop\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.drop($event)}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUI && _vm.layers.length>1),expression:\"showUI && layers.length>1\"}],attrs:{\"id\":\"layerselect\"}},[_c('ul',_vm._l((_vm.layers),function(layer){return _c('li',{key:layer.name,class:{ 'layer-selected': layer === _vm.selectedLayer },on:{\"mousedown\":function($event){return _vm.selectLayer(layer)}}},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(layer))])])}),0)])],2),_c('selection-info',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUI),expression:\"showUI\"}],ref:\"selectionInfo\"}),_c('initiative-dialog',{ref:\"initiative\",attrs:{\"id\":\"initiativedialog\"}}),_c('note-dialog',{ref:\"note\"}),_c('label-dialog',{ref:\"labels\"}),(_vm.IS_DM || _vm.FAKE_PLAYER)?_c('dm-settings',{ref:\"dmsettings\"}):_vm._e(),_c('zoom-slider',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUI),expression:\"showUI\"}],attrs:{\"id\":\"zoomer\",\"height\":6,\"width\":200,\"min\":0,\"max\":1,\"interval\":0.1,\"dot-width\":8,\"dot-height\":20,\"tooltip-dir\":'bottom',\"tooltip\":'hover',\"formatter\":_vm.zoomDisplay.toFixed(1),\"slider-style\":{'border-radius': '15%'},\"bg-style\":{'background-color': '#fff', 'box-shadow': '0.5px 0.5px 3px 1px rgba(0, 0, 0, .36)'},\"process-style\":{'background-color': '#fff'}},model:{value:(_vm.zoomDisplay),callback:function ($$v) {_vm.zoomDisplay=$$v},expression:\"zoomDisplay\"}}),_c('prompt-dialog',{ref:\"prompt\"}),_c('confirm-dialog',{ref:\"confirm\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=template&id=3d0578ba&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"input-copy\"},on:{\"mouseleave\":function($event){_vm.showPopup=false}}},[_c('input',{attrs:{\"type\":\"text\",\"disabled\":\"disabled\",\"id\":\"input-element\"},domProps:{\"value\":_vm.value}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPopup),expression:\"showPopup\"}],attrs:{\"id\":\"show-popup\"}},[_vm._v(_vm._s(_vm.popupString))]),_c('div',{attrs:{\"id\":\"copy-button\"},on:{\"click\":_vm.copy}},[_c('i',{staticClass:\"far fa-copy\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inputCopy.vue?vue&type=template&id=20bfdb3e&scoped=true&\"","import { InitiativeData } from \"@/game/comm/types/general\";\nimport { ServerAsset } from \"@/game/comm/types/shapes\";\nimport { GlobalPoint } from \"@/game/geom\";\nimport { BaseRect } from \"@/game/shapes/baserect\";\nimport { gameStore } from \"@/game/store\";\nimport { g2lx, g2ly, g2lz } from \"@/game/units\";\n\nexport class Asset extends BaseRect {\n    type = \"assetrect\";\n    img: HTMLImageElement;\n    src: string = \"\";\n    constructor(img: HTMLImageElement, topleft: GlobalPoint, w: number, h: number, uuid?: string) {\n        super(topleft, w, h, undefined, undefined, uuid);\n        this.img = img;\n    }\n    asDict() {\n        return Object.assign(this.getBaseDict(), {\n            src: this.src,\n        });\n    }\n    fromDict(data: ServerAsset) {\n        super.fromDict(data);\n        this.src = data.src;\n    }\n    draw(ctx: CanvasRenderingContext2D) {\n        super.draw(ctx);\n        try {\n            ctx.drawImage(this.img, g2lx(this.refPoint.x), g2ly(this.refPoint.y), g2lz(this.w), g2lz(this.h));\n        } catch (error) {\n            console.warn(`Shape ${this.uuid} could not load the image ${this.src}`);\n        }\n    }\n    getInitiativeRepr(): InitiativeData {\n        return {\n            uuid: this.uuid,\n            visible: !gameStore.IS_DM,\n            group: false,\n            source: this.src,\n            has_img: true,\n            effects: [],\n            index: Infinity,\n        };\n    }\n}\n","import { render, staticRenderFns } from \"./inputCopy.vue?vue&type=template&id=20bfdb3e&scoped=true&\"\nimport script from \"./inputCopy.vue?vue&type=script&lang=ts&\"\nexport * from \"./inputCopy.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./inputCopy.vue?vue&type=style&index=0&id=20bfdb3e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20bfdb3e\",\n  null\n  \n)\n\nexport default component.exports","import {\n    BoundingBox,\n    EdgeCirculator,\n    FaceCirculator,\n    LineFaceCirculator,\n    LocateType,\n    Point,\n    Sign,\n    TDS,\n    Triangle,\n    Vertex,\n} from \"./tds\";\nimport {\n    ccw,\n    collinearBetween,\n    cw,\n    edgeInfo,\n    hasInexactNegativeOrientation,\n    intersection,\n    orientation,\n    sideOfOrientedCircle,\n    xyEqual,\n} from \"./triag\";\n\nexport type Edge = [Triangle, number];\n\nexport class CDT {\n    tds: TDS;\n    constructor() {\n        this.tds = new TDS();\n    }\n    insertConstraint(a: Point, b: Point) {\n        const va = this.insert(a);\n        const vb = this.insert(b);\n        if (va !== vb) this.insertConstraintV(va, vb);\n    }\n\n    insertConstraintV(va: Vertex, vb: Vertex) {\n        const stack = [[va, vb]];\n        while (stack.length > 0) {\n            const v = stack.pop()!;\n            const info = edgeInfo(v[0], v[1]);\n            if (info.includes) {\n                this.markConstraint(info.fr!, info.i!);\n                if (info.vi! !== v[1]) {\n                    stack.push([info.vi!, v[1]]);\n                }\n                continue;\n            }\n            const intersectionInfo = this.findIntersectedFaces(v[0], v[1]);\n            if (intersectionInfo.found) {\n                if (intersectionInfo.vi !== v[0] && intersectionInfo.vi !== v[1]) {\n                    stack.push([v[0], intersectionInfo.vi]);\n                    stack.push([intersectionInfo.vi, v[1]]);\n                } else {\n                    stack.push(v);\n                }\n                continue;\n            }\n            this.triangulateHole(intersectionInfo.intersectedFaces, intersectionInfo.listAB, intersectionInfo.listBA);\n            if (intersectionInfo.vi !== v[1]) {\n                stack.push([intersectionInfo.vi, v[1]]);\n            }\n        }\n    }\n\n    triangulateHole(intersectedFaces: Triangle[], listAB: Edge[], listBA: Edge[]) {\n        const edges: Edge[] = [];\n        this.triangulateHole2(intersectedFaces, listAB, listBA, edges);\n        this.propagatingFlipE(edges);\n    }\n\n    triangulateHole2(intersectedFaces: Triangle[], listAB: Edge[], listBA: Edge[], edges: Edge[]) {\n        if (listAB.length > 0) {\n            this.triangulateHalfHole(listAB, edges);\n            this.triangulateHalfHole(listBA, edges);\n            const fl = listAB[0][0];\n            const fr = listBA[0][0];\n            fl.neighbours[2] = fr;\n            fr.neighbours[2] = fl;\n            fl.constraints[2] = true;\n            fr.constraints[2] = true;\n\n            while (intersectedFaces.length > 0) {\n                this.tds.deleteTriangle(intersectedFaces.shift()!);\n            }\n        }\n    }\n\n    triangulateHalfHole(conflictBoundaries: Edge[], edges: Edge[]) {\n        let iC = 0;\n        let iN: number;\n        let iT: number;\n        const current = () => conflictBoundaries[iC];\n        const next = () => conflictBoundaries[iN];\n        const tempo = () => conflictBoundaries[iT];\n\n        const va = current()[0].vertices[ccw(current()[1])]!;\n        iN = iC;\n        ++iN;\n\n        let n: Triangle;\n        let n1: Triangle;\n        let n2: Triangle;\n        let ind: number;\n        let ind1: number;\n        let ind2: number;\n        do {\n            n1 = current()[0];\n            ind1 = current()[1];\n            if (n1.neighbours[ind1] !== null) {\n                n = n1.neighbours[ind1]!;\n                ind = cw(n.indexV(n1.vertices[cw(ind1)]!));\n                n1 = n.neighbours[ind]!;\n                ind1 = this.tds.mirrorIndex(n, ind);\n            }\n            n2 = next()[0];\n            ind2 = next()[1];\n            if (n2.neighbours[ind2] !== null) {\n                n = n2.neighbours[ind2]!;\n                ind = cw(n.indexV(n2.vertices[cw(ind2)]!));\n                n2 = n.neighbours[ind]!;\n                ind2 = this.tds.mirrorIndex(n, ind);\n            }\n            const v0 = n1.vertices[ccw(ind1)]!;\n            const v1 = n1.vertices[cw(ind1)]!;\n            const v2 = n2.vertices[cw(ind2)]!;\n            const orient = orientation(v0.point!, v1.point!, v2.point!);\n            switch (orient) {\n                case Sign.RIGHT_TURN: {\n                    const newlf = this.tds.createTriangle(v0, v2, v1, null, null, null);\n                    edges.push([newlf, 2]);\n                    newlf.neighbours[1] = n1;\n                    newlf.neighbours[0] = n2;\n                    n1.neighbours[ind1] = newlf;\n                    n2.neighbours[ind2] = newlf;\n                    if (n1.isConstrained(ind1)) newlf.constraints[1] = true;\n                    if (n2.isConstrained(ind2)) newlf.constraints[0] = true;\n                    v0.triangle = newlf;\n                    v1.triangle = newlf;\n                    v2.triangle = newlf;\n                    iT = iC + 1;\n                    conflictBoundaries.splice(iC, 0, [newlf, 2]);\n                    conflictBoundaries.splice(Math.max(iT, iN), 1);\n                    conflictBoundaries.splice(Math.min(iT, iN), 1);\n                    iN = iC;\n                    if (v0 !== va) --iC;\n                    else ++iN;\n                    break;\n                }\n                case Sign.LEFT_TURN:\n                case Sign.COLLINEAR: {\n                    ++iC;\n                    ++iN;\n                    break;\n                }\n            }\n        } while (iN < conflictBoundaries.length);\n    }\n\n    findIntersectedFaces(vaa: Vertex, vbb: Vertex) {\n        const aa = vaa.point!;\n        const bb = vbb.point!;\n        const listAB: Edge[] = [];\n        const listBA: Edge[] = [];\n        const intersectedFaces: Triangle[] = [];\n        const lfc = new LineFaceCirculator(vaa, this, bb);\n        let ind = lfc.pos!.indexV(vaa);\n        let vi: Vertex;\n        if (lfc.pos!.isConstrained(ind)) {\n            vi = this.intersect(lfc.pos!, ind, vaa, vbb);\n            return { found: true, vi, listAB, listBA, intersectedFaces };\n        }\n        let lf = lfc.pos!.neighbours[ccw(ind)]!;\n        let rf = lfc.pos!.neighbours[cw(ind)]!;\n        listAB.push([lf, lf.indexT(lfc.pos!)]);\n        listBA.unshift([rf, rf.indexT(lfc.pos!)]);\n        intersectedFaces.unshift(lfc.pos!);\n        let previousFace = lfc.pos!;\n        lfc.next();\n        ind = lfc.pos!.indexT(previousFace);\n        let currentVertex = lfc.pos!.vertices[ind]!;\n        let done = false;\n        while (currentVertex !== vbb && !done) {\n            let i1: number;\n            let i2: number;\n            const orient = orientation(aa, bb, currentVertex.point!);\n            switch (orient) {\n                case Sign.COLLINEAR: {\n                    done = true;\n                    break;\n                }\n                case Sign.LEFT_TURN:\n                case Sign.RIGHT_TURN: {\n                    if (orient === Sign.LEFT_TURN) {\n                        i1 = ccw(ind);\n                        i2 = cw(ind);\n                    } else {\n                        i1 = cw(ind);\n                        i2 = ccw(ind);\n                    }\n                    if (lfc.pos!.isConstrained(i1)) {\n                        vi = this.intersect(lfc.pos!, i1, vaa, vbb);\n                        return { found: true, vi, listAB, listBA, intersectedFaces };\n                    } else {\n                        lf = lfc.pos!.neighbours[i2]!;\n                        intersectedFaces.unshift(lfc.pos!);\n                        if (orient === Sign.LEFT_TURN) listAB.push([lf, lf.indexT(lfc.pos!)]);\n                        else listBA.unshift([lf, lf.indexT(lfc.pos!)]);\n                        previousFace = lfc.pos!;\n                        lfc.next();\n                        ind = lfc.pos!.indexT(previousFace);\n                        currentVertex = lfc.pos!.vertices[ind]!;\n                    }\n                    break;\n                }\n            }\n        }\n        vi = currentVertex;\n        intersectedFaces.unshift(lfc.pos!);\n        lf = lfc.pos!.neighbours[cw(ind)]!;\n        listAB.push([lf, lf.indexT(lfc.pos!)]);\n        rf = lfc.pos!.neighbours[ccw(ind)]!;\n        listBA.unshift([rf, rf.indexT(lfc.pos!)]);\n        return { found: false, vi, listAB, listBA, intersectedFaces };\n    }\n\n    intersect(t: Triangle, i: number, vaa: Vertex, vbb: Vertex): Vertex {\n        const vcc = t.vertices[cw(i)]!;\n        const vdd = t.vertices[ccw(i)]!;\n        const pa = vaa.point!;\n        const pb = vbb.point!;\n        const pc = vcc.point!;\n        const pd = vdd.point!;\n        let pi = intersection(pa, pb, pc, pd);\n        if (pi !== pa && pi !== pb && pi !== pc && pi !== pd) {\n            const bbox = new BoundingBox(pi!);\n            bbox.dilate(4);\n            if (bbox.overlaps(new BoundingBox(pa))) pi = pa;\n            if (bbox.overlaps(new BoundingBox(pb))) pi = pb;\n            if (bbox.overlaps(new BoundingBox(pc))) pi = pc;\n            if (bbox.overlaps(new BoundingBox(pd))) pi = pd;\n        }\n        let vi: Vertex;\n        if (pi === null) throw new Error(\"what\");\n        else {\n            this.removeConstrainedEdge(t, i);\n            vi = this.insert(pi, t);\n        }\n\n        if (vi !== vcc && vi !== vdd) {\n            this.insertConstraintV(vcc, vi);\n            this.insertConstraintV(vi, vdd);\n        } else {\n            this.insertConstraintV(vcc, vdd);\n        }\n        return vi;\n    }\n\n    removeConstrainedEdge(t: Triangle, i: number) {\n        t.constraints[i] = false;\n        if (this.tds.dimension === 2) t.neighbours[i]!.constraints[this.tds.mirrorIndex(t, i)] = false;\n    }\n\n    updateConstraintsOpposite(v: Vertex) {\n        let t = v.triangle!;\n        const start = t;\n        let indf: number;\n        do {\n            indf = t.indexV(v);\n            if (t.neighbours[indf]!.constraints[this.tds.mirrorIndex(t, indf)]) t.constraints[indf] = true;\n            else t.constraints[indf] = false;\n            t = t.neighbours[ccw(indf)]!;\n        } while (t !== start);\n    }\n\n    markConstraint(t: Triangle, i: number) {\n        if (this.tds.dimension === 1) t.constraints[2] = true;\n        else {\n            t.constraints[i] = true;\n            t.neighbours[i]!.constraints[this.tds.mirrorIndex(t, i)] = true;\n        }\n    }\n\n    insert(p: Point, start: Triangle | null = null) {\n        const locateInfo = this.locate(p, this.iLocate(p, start));\n        const va = this.insertb(p, locateInfo.loc, locateInfo.lt, locateInfo.li);\n        this.flipAround(va);\n        return va;\n    }\n\n    flipAround(v: Vertex) {\n        if (this.tds.dimension <= 1) return;\n        let t = v.triangle!;\n        let i: number;\n        let next: Triangle;\n        const start = t;\n        do {\n            i = t.indexV(v);\n            next = t.neighbours[ccw(i)]!;\n            this.propagatingFlip(t, i);\n            t = next;\n        } while (next !== start);\n    }\n\n    propagatingFlip(t: Triangle, i: number, depth = 0) {\n        if (!this.isFlipable(t, i)) return;\n        const maxDepth = 100;\n        if (depth === maxDepth) {\n            throw new Error(\"maxde\");\n            return;\n        }\n        const ni = t.neighbours[i]!;\n        this.flip(t, i);\n        this.propagatingFlip(t, i, depth + 1);\n        i = ni.indexV(t.vertices[i]!);\n        this.propagatingFlip(ni, i, depth + 1);\n    }\n\n    lessEdge(e1: Edge, e2: Edge) {\n        const ind1 = e1[1];\n        const ind2 = e2[1];\n        return e1[0].uid < e2[0].uid || (e1[0].uid === e2[0].uid && ind1 < ind2);\n    }\n\n    propagatingFlipE(edges: Edge[]) {\n        let eI = 0;\n        let t: Triangle;\n        let i: number;\n        let eni: Edge;\n        const edgeSet: Edge[] = [];\n        while (eI < edges.length) {\n            t = edges[eI][0];\n            i = edges[eI][1];\n            if (this.isFlipable(t, i)) {\n                eni = [t.neighbours[i]!, this.tds.mirrorIndex(t, i)];\n                if (this.lessEdge(edges[eI], eni)) edgeSet.push(edges[eI]);\n                else edgeSet.push(eni);\n            }\n            ++eI;\n        }\n        let indf: number;\n        let ni: Triangle;\n        let indn: number;\n        let ei: Edge;\n        const e: (Edge | null)[] = [null, null, null, null];\n        while (edgeSet.length > 0) {\n            t = edgeSet[0][0];\n            indf = edgeSet[0][1];\n            ni = t.neighbours[indf]!;\n            indn = this.tds.mirrorIndex(t, indf);\n            ei = [t, indf];\n            edgeSet.splice(edgeSet.findIndex(ed => ed[0] === ei[0] && ed[1] === ei[1]), 1);\n            e[0] = [t, cw(indf)];\n            e[1] = [t, ccw(indf)];\n            e[2] = [ni, cw(indn)];\n            e[3] = [ni, ccw(indn)];\n\n            for (const edge of e) {\n                const tt = edge![0];\n                const ii = edge![1];\n                eni = [tt.neighbours[ii]!, this.tds.mirrorIndex(tt, ii)];\n                if (this.lessEdge(edge!, eni))\n                    edgeSet.splice(edgeSet.findIndex(ed => ed[0] === edge![0] && ed[1] === edge![1]), 1);\n                else edgeSet.splice(edgeSet.findIndex(ed => ed[0] === eni[0] && ed[1] === eni[1]), 1);\n            }\n\n            this.flip(t, indf);\n\n            for (const edge of e) {\n                const tt = edge![0];\n                const ii = edge![1];\n                if (this.isFlipable(tt, ii)) {\n                    eni = [tt.neighbours[ii]!, this.tds.mirrorIndex(tt, ii)];\n                    if (this.lessEdge(edge!, eni)) edgeSet.push(edge!);\n                    else edgeSet.push(eni);\n                }\n            }\n        }\n    }\n\n    flip(t: Triangle, i: number) {\n        const u = t.neighbours[i]!;\n        const j = this.tds.mirrorIndex(t, i);\n        const t1 = t.neighbours[cw(i)]!;\n        const i1 = this.tds.mirrorIndex(t, cw(i));\n        const t2 = t.neighbours[ccw(i)]!;\n        const i2 = this.tds.mirrorIndex(t, ccw(i));\n        const t3 = u.neighbours[cw(j)]!;\n        const i3 = this.tds.mirrorIndex(u, cw(j));\n        const t4 = u.neighbours[ccw(j)]!;\n        const i4 = this.tds.mirrorIndex(u, ccw(j));\n        this.tds.flip(t, i);\n        t.constraints[t.indexT(u)] = false;\n        u.constraints[u.indexT(t)] = false;\n        t1.neighbours[i1]!.constraints[this.tds.mirrorIndex(t1, i1)] = t1.constraints[i1];\n        t2.neighbours[i2]!.constraints[this.tds.mirrorIndex(t2, i2)] = t2.constraints[i2];\n        t3.neighbours[i3]!.constraints[this.tds.mirrorIndex(t3, i3)] = t3.constraints[i3];\n        t4.neighbours[i4]!.constraints[this.tds.mirrorIndex(t4, i4)] = t4.constraints[i4];\n    }\n\n    isFlipable(t: Triangle, i: number, perturb = true) {\n        const ni = t.neighbours[i]!;\n        if (t.isInfinite() || ni.isInfinite()) return false;\n        if (t.constraints[i]) return false;\n        return sideOfOrientedCircle(ni, t.vertices[i]!.point!, perturb) === Sign.ON_POSITIVE_SIDE;\n    }\n\n    insertb(a: Point, loc: Triangle | null, lt: LocateType, li: number): Vertex {\n        let insertInConstrainedEdge = false;\n        let v1: Vertex;\n        let v2: Vertex;\n        if (lt === LocateType.EDGE && loc!.isConstrained(li)) {\n            insertInConstrainedEdge = true;\n            v1 = loc!.vertices[ccw(li)]!;\n            v2 = loc!.vertices[cw(li)]!;\n        }\n        const va = this.insertc(a, loc, lt, li);\n        if (insertInConstrainedEdge) this.updateConstraintsIncident(va, v1!, v2!);\n        else if (lt !== LocateType.VERTEX) this.clearConstraintsIncident(va);\n        if (this.tds.dimension === 2) this.updateConstraintsOpposite(va);\n        return va;\n    }\n\n    updateConstraintsIncident(va: Vertex, c1: Vertex, c2: Vertex) {\n        if (this.tds.dimension === 0) return;\n        if (this.tds.dimension === 1) {\n            const ec = new EdgeCirculator(va, null);\n            do {\n                ec.t!.constraints[2] = true;\n            } while (ec.next());\n        } else {\n            const fc = new FaceCirculator(va, null);\n            do {\n                const indf = fc.t!.indexV(va);\n                const cwi = cw(indf);\n                const ccwi = ccw(indf);\n                if (fc.t!.vertices[cwi] === c1 || fc.t!.vertices[cwi] === c2) {\n                    fc.t!.constraints[ccwi] = true;\n                    fc.t!.constraints[cwi] = false;\n                } else {\n                    fc.t!.constraints[ccwi] = false;\n                    fc.t!.constraints[cwi] = true;\n                }\n            } while (fc.next());\n        }\n    }\n\n    clearConstraintsIncident(v: Vertex) {\n        const ec = new EdgeCirculator(v, null);\n        if (ec.valid) {\n            do {\n                const t = ec.t!;\n                const indf = ec.ri;\n                t.constraints[indf] = false;\n                if (this.tds.dimension === 2) t.neighbours[indf]!.constraints[this.tds.mirrorIndex(t, indf)] = false;\n            } while (ec.next());\n        }\n    }\n\n    insertc(p: Point, loc: Triangle | null, lt: LocateType, li: number): Vertex {\n        if (this.tds.vertices.length === 1) {\n            return this.insertFirst(p);\n        } else if (this.tds.vertices.length === 2) {\n            if (lt === LocateType.VERTEX) return this.tds.finiteVertex;\n            else return this.insertSecond(p);\n        }\n        switch (lt) {\n            case LocateType.VERTEX: {\n                return loc!.vertices[li]!;\n            }\n            case LocateType.OUTSIDE_AFFINE_HULL: {\n                return this.insertOutsideAffineHull(p);\n            }\n            case LocateType.OUTSIDE_CONVEX_HULL: {\n                return this.insertOutsideConvexHull(p, loc!);\n            }\n            case LocateType.EDGE: {\n                return this.insertInEdge(p, loc!, li);\n            }\n            case LocateType.FACE: {\n                return this.insertInFace(p, loc!);\n            }\n        }\n        throw new Error(\"qwe\");\n        return new Vertex();\n    }\n\n    insertInEdge(p: Point, loc: Triangle, li: number): Vertex {\n        const v = this.tds.insertInEdge(loc, li);\n        v.point = p;\n        return v;\n    }\n\n    insertInFace(p: Point, loc: Triangle): Vertex {\n        const v = this.tds.insertInFace(loc);\n        v.point = p;\n        return v;\n    }\n\n    insertFirst(p: Point): Vertex {\n        const v = this.tds.insertDimUp();\n        v.point = p;\n        return v;\n    }\n\n    insertSecond(p: Point): Vertex {\n        const v = this.tds.insertDimUp(this.tds._infinite, true);\n        v.point = p;\n        return v;\n    }\n\n    insertOutsideAffineHull(p: Point): Vertex {\n        let conform = false;\n        if (this.tds.dimension === 1) {\n            const t = this.tds.finiteEdge.first!;\n            const orient = orientation(t.vertices[0]!.point!, t.vertices[1]!.point!, p);\n            conform = orient === Sign.COUNTERCLOCKWISE;\n        }\n        const v = this.tds.insertDimUp(this.tds._infinite, conform);\n        v.point = p;\n        return v;\n    }\n\n    insertOutsideConvexHull(p: Point, t: Triangle): Vertex {\n        let v: Vertex;\n        if (this.tds.dimension === 1) {\n            throw new Error(\"sdfasdasd\");\n        } else {\n            v = this.insertOutsideConvexHull2(p, t);\n        }\n        v.point = p;\n        return v;\n    }\n\n    insertOutsideConvexHull2(p: Point, t: Triangle): Vertex {\n        let li = t.indexV(this.tds._infinite);\n        const ccwlist: Triangle[] = [];\n        const cwlist: Triangle[] = [];\n        let fc = new FaceCirculator(this.tds._infinite, t);\n        let done = false;\n        while (!done) {\n            fc.prev();\n            li = fc.t!.indexV(this.tds._infinite);\n            const q = fc.t!.vertices[ccw(li)]!.point!;\n            const r = fc.t!.vertices[cw(li)]!.point!;\n            if (orientation(p, q, r) === Sign.LEFT_TURN) ccwlist.push(fc.t!);\n            else done = true;\n        }\n        fc = new FaceCirculator(this.tds._infinite, t);\n        done = false;\n        while (!done) {\n            fc.next();\n            li = fc.t!.indexV(this.tds._infinite);\n            const q = fc.t!.vertices[ccw(li)]!.point!;\n            const r = fc.t!.vertices[cw(li)]!.point!;\n            if (orientation(p, q, r) === Sign.LEFT_TURN) cwlist.push(fc.t!);\n            else done = true;\n        }\n        const v = this.tds.insertInFace(t);\n        v.point = p;\n        let th;\n        while (ccwlist.length > 0) {\n            th = ccwlist[0];\n            li = ccw(th.indexV(this.tds._infinite));\n            this.tds.flip(th, li);\n            ccwlist.shift();\n        }\n        while (cwlist.length > 0) {\n            th = cwlist[0];\n            li = cw(th.indexV(this.tds._infinite));\n            this.tds.flip(th, li);\n            cwlist.shift();\n        }\n        fc = new FaceCirculator(v, null);\n        while (!fc.t!.isInfinite()) fc.next();\n        this.tds._infinite.triangle = fc.t!;\n        return v;\n    }\n\n    locate(p: Point, start: Triangle | null) {\n        let lt = 0;\n        let li = 0;\n        if (this.tds.dimension < 0) {\n            lt = LocateType.OUTSIDE_AFFINE_HULL;\n            li = 4;\n            return { loc: null, lt, li };\n        } else if (this.tds.dimension === 0) {\n            if (xyEqual(p, this.tds.finiteVertex.triangle!.vertices[0]!.point!)) {\n                lt = LocateType.VERTEX;\n            } else {\n                lt = LocateType.OUTSIDE_AFFINE_HULL;\n            }\n            li = 4;\n            return { loc: null, lt, li };\n        } else if (this.tds.dimension === 1) {\n            return this.marchLocate1D(p);\n        }\n        if (start === null) {\n            const t = this.tds._infinite.triangle!;\n            start = t.neighbours[t.indexV(this.tds._infinite)]!;\n        } else if (start.isInfinite()) {\n            start = start.neighbours[start.indexV(this.tds._infinite)]!;\n        }\n        return this.marchLocate2D(start, p);\n    }\n\n    marchLocate1D(p: Point) {\n        const ff = this.tds._infinite.triangle!;\n        const iv = ff.indexV(this.tds._infinite);\n        const t = ff.neighbours[iv]!;\n        const pqt = orientation(t.vertices[0]!.point!, t.vertices[1]!.point!, p);\n        if (pqt === Sign.RIGHT_TURN || pqt === Sign.LEFT_TURN) {\n            return { loc: new Triangle(), lt: LocateType.OUTSIDE_AFFINE_HULL, li: 4 };\n        }\n        const i = t.indexT(ff);\n        if (collinearBetween(p, t.vertices[1 - i]!.point!, t.vertices[i]!.point!))\n            return { loc: ff, lt: LocateType.OUTSIDE_CONVEX_HULL, li: iv };\n\n        if (xyEqual(p, t.vertices[1 - i]!.point!)) return { loc: t, lt: LocateType.VERTEX, li: 1 - i };\n        throw new Error(\"sdfsdf\");\n    }\n\n    marchLocate2D(c: Triangle, p: Point) {\n        let prev = null;\n        let first = true;\n        let lt: LocateType | undefined;\n        let li: number | undefined;\n        while (true) {\n            if (c.isInfinite()) {\n                return { loc: c, lt: LocateType.OUTSIDE_CONVEX_HULL, li: c.indexV(this.tds._infinite) };\n            }\n            const leftFirst = 0; // Math.round(Math.random());\n            const p0 = c.vertices[0]!.point!;\n            const p1 = c.vertices[1]!.point!;\n            const p2 = c.vertices[2]!.point!;\n            let o0: Sign;\n            let o1: Sign;\n            let o2: Sign;\n            if (first) {\n                prev = c;\n                first = false;\n                o0 = orientation(p0, p1, p);\n                if (o0 === Sign.NEGATIVE) {\n                    c = c.neighbours[2]!;\n                    continue;\n                }\n                o1 = orientation(p1, p2, p);\n                if (o1 === Sign.NEGATIVE) {\n                    c = c.neighbours[0]!;\n                    continue;\n                }\n                o2 = orientation(p2, p0, p);\n                if (o2 === Sign.NEGATIVE) {\n                    c = c.neighbours[1]!;\n                    continue;\n                }\n            } else if (leftFirst) {\n                if (c.neighbours[0]! === prev) {\n                    prev = c;\n                    o0 = orientation(p0, p1, p);\n                    if (o0 === Sign.NEGATIVE) {\n                        c = c.neighbours[2]!;\n                        continue;\n                    }\n                    o2 = orientation(p2, p0, p);\n                    if (o2 === Sign.NEGATIVE) {\n                        c = c.neighbours[1]!;\n                        continue;\n                    }\n                    o1 = Sign.POSITIVE;\n                } else if (c.neighbours[1]! === prev) {\n                    prev = c;\n                    o1 = orientation(p1, p2, p);\n                    if (o1 === Sign.NEGATIVE) {\n                        c = c.neighbours[0]!;\n                        continue;\n                    }\n                    o0 = orientation(p0, p1, p);\n                    if (o0 === Sign.NEGATIVE) {\n                        c = c.neighbours[2]!;\n                        continue;\n                    }\n                    o2 = Sign.POSITIVE;\n                } else {\n                    prev = c;\n                    o2 = orientation(p2, p0, p);\n                    if (o2 === Sign.NEGATIVE) {\n                        c = c.neighbours[1]!;\n                        continue;\n                    }\n                    o1 = orientation(p1, p2, p);\n                    if (o1 === Sign.NEGATIVE) {\n                        c = c.neighbours[0]!;\n                        continue;\n                    }\n                    o0 = Sign.POSITIVE;\n                }\n            } else {\n                if (c.neighbours[0] === prev) {\n                    prev = c;\n                    o2 = orientation(p2, p0, p);\n                    if (o2 === Sign.NEGATIVE) {\n                        c = c.neighbours[1]!;\n                        continue;\n                    }\n                    o0 = orientation(p0, p1, p);\n                    if (o0 === Sign.NEGATIVE) {\n                        c = c.neighbours[2]!;\n                        continue;\n                    }\n                    o1 = Sign.POSITIVE;\n                } else if (c.neighbours[1] === prev) {\n                    prev = c;\n                    o0 = orientation(p0, p1, p);\n                    if (o0 === Sign.NEGATIVE) {\n                        c = c.neighbours[2]!;\n                        continue;\n                    }\n                    o1 = orientation(p1, p2, p);\n                    if (o1 === Sign.NEGATIVE) {\n                        c = c.neighbours[0]!;\n                        continue;\n                    }\n                    o2 = Sign.POSITIVE;\n                } else {\n                    prev = c;\n                    o1 = orientation(p1, p2, p);\n                    if (o1 === Sign.NEGATIVE) {\n                        c = c.neighbours[0]!;\n                        continue;\n                    }\n                    o2 = orientation(p2, p0, p);\n                    if (o2 === Sign.NEGATIVE) {\n                        c = c.neighbours[1]!;\n                        continue;\n                    }\n                    o0 = Sign.POSITIVE;\n                }\n            }\n            const sum =\n                (o0 === Sign.COLLINEAR ? 1 : 0) + (o1 === Sign.COLLINEAR ? 1 : 0) + (o2 === Sign.COLLINEAR ? 1 : 0);\n            switch (sum) {\n                case 0: {\n                    lt = LocateType.FACE;\n                    li = 4;\n                    break;\n                }\n                case 1: {\n                    lt = LocateType.EDGE;\n                    li = o0 === Sign.COLLINEAR ? 2 : o1 === Sign.COLLINEAR ? 0 : 1;\n                    break;\n                }\n                case 2: {\n                    lt = LocateType.VERTEX;\n                    li = o0 !== Sign.COLLINEAR ? 2 : o1 !== Sign.COLLINEAR ? 0 : 1;\n                    break;\n                }\n            }\n            if (lt === undefined || li === undefined) throw new Error(\"ert\");\n            return { loc: c, lt, li };\n        }\n    }\n\n    iLocate(p: Point, start: Triangle | null) {\n        if (this.tds.dimension < 2) return start;\n        if (start === null) {\n            const t = this.tds._infinite.triangle!;\n            start = t.neighbours[t.indexV(this.tds._infinite)];\n        } else if (start.isInfinite()) {\n            start = start.neighbours[start.indexV(this.tds._infinite)];\n        }\n        let prev = null;\n        let c = start!;\n        let first = true;\n        let nTurns = 2500;\n        while (true) {\n            if (!nTurns--) return c;\n            if (c.isInfinite()) return c;\n            const p0 = c.vertices[0]!.point!;\n            const p1 = c.vertices[1]!.point!;\n            const p2 = c.vertices[2]!.point!;\n            if (first) {\n                prev = c;\n                first = false;\n                if (hasInexactNegativeOrientation(p0, p1, p)) {\n                    c = c.neighbours[2]!;\n                    continue;\n                }\n                if (hasInexactNegativeOrientation(p1, p2, p)) {\n                    c = c.neighbours[0]!;\n                    continue;\n                }\n                if (hasInexactNegativeOrientation(p2, p0, p)) {\n                    c = c.neighbours[1]!;\n                    continue;\n                }\n            } else {\n                if (c.neighbours[0] === prev) {\n                    prev = c;\n                    if (hasInexactNegativeOrientation(p0, p1, p)) {\n                        c = c.neighbours[2]!;\n                        continue;\n                    }\n                    if (hasInexactNegativeOrientation(p2, p0, p)) {\n                        c = c.neighbours[1]!;\n                        continue;\n                    }\n                } else if (c.neighbours[1] === prev) {\n                    prev = c;\n                    if (hasInexactNegativeOrientation(p0, p1, p)) {\n                        c = c.neighbours[2]!;\n                        continue;\n                    }\n                    if (hasInexactNegativeOrientation(p1, p2, p)) {\n                        c = c.neighbours[0]!;\n                        continue;\n                    }\n                } else {\n                    prev = c;\n                    if (hasInexactNegativeOrientation(p2, p0, p)) {\n                        c = c.neighbours[1]!;\n                        continue;\n                    }\n                    if (hasInexactNegativeOrientation(p1, p2, p)) {\n                        c = c.neighbours[0]!;\n                        continue;\n                    }\n                }\n            }\n            break;\n        }\n        return c;\n    }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./draw.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./draw.vue?vue&type=script&lang=ts&\"","import { GlobalPoint } from \"@/game/geom\";\nimport { GridLayer } from \"@/game/layers/grid\";\nimport { Layer } from \"@/game/layers/layer\";\nimport { Asset } from \"@/game/shapes/asset\";\nimport { Shape } from \"@/game/shapes/shape\";\nimport { gameStore } from \"@/game/store\";\nimport { l2gx, l2gy, l2gz } from \"@/game/units\";\n\nclass LayerManager {\n    layers: Layer[] = [];\n    width = window.innerWidth;\n    height = window.innerHeight;\n\n    UUIDMap: Map<string, Shape> = new Map();\n\n    // Refresh interval and redraw setter.\n    interval = 30;\n\n    constructor() {\n        requestAnimationFrame(this.drawLoop);\n    }\n\n    reset() {\n        this.layers = [];\n        this.UUIDMap = new Map();\n    }\n\n    drawLoop = () => {\n        for (let i = this.layers.length - 1; i >= 0; i--) {\n            this.layers[i].draw();\n        }\n        requestAnimationFrame(this.drawLoop);\n    };\n\n    setWidth(width: number): void {\n        this.width = width;\n        for (const layer of this.layers) {\n            layer.canvas.width = width;\n            layer.width = width;\n        }\n    }\n\n    setHeight(height: number): void {\n        this.height = height;\n        for (const layer of this.layers) {\n            layer.canvas.height = height;\n            layer.height = height;\n        }\n    }\n\n    addLayer(layer: Layer): void {\n        this.layers.push(layer);\n        if (!gameStore.IS_DM && !layer.playerEditable) return;\n        if (layer.selectable) gameStore.addLayer(layer.name);\n    }\n\n    hasLayer(name: string): boolean {\n        return this.layers.some(l => l.name === name);\n    }\n\n    getLayer(name?: string) {\n        name = name === undefined ? gameStore.selectedLayer : name;\n        for (const layer of this.layers) {\n            if (layer.name === name) return layer;\n        }\n    }\n\n    selectLayer(name: string, sync: boolean = true): void {\n        let found = false;\n        for (const layer of this.layers) {\n            if (!layer.selectable) continue;\n            if (found && layer.name !== \"fow\") layer.ctx.globalAlpha = 0.3;\n            else layer.ctx.globalAlpha = 1.0;\n\n            if (name === layer.name) {\n                gameStore.selectLayer({ name, sync });\n                found = true;\n            }\n\n            layer.clearSelection();\n            layer.invalidate(true);\n        }\n    }\n\n    getGridLayer(): GridLayer | undefined {\n        return <GridLayer>this.getLayer(\"grid\");\n    }\n\n    hasSelection() {\n        const selection = this.getSelection();\n        return selection !== undefined && selection.length > 0;\n    }\n\n    // THIS INCLUDES POTENTIALLY THE SelectTool.SelectionHelper !!!\n    getSelection() {\n        const layer = this.getLayer();\n        if (layer === undefined) return undefined;\n        return layer.selection;\n    }\n\n    invalidate(): void {\n        for (let i = this.layers.length - 1; i >= 0; i--) {\n            this.layers[i].invalidate(true);\n        }\n    }\n\n    invalidateLight() {\n        for (let i = this.layers.length - 1; i >= 0; i--)\n            if (this.layers[i].isVisionLayer) this.layers[i].invalidate(true);\n    }\n\n    dropAsset(event: DragEvent) {\n        const layer = this.getLayer();\n        if (layer === undefined || event === null || event.dataTransfer === null) return;\n        const image = document.createElement(\"img\");\n        image.src = event.dataTransfer.getData(\"text/plain\");\n        const asset = new Asset(\n            image,\n            new GlobalPoint(l2gx(event.clientX), l2gy(event.clientY)),\n            l2gz(image.width),\n            l2gz(image.height),\n        );\n        asset.src = new URL(image.src).pathname;\n\n        if (gameStore.useGrid) {\n            const gs = gameStore.gridSize;\n            asset.refPoint = new GlobalPoint(\n                Math.round(asset.refPoint.x / gs) * gs,\n                Math.round(asset.refPoint.y / gs) * gs,\n            );\n            asset.w = Math.max(Math.round(asset.w / gs) * gs, gs);\n            asset.h = Math.max(Math.round(asset.h / gs) * gs, gs);\n        }\n\n        layer.addShape(asset, true);\n    }\n}\n\nexport const layerManager = new LayerManager();\n(<any>window).lm = layerManager;\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./initiative.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./initiative.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./createtoken_modal.vue?vue&type=template&id=73816298&scoped=true&\"\nimport script from \"./createtoken_modal.vue?vue&type=script&lang=ts&\"\nexport * from \"./createtoken_modal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./createtoken_modal.vue?vue&type=style&index=0&id=73816298&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73816298\",\n  null\n  \n)\n\nexport default component.exports","import { BoundingRect } from \"@/game/shapes/boundingrect\";\n\nexport class BoundingNode {\n    bbox: BoundingRect;\n    nPrimitives: number;\n    children: BoundingNode[] = [];\n    constructor(nPrimitives: number, bbox: BoundingRect) {\n        this.nPrimitives = nPrimitives;\n        this.bbox = bbox;\n    }\n}\n\nexport class LeafNode extends BoundingNode {\n    firstPrimOffset: number;\n    constructor(first: number, n: number, bbox: BoundingRect) {\n        super(n, bbox);\n        this.firstPrimOffset = first;\n    }\n}\n\nexport class InteriorNode extends BoundingNode {\n    dimension: number;\n    constructor(dimension: number, c1: BoundingNode, c2: BoundingNode) {\n        super(0, c1.bbox.union(c2.bbox));\n        this.dimension = dimension;\n        this.children.push(c1);\n        this.children.push(c2);\n    }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createtoken_modal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createtoken_modal.vue?vue&type=script&lang=ts&\"","import Tools from \"@/game/ui/tools/tools.vue\";\n\nimport { getRef, uuidv4 } from \"@/core/utils\";\nimport { socket } from \"@/game/api/socket\";\nimport { sendClientOptions } from \"@/game/api/utils\";\nimport { ServerAura } from '@/game/comm/types/shapes';\nimport { EventBus } from \"@/game/event-bus\";\nimport { Vector } from \"@/game/geom\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { createShapeFromDict } from \"@/game/shapes/utils\";\nimport { gameStore } from \"@/game/store\";\nimport { calculateDelta } from \"@/game/ui/tools/utils\";\n\nexport function onKeyUp(event: KeyboardEvent) {\n    if (event.target instanceof HTMLInputElement || event.target instanceof HTMLTextAreaElement) {\n    } else {\n        if (event.key === \"Delete\" || event.key === \"Del\" || event.key === \"Backspace\") {\n            if (layerManager.getLayer === undefined) {\n                console.log(\"No active layer selected for delete operation\");\n                return;\n            }\n            const l = layerManager.getLayer()!;\n            for (let i = l.selection.length - 1; i >= 0; i--) {\n                const sel = l.selection[i];\n                if ((<any>getRef<Tools>(\"tools\").$refs.selectTool).selectionHelper.uuid === sel.uuid) {\n                    l.selection.splice(i, 1);\n                    continue;\n                }\n                l.removeShape(sel, true, false);\n                EventBus.$emit(\"SelectionInfo.Shape.Set\", null);\n                EventBus.$emit(\"Initiative.Remove\", sel.uuid);\n            }\n        }\n    }\n}\n\nexport function onKeyDown(event: KeyboardEvent) {\n    if (event.target instanceof HTMLInputElement || event.target instanceof HTMLTextAreaElement) {\n        if (event.keyCode === 65 && event.ctrlKey) event.target!.select();\n    } else {\n        if (event.keyCode >= 37 && event.keyCode <= 40) {\n            // todo: this should already be rounded\n            const gridSize = Math.round(gameStore.gridSize);\n            let offsetX = gridSize * (event.keyCode % 2);\n            let offsetY = gridSize * (event.keyCode % 2 ? 0 : 1);\n            if (layerManager.hasSelection()) {\n                const selection = layerManager.getSelection()!;\n                offsetX *= event.keyCode <= 38 ? -1 : 1;\n                offsetY *= event.keyCode <= 38 ? -1 : 1;\n                let delta = new Vector(offsetX, offsetY);\n                if (!event.shiftKey || !gameStore.IS_DM) {\n                    // First check for collisions.  Using the smooth wall slide collision check used on mouse move is overkill here.\n                    for (const sel of selection) {\n                        if ((<any>getRef<Tools>(\"tools\").$refs.selectTool).selectionHelper.uuid === sel.uuid) continue;\n                        delta = calculateDelta(delta, sel);\n                    }\n                }\n                for (const sel of selection) {\n                    if ((<any>getRef<Tools>(\"tools\").$refs.selectTool).selectionHelper.uuid === sel.uuid) continue;\n                    sel.refPoint = sel.refPoint.add(delta);\n                    // todo: Fix again\n                    // if (sel.refPoint.x % gridSize !== 0 || sel.refPoint.y % gridSize !== 0) sel.snapToGrid();\n                    socket.emit(\"Shape.Position.Update\", { shape: sel.asDict(), redraw: true, temporary: false });\n                }\n                gameStore.recalculateVision();\n                layerManager.getLayer()!.invalidate(false);\n            } else {\n                // The pan offsets should be in the opposite direction to give the correct feel.\n                gameStore.increasePanX(offsetX * (event.keyCode <= 38 ? 1 : -1));\n                gameStore.increasePanY(offsetY * (event.keyCode <= 38 ? 1 : -1));\n                layerManager.invalidate();\n                sendClientOptions();\n            }\n        } else if (event.keyCode === 68) {\n            const layer = layerManager.getLayer();\n            if (layer) {\n                layer.clearSelection();\n                layer.invalidate(true);\n            }\n        } else if (event.key === \"u\" && event.ctrlKey) {\n            event.preventDefault();\n            event.stopPropagation();\n            gameStore.toggleUI();\n        } else if (event.key === \"c\" && event.ctrlKey) {\n            const layer = layerManager.getLayer();\n            if (!layer) return;\n            if (!layer.selection) return;\n            const clipboard = [];\n            for (const shape of layer.selection) {\n                if ((<any>getRef<Tools>(\"tools\").$refs.selectTool).selectionHelper.uuid === shape.uuid) continue;\n                clipboard.push(shape.asDict());\n            }\n            gameStore.setClipboard(clipboard);\n        } else if (event.key === \"v\" && event.ctrlKey) {\n            const layer = layerManager.getLayer();\n            if (!layer) return;\n            if (!gameStore.clipboard) return;\n            layer.selection = [];\n            for (const clip of gameStore.clipboard) {\n                clip.x += 10;\n                clip.y += 10;\n                clip.uuid = uuidv4();\n                const oldTrackers = clip.trackers;\n                clip.trackers = [];\n                for (const tracker of oldTrackers) {\n                    const newTracker: Tracker = {\n                        ...tracker,\n                        uuid: uuidv4()\n                    }\n                    clip.trackers.push(newTracker);\n                }\n                const oldAuras = clip.auras;\n                clip.auras = [];\n                for (const aura of oldAuras) {\n                    const newAura: ServerAura = {\n                        ...aura,\n                        uuid: uuidv4()\n                    }\n                    clip.auras.push(newAura);\n                }\n                const shape = createShapeFromDict(clip);\n                if (shape === undefined) continue;\n                layer.addShape(shape, true);\n                layer.selection.push(shape);\n            }\n            if (layer.selection.length === 1) EventBus.$emit(\"SelectionInfo.Shape.Set\", layer.selection[0]);\n            else EventBus.$emit(\"SelectionInfo.Shape.Set\", null);\n            layer.invalidate(false);\n        }\n    }\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manager.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manager.vue?vue&type=style&index=0&lang=css&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nimport ShapeContext from \"@/game/ui/selection/shapecontext.vue\";\nimport CreateTokenModal from \"@/game/ui/tools/createtoken_modal.vue\";\nimport DrawTool from \"@/game/ui/tools/draw.vue\";\nimport FilterTool from \"@/game/ui/tools/filter.vue\";\nimport MapTool from \"@/game/ui/tools/map.vue\";\nimport PanTool from \"@/game/ui/tools/pan\";\nimport SelectTool from \"@/game/ui/tools/select.vue\";\nimport VisionTool from \"@/game/ui/tools/vision.vue\";\n\nimport { layerManager } from \"@/game/layers/manager\";\nimport { gameManager } from \"@/game/manager\";\nimport { gameStore } from \"@/game/store\";\nimport { RulerTool } from \"@/game/ui/tools/ruler\";\nimport { l2g } from \"@/game/units\";\nimport { getMouse } from \"@/game/utils\";\nimport Component from \"vue-class-component\";\n\n@Component({\n    components: {\n        \"select-tool\": SelectTool,\n        \"pan-tool\": PanTool,\n        \"draw-tool\": DrawTool,\n        \"ruler-tool\": RulerTool,\n        \"map-tool\": MapTool,\n        \"filter-tool\": FilterTool,\n        \"vision-tool\": VisionTool,\n        \"shape-menu\": ShapeContext,\n        \"createtoken-dialog\": CreateTokenModal,\n    },\n    watch: {\n        currentTool(newValue, oldValue) {\n            this.$emit(\"tools-select-change\", newValue, oldValue);\n        },\n    },\n})\nexport default class Tools extends Vue {\n    $refs!: {\n        selectTool: InstanceType<typeof SelectTool>;\n    };\n\n    currentTool = \"Select\";\n    tools = [\"Select\", \"Pan\", \"Draw\", \"Ruler\", \"Map\", \"Filter\", \"Vision\"];\n    dmTools = [\"Map\"];\n\n    get IS_DM(): boolean {\n        return gameStore.IS_DM;\n    }\n\n    get currentToolComponent(): string {\n        return `${this.currentTool.toLowerCase()}-tool`;\n    }\n\n    get visibleTools(): string[] {\n        return this.tools.filter(t => (!this.dmTools.includes(t) || this.IS_DM));\n    }\n\n    toolVisible(tool: string): boolean {\n        if (tool === 'Filter') {\n            return Object.keys(gameStore.labels).length > 0;\n        } else if (tool === 'Vision') {\n            return gameStore.ownedtokens.length > 1;\n        }\n        return true;\n    }\n\n    mousedown(event: MouseEvent) {\n        if ((<HTMLElement>event.target).tagName !== \"CANVAS\") return;\n\n        let targetTool = this.currentTool;\n        if (event.button === 1) {\n            targetTool = \"Pan\";\n        } else if (event.button !== 0) {\n            return;\n        }\n\n        this.$emit(\"mousedown\", event, targetTool);\n    }\n    mouseup(event: MouseEvent) {\n        if ((<HTMLElement>event.target).tagName !== \"CANVAS\") return;\n\n        let targetTool = this.currentTool;\n        if (event.button === 1) {\n            targetTool = \"Pan\";\n        } else if (event.button !== 0) {\n            return;\n        }\n\n        this.$emit(\"mouseup\", event, targetTool);\n    }\n    mousemove(event: MouseEvent) {\n        if ((<HTMLElement>event.target).tagName !== \"CANVAS\") return;\n\n        let targetTool = this.currentTool;\n        if ((event.buttons & 4) !== 0) {\n            targetTool = \"Pan\";\n        } else if ((event.button & 1) > 1) {\n            return;\n        }\n\n        this.$emit(\"mousemove\", event, targetTool);\n\n        // Annotation hover\n        let found = false;\n        for (const uuid of gameStore.annotations) {\n            if (layerManager.UUIDMap.has(uuid) && layerManager.hasLayer(\"draw\")) {\n                const shape = layerManager.UUIDMap.get(uuid)!;\n                if (shape.contains(l2g(getMouse(event)))) {\n                    found = true;\n                    gameManager.annotationManager.setActiveText(shape.annotation);\n                }\n            }\n        }\n        if (!found && gameManager.annotationManager.shown) {\n            gameManager.annotationManager.setActiveText(\"\");\n        }\n    }\n    mouseleave(event: MouseEvent) {\n        // When leaving the window while a mouse is pressed down, act as if it was released\n        if ((event.buttons & 1) !== 0) {\n            this.$emit(\"mouseup\", event, this.currentTool);\n        }\n    }\n    contextmenu(event: MouseEvent) {\n        if ((<HTMLElement>event.target).tagName !== \"CANVAS\") return;\n        if (event.button !== 2 || (<HTMLElement>event.target).tagName !== \"CANVAS\") return;\n        this.$emit(\"contextmenu\", event, this.currentTool);\n    }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selection_info.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selection_info.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./labels.vue?vue&type=style&index=0&id=e477c214&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./labels.vue?vue&type=style&index=0&id=e477c214&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=style&index=0&lang=css&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport Modal from \"@/core/components/modals/modal.vue\";\n\n@Component({\n    components: {\n        Modal,\n    },\n})\nexport default class Prompt extends Vue {\n    $refs!: {\n        answer: HTMLElement;\n    };\n\n    visible = false;\n    question = \"\";\n    answer = \"\";\n    title = \"\";\n\n    resolve = (value: string) => {};\n    reject = () => {};\n\n    submit() {\n        this.resolve(this.answer);\n        this.close();\n    }\n    close() {\n        this.reject();\n        this.visible = false;\n        this.question = \"\";\n        this.answer = \"\";\n        this.title = \"\";\n    }\n    prompt(question: string, title: string): Promise<string> {\n        this.question = question;\n        this.title = title;\n        this.visible = true;\n        this.$nextTick(() => {\n            this.$refs.answer.focus();\n        });\n        return new Promise((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n        });\n    }\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=b102d41e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=b102d41e&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./accordion.vue?vue&type=style&index=0&id=0bf2b7ba&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./accordion.vue?vue&type=style&index=0&id=0bf2b7ba&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(_vm._s(_vm.message))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./load.vue?vue&type=template&id=ff095222&\"","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=ts&\"","import { GlobalPoint, Point, Ray, Vector } from \"@/game/geom\";\nimport { g2lx, g2ly } from \"../units\";\n\nexport class BoundingRect {\n    readonly w: number;\n    readonly h: number;\n    readonly topLeft: GlobalPoint;\n    readonly topRight: GlobalPoint;\n    readonly botRight: GlobalPoint;\n    readonly botLeft: GlobalPoint;\n\n    constructor(topleft: GlobalPoint, w: number, h: number) {\n        this.w = w;\n        this.h = h;\n        this.topLeft = topleft;\n        this.topRight = new GlobalPoint(topleft.x + w, topleft.y);\n        this.botRight = new GlobalPoint(topleft.x + w, topleft.y + h);\n        this.botLeft = new GlobalPoint(topleft.x, topleft.y + h);\n    }\n\n    contains(point: GlobalPoint): boolean {\n        return (\n            this.topLeft.x <= point.x &&\n            this.topRight.x >= point.x &&\n            this.topLeft.y <= point.y &&\n            this.botLeft.y >= point.y\n        );\n    }\n\n    get points() {\n        if (this.w === 0 || this.h === 0) return [[this.topLeft.x, this.topLeft.y]];\n        return [\n            [this.topLeft.x, this.topLeft.y],\n            [this.botLeft.x, this.botLeft.y],\n            [this.botRight.x, this.botRight.y],\n            [this.topRight.x, this.topRight.y],\n        ];\n    }\n\n    offset(vector: Vector): BoundingRect {\n        return new BoundingRect(this.topLeft.add(vector), this.w, this.h);\n    }\n\n    union(other: BoundingRect): BoundingRect {\n        const xmin = Math.min(this.topLeft.x, other.topLeft.x);\n        const xmax = Math.max(this.topRight.x, other.topRight.x);\n        const ymin = Math.min(this.topLeft.y, other.topLeft.y);\n        const ymax = Math.max(this.botLeft.y, other.botLeft.y);\n        return new BoundingRect(new GlobalPoint(xmin, ymin), xmax - xmin, ymax - ymin);\n    }\n\n    getDiagCorner(botright: boolean) {\n        return botright ? this.botRight : this.topLeft;\n    }\n\n    intersectsWith(other: BoundingRect): boolean {\n        return !(\n            other.topLeft.x > this.topRight.x ||\n            other.topRight.x < this.topLeft.x ||\n            other.topLeft.y > this.botLeft.y ||\n            other.botLeft.y < this.topLeft.y\n        );\n    }\n\n    intersectsWithInner(other: BoundingRect): boolean {\n        return !(\n            other.topLeft.x >= this.topRight.x ||\n            other.topRight.x <= this.topLeft.x ||\n            other.topLeft.y >= this.botLeft.y ||\n            other.botLeft.y <= this.topLeft.y\n        );\n    }\n\n    intersectP(ray: Ray<Point>, invDir: Vector, dirIsNeg: boolean[]) {\n        let txmin = invDir.x * (this.getDiagCorner(dirIsNeg[0]).x - ray.origin!.x);\n        let txmax = invDir.x * (this.getDiagCorner(!dirIsNeg[0]).x - ray.origin!.x);\n        const tymin = invDir.y * (this.getDiagCorner(dirIsNeg[1]).y - ray.origin!.y);\n        const tymax = invDir.y * (this.getDiagCorner(!dirIsNeg[1]).y - ray.origin!.y);\n        if (txmin > tymax || tymin > txmax) return { hit: false, min: txmin, max: txmax };\n        if (tymin > txmin) txmin = tymin;\n        if (tymax < txmax) txmax = tymax;\n        return { hit: txmin < ray.tMax! && txmax > 0, min: txmin, max: txmax };\n    }\n\n    center(): GlobalPoint {\n        return this.topLeft.add(new Vector(this.w / 2, this.h / 2));\n    }\n\n    getMaxExtent() {\n        return this.w > this.h ? 0 : 1;\n    }\n    visibleInCanvas(canvas: HTMLCanvasElement): boolean {\n        const coreVisible = !(\n            g2lx(this.topLeft.x) > canvas.width ||\n            g2ly(this.topLeft.y) > canvas.height ||\n            g2lx(this.topRight.x) < 0 ||\n            g2ly(this.botRight.y) < 0\n        );\n        if (coreVisible) return true;\n        return false;\n    }\n}\n","/*\nThis module defines some Point classes.\nA strong focus is made to ensure that at no time a global and a local point are mixed up with each other.\nAt first glance this adds weird looking hacks as ts does not support nominal typing.\n*/\n\nexport function getPointDistance(p1: Point, p2: Point) {\n    const a = p1.x - p2.x;\n    const b = p1.y - p2.y;\n    return Math.sqrt(a * a + b * b);\n}\n\nexport class Point {\n    readonly x: number;\n    readonly y: number;\n    constructor(x: number, y: number) {\n        this.x = x;\n        this.y = y;\n    }\n    static fromArray(point: number[]) {\n        return new Point(point[0], point[1]);\n    }\n    add(vec: Vector) {\n        return new Point(this.x + vec.x, this.y + vec.y);\n    }\n    subtract(other: Point) {\n        return new Vector(this.x - other.x, this.y - other.y);\n    }\n    clone(): Point {\n        return new Point(this.x, this.y);\n    }\n    get(dimension: 0 | 1) {\n        if (dimension === 0) return this.x;\n        return this.y;\n    }\n    asArray(): number[] {\n        return [this.x, this.y];\n    }\n}\nexport class GlobalPoint extends Point {\n    // This is to differentiate with LocalPoint, is actually never used\n    // We do ! to prevent errors that it never gets initialized\n    // tslint:disable-next-line:variable-name\n    _GlobalPoint!: string;\n    add(vec: Vector): GlobalPoint {\n        return <GlobalPoint>super.add(vec);\n    }\n    subtract(other: GlobalPoint): Vector {\n        return super.subtract(other);\n    }\n    clone(): GlobalPoint {\n        return <GlobalPoint>super.clone();\n    }\n    static fromArray(point: number[]) {\n        return new GlobalPoint(point[0], point[1]);\n    }\n}\n\nexport class LocalPoint extends Point {\n    // This is to differentiate with GlobalPoint, is actually never used\n    // We do ! to prevent errors that it never gets initialized\n    // tslint:disable-next-line:variable-name\n    _LocalPoint!: string;\n    add(vec: Vector): LocalPoint {\n        return <LocalPoint>super.add(vec);\n    }\n    subtract(other: LocalPoint): Vector {\n        return super.subtract(other);\n    }\n    clone(): LocalPoint {\n        return <LocalPoint>super.clone();\n    }\n}\n\nexport class Vector {\n    readonly x: number;\n    readonly y: number;\n    constructor(x: number, y: number) {\n        this.x = x;\n        this.y = y;\n    }\n    dot(other: Vector): number {\n        return this.x * other.x + this.y * other.y;\n    }\n    inverse(): Vector {\n        return new Vector(this.x === 0 ? 0 : 1 / this.x, this.y === 0 ? 0 : 1 / this.y);\n    }\n    length(): number {\n        return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));\n    }\n    normalize(): Vector {\n        const l = this.length();\n        return new Vector(this.x / l, this.y / l);\n    }\n    reverse(): Vector {\n        return new Vector(-this.x, -this.y);\n    }\n    multiply(scale: number): Vector {\n        return new Vector(this.x * scale, this.y * scale);\n    }\n    angle(): number {\n        return (Math.atan2(this.y, this.x) * 180) / Math.PI;\n    }\n}\n\nexport class Ray<T extends Point> {\n    readonly direction: Vector;\n    readonly origin: T;\n    tMax: number;\n    constructor(origin: T, direction: Vector, tMax?: number) {\n        this.direction = direction;\n        this.origin = origin;\n        if (tMax === undefined) tMax = Infinity;\n        this.tMax = tMax;\n    }\n    static fromPoints<T extends Point>(p1: T, p2: T): Ray<T> {\n        const vec = new Vector(p2.x - p1.x, p2.y - p1.y);\n        let maxT;\n        if (Math.abs(vec.x) > 0.01) maxT = (p2.x - p1.x) / vec.x;\n        else maxT = (p2.y - p1.y) / vec.y;\n        return new Ray(p1, vec, maxT);\n    }\n    get(t: number): T {\n        return <T>new Point(this.origin.x + t * this.direction.x, this.origin.y + t * this.direction.y);\n    }\n    getDistance(t1: number, t2: number) {\n        return Math.sqrt(Math.pow(t2 - t1, 2) * (Math.pow(this.direction.x, 2) + Math.pow(this.direction.y, 2)));\n    }\n    getT(t1: number, distance: number) {\n        return t1 + Math.sqrt(Math.pow(distance, 2) / (Math.pow(this.direction.x, 2) + Math.pow(this.direction.y, 2)));\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_vm._l((_vm.folders),function(folder){return _c('li',{key:folder,staticClass:\"folder\",on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle($event)}}},[_vm._v(\"\\n        \"+_vm._s(folder)+\"\\n        \"),_c('asset-node',{attrs:{\"asset\":_vm.asset[folder]}})],1)}),_vm._l((_vm.files),function(file){return _c('li',{key:file.name,staticClass:\"file draggable token\",attrs:{\"draggable\":\"true\"},on:{\"mouseover\":function($event){_vm.showImage = file.hash},\"mouseout\":function($event){_vm.showImage = null},\"dragstart\":function($event){return _vm.dragStart($event, '/static/assets/' + file.hash)}}},[_vm._v(\"\\n        \"+_vm._s(file.name)+\"\\n        \"),(_vm.showImage == file.hash)?_c('div',{staticClass:\"preview\"},[_c('img',{staticClass:\"asset-preview-image\",attrs:{\"src\":'/static/assets/' + file.hash}})]):_vm._e()])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset_node.vue?vue&type=template&id=6d718094&scoped=true&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inputCopy.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inputCopy.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport vueSlider from \"vue-slider-component\";\n\nimport \"@/game/api/events\";\n\nimport { throttle } from \"lodash\";\nimport { mapGetters, mapState } from \"vuex\";\n\nimport ConfirmDialog from \"@/core/components/modals/confirm.vue\";\nimport Prompt from \"@/core/components/modals/prompt.vue\";\nimport Initiative from \"@/game/ui/initiative.vue\";\nimport LabelManager from \"@/game/ui/labels.vue\";\nimport MenuBar from \"@/game/ui/menu/menu.vue\";\nimport NoteDialog from \"@/game/ui/note.vue\";\nimport SelectionInfo from \"@/game/ui/selection/selection_info.vue\";\nimport Tools from \"@/game/ui/tools/tools.vue\";\n\nimport { createConnection, socket } from \"@/game/api/socket\";\nimport { onKeyDown, onKeyUp } from \"@/game/events/keyboard\";\nimport { scrollZoom } from \"@/game/events/mouse\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { gameStore } from \"@/game/store\";\nimport { l2g } from \"@/game/units\";\nimport { LocalPoint } from \"./geom\";\nimport DmSettings from \"./ui/dmsettings.vue\";\n\n@Component({\n    components: {\n        \"tool-bar\": Tools,\n        \"selection-info\": SelectionInfo,\n        \"prompt-dialog\": Prompt,\n        \"confirm-dialog\": ConfirmDialog,\n        \"menu-bar\": MenuBar,\n        \"initiative-dialog\": Initiative,\n        \"zoom-slider\": vueSlider,\n        \"note-dialog\": NoteDialog,\n        \"label-dialog\": LabelManager,\n        \"dm-settings\": DmSettings,\n    },\n    beforeRouteEnter(to, from, next) {\n        createConnection(to);\n        next();\n    },\n    beforeRouteLeave(to, from, next) {\n        socket.disconnect();\n        next();\n    },\n})\nexport default class Game extends Vue {\n    $refs!: {\n        confirm: InstanceType<typeof ConfirmDialog>;\n        tools: InstanceType<typeof Tools>;\n    };\n\n    ready = {\n        manager: false,\n        tools: false,\n    };\n\n    get showUI(): boolean {\n        return gameStore.showUI;\n    }\n\n    get IS_DM(): boolean {\n        return gameStore.IS_DM;\n    }\n\n    get FAKE_PLAYER(): boolean {\n        return gameStore.FAKE_PLAYER;\n    }\n\n    get layers(): string[] {\n        return gameStore.layers;\n    }\n\n    get selectedLayer(): string {\n        return gameStore.selectedLayer;\n    }\n\n    get zoomDisplay(): number {\n        return gameStore.zoomDisplay;\n    }\n\n    set zoomDisplay(value: number) {\n        gameStore.updateZoom({\n            newZoomDisplay: value,\n            zoomLocation: l2g(new LocalPoint(window.innerWidth / 2, window.innerHeight / 2)),\n        });\n    }\n\n    mounted() {\n        window.addEventListener(\"resize\", this.resizeWindow);\n        window.addEventListener(\"keyup\", onKeyUp);\n        window.addEventListener(\"keydown\", onKeyDown);\n        this.ready.manager = true;\n    }\n\n    destroyed() {\n        window.removeEventListener(\"resize\", this.resizeWindow);\n        window.removeEventListener(\"keyup\", onKeyUp);\n        window.removeEventListener(\"keydown\", onKeyDown);\n        this.ready.manager = false;\n    }\n\n    // Window events\n\n    zoom(event: WheelEvent) {\n        throttle(scrollZoom)(event);\n    }\n\n    resizeWindow() {\n        layerManager.setWidth(window.innerWidth);\n        layerManager.setHeight(window.innerHeight);\n        layerManager.invalidate();\n    }\n\n    // Mouse events\n\n    mousedown(event: MouseEvent) {\n        this.$refs.tools.mousedown(event);\n    }\n    mouseup(event: MouseEvent) {\n        this.$refs.tools.mouseup(event);\n    }\n    mousemove(event: MouseEvent) {\n        this.$refs.tools.mousemove(event);\n    }\n    mouseleave(event: MouseEvent) {\n        this.$refs.tools.mouseleave(event);\n    }\n    contextmenu(event: MouseEvent) {\n        this.$refs.tools.contextmenu(event);\n    }\n    selectLayer(layer: string) {\n        layerManager.selectLayer(layer);\n    }\n    drop(event: DragEvent) {\n        if (event === null || event.dataTransfer === null) return;\n        if (event.dataTransfer.files.length > 0) {\n            this.$refs.confirm\n                .open(\"Uploading files should be done through the asset manager.\", \"Ok\", \"\")\n                .then(() => {}, () => {});\n        } else if (event.dataTransfer.getData(\"text/plain\") === \"\") {\n            return;\n        } else {\n            layerManager.dropAsset(event);\n        }\n    }\n}\n","import { GlobalPoint, LocalPoint, Ray } from \"@/game/geom\";\nimport { gameStore } from \"@/game/store\";\n\nexport function g2l(obj: GlobalPoint): LocalPoint {\n    const z = gameStore.zoomFactor;\n    const panX = gameStore.panX;\n    const panY = gameStore.panY;\n    return new LocalPoint((obj.x + panX) * z, (obj.y + panY) * z);\n}\n\nexport function g2lx(x: number) {\n    return g2l(new GlobalPoint(x, 0)).x;\n}\n\nexport function g2ly(y: number) {\n    return g2l(new GlobalPoint(0, y)).y;\n}\n\nexport function g2lz(z: number) {\n    return z * gameStore.zoomFactor;\n}\n\nexport function getUnitDistance(r: number) {\n    return (r / gameStore.unitSize) * gameStore.gridSize;\n}\n\nexport function g2lr(r: number) {\n    return g2lz(getUnitDistance(r));\n}\n\nexport function l2g(obj: LocalPoint): GlobalPoint;\nexport function l2g(obj: Ray<LocalPoint>): Ray<GlobalPoint>;\nexport function l2g(obj: LocalPoint | Ray<LocalPoint>): GlobalPoint | Ray<GlobalPoint> {\n    const z = gameStore.zoomFactor;\n    const panX = gameStore.panX;\n    const panY = gameStore.panY;\n    if (obj instanceof LocalPoint) {\n        return new GlobalPoint(obj.x / z - panX, obj.y / z - panY);\n    } else {\n        return new Ray<GlobalPoint>(l2g(obj.origin), obj.direction.multiply(1 / z), obj.tMax);\n    }\n}\n\nexport function l2gx(x: number) {\n    return l2g(new LocalPoint(x, 0)).x;\n}\n\nexport function l2gy(y: number) {\n    return l2g(new LocalPoint(0, y)).y;\n}\n\nexport function l2gz(z: number) {\n    return z / gameStore.zoomFactor;\n}\n\nexport function l2gr(r: number) {\n    return l2gz(getUnitDistance(r));\n}\n\n(<any>window).g2lx = g2lx;\n(<any>window).g2ly = g2ly;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport { mapState } from \"vuex\";\n\nimport ColorPicker from \"@/core/components/colorpicker.vue\";\nimport Prompt from \"@/core/components/modals/prompt.vue\";\nimport AssetNode from \"@/game/ui/menu/asset_node.vue\";\nimport NoteDialog from \"@/game/ui/note.vue\";\n\nimport { getRef, uuidv4 } from \"@/core/utils\";\nimport { socket } from \"@/game/api/socket\";\nimport { Note } from \"@/game/comm/types/general\";\nimport { gameStore } from \"@/game/store\";\nimport { EventBus } from \"../../event-bus\";\n\n@Component({\n    components: {\n        \"color-picker\": ColorPicker,\n        \"asset-node\": AssetNode,\n    },\n    computed: {\n        ...mapState(\"game\", [\"locations\", \"assets\", \"notes\"]),\n    },\n})\nexport default class MenuBar extends Vue {\n    visible = {\n        settings: false,\n        locations: false,\n    };\n\n    get IS_DM(): boolean {\n        return gameStore.IS_DM || gameStore.FAKE_PLAYER;\n    }\n    get gridColour(): string {\n        return gameStore.gridColour;\n    }\n    set gridColour(value: string) {\n        gameStore.setGridColour({ colour: value, sync: true });\n    }\n    get fowColour(): string {\n        return gameStore.fowColour;\n    }\n    set fowColour(value: string) {\n        gameStore.setFOWColour({ colour: value, sync: true });\n    }\n    get rulerColour(): string {\n        return gameStore.rulerColour;\n    }\n    set rulerColour(value: string) {\n        gameStore.setRulerColour({ colour: value, sync: true });\n    }\n    settingsClick(event: { target: HTMLElement }) {\n        if (event.target.classList.contains(\"menu-accordion\")) {\n            event.target.classList.toggle(\"menu-accordion-active\");\n            const next = <HTMLElement>event.target.nextElementSibling;\n            if (next !== null) next.style.display = next.style.display === \"\" ? \"block\" : \"\";\n        }\n    }\n    changeLocation(name: string) {\n        socket.emit(\"Location.Change\", name);\n    }\n    createLocation() {\n        getRef<Prompt>(\"prompt\")\n            .prompt(`New location name:`, `Create new location`)\n            .then(\n                (value: string) => {\n                    socket.emit(\"Location.New\", value);\n                },\n                () => {},\n            );\n    }\n    createNote() {\n        const note = { title: \"New note\", text: \"\", uuid: uuidv4() };\n        gameStore.newNote({ note, sync: true });\n        this.openNote(note);\n    }\n    openNote(note: Note) {\n        getRef<NoteDialog>(\"note\").open(note);\n    }\n\n    openDmSettings() {\n        EventBus.$emit(\"DmSettings.Open\");\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./colorpicker.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./colorpicker.vue?vue&type=script&lang=ts&\"","import { CDT } from \"./cdt\";\nimport { ccw, cw, orientation, ulp } from \"./triag\";\n\nexport type Point = number[];\n\nexport const INFINITE = -7e310;\n\nlet _INFINITE_VERTEX: Vertex;\n\nexport enum Sign {\n    NEGATIVE = -1,\n    ZERO = 0,\n    POSITIVE = 1,\n\n    RIGHT_TURN = -1,\n    LEFT_TURN = 1,\n\n    SMALLER = -1,\n    EQUAL = 0,\n    LARGER = 1,\n\n    CLOCKWISE = -1,\n    COUNTERCLOCKWISE = 1,\n\n    COLLINEAR = 0,\n    COPLANAR = 0,\n    DEGENERATE = 0,\n\n    ON_NEGATIVE_SIDE = -1,\n    ON_ORIENTED_BOUNDARY = 0,\n    ON_POSITIVE_SIDE = 1,\n}\n\nenum LineFaceState {\n    UNDEFINED = -1,\n    VERTEX_VERTEX = 0,\n    VERTEX_EDGE = 1,\n    EDGE_VERTEX = 2,\n    EDGE_EDGE = 3,\n}\n\nfunction newPoint(): Point {\n    return [INFINITE, INFINITE];\n}\n\nexport class Triangle {\n    vertices: (Vertex | null)[] = [];\n    neighbours: (Triangle | null)[] = [null, null, null];\n    constraints = [false, false, false];\n    static _counter = 0;\n    uid = Triangle._counter++;\n\n    constructor(...vertices: (Vertex | null)[]) {\n        this.vertices = vertices;\n    }\n\n    from(t: Triangle): this {\n        this.vertices = t.vertices.slice(0, t.vertices.length);\n        this.neighbours = t.neighbours.slice(0, t.neighbours.length);\n        this.constraints = t.constraints.slice(0, t.constraints.length);\n        return this;\n    }\n\n    get dimension() {\n        return this.vertices.length - 1;\n    }\n\n    addVertex(vertex: Vertex) {\n        if (vertex === undefined) {\n            console.log(\"UNDEFINED HIERE\");\n        }\n        this.vertices.push(vertex);\n        vertex.triangle = this;\n    }\n\n    isConstrained(index: number): boolean {\n        return this.constraints[index];\n    }\n\n    reorient() {\n        // If certain indices do not exist yet thay will append faulty undefined's, thus we slice them\n        this.vertices = [this.vertices[1], this.vertices[0], this.vertices[2]].slice(0, this.vertices.length);\n        this.neighbours = [this.neighbours[1], this.neighbours[0], this.neighbours[2]];\n        this.constraints = [this.constraints[1], this.constraints[0], this.constraints[2]];\n    }\n\n    indexV(v: Vertex): number {\n        return this.vertices.indexOf(v);\n    }\n\n    indexT(t: Triangle): number {\n        return this.neighbours.indexOf(t);\n    }\n\n    isInfinite(index?: number): boolean {\n        if (index === undefined) {\n            return this.vertices.includes(_INFINITE_VERTEX);\n        } else {\n            return this.vertices[ccw(index)]!.infinite || this.vertices[cw(index)]!.infinite;\n        }\n    }\n\n    contains(point: Point) {\n        const A =\n            -this.vertices[1]!.point![1] * this.vertices[2]!.point![0] +\n            this.vertices[0]!.point![1] * (-this.vertices[1]!.point![0] + this.vertices[2]!.point![0]) +\n            this.vertices[0]!.point![0] * (this.vertices[1]!.point![1] - this.vertices[2]!.point![1]) +\n            this.vertices[1]!.point![0] * this.vertices[2]!.point![1];\n        const sign = A < 0 ? -1 : 1;\n        const s =\n            (this.vertices[0]!.point![1] * this.vertices[2]!.point![0] -\n                this.vertices[0]!.point![0] * this.vertices[2]!.point![1] +\n                (this.vertices[2]!.point![1] - this.vertices[0]!.point![1]) * point[0] +\n                (this.vertices[0]!.point![0] - this.vertices[2]!.point![0]) * point[1]) *\n            sign;\n        if (s < 0) return false;\n        const t =\n            (this.vertices[0]!.point![0] * this.vertices[1]!.point![1] -\n                this.vertices[0]!.point![1] * this.vertices[1]!.point![0] +\n                (this.vertices[0]!.point![1] - this.vertices[1]!.point![1]) * point[0] +\n                (this.vertices[1]!.point![0] - this.vertices[0]!.point![0]) * point[1]) *\n            sign;\n\n        return t > 0 && s + t < A * sign;\n    }\n}\n\nexport class Vertex {\n    infinite = false;\n    private _point: Point | undefined;\n    triangle: Triangle | undefined;\n\n    constructor(point?: Point) {\n        this._point = point;\n    }\n\n    get point(): Point | undefined {\n        return this._point;\n    }\n\n    set point(point: Point | undefined) {\n        this._point = point;\n        this.infinite = false;\n    }\n}\n\nexport class EdgeCirculator {\n    ri: number;\n    v: Vertex | null;\n    t: Triangle | null;\n    _ri: number;\n    _v: Vertex | null;\n    _t: Triangle | null;\n\n    constructor(v: Vertex | null, t: Triangle | null) {\n        this.v = v;\n        this.t = t;\n        if (v === null) {\n            this.t = null;\n        } else if (t === null) {\n            this.t = v.triangle!;\n        }\n        if (this.t == null || this.t.dimension < 1) {\n            this.ri = 0;\n            this.v = null;\n            this.t = null;\n        } else {\n            const i = this.t.indexV(v!);\n            if (this.t.dimension === 2) this.ri = ccw(i);\n            else this.ri = 2;\n        }\n        this._ri = this.ri;\n        this._v = this.v;\n        this._t = this.t;\n    }\n\n    get valid() {\n        return this.t !== null && this.v !== null;\n    }\n\n    next(): boolean {\n        let i = this.t!.indexV(this.v!);\n        if (this.t!.dimension === 1) {\n            this.t = this.t!.neighbours[i === 0 ? 1 : 0];\n        } else {\n            this.t = this.t!.neighbours[ccw(i)];\n            i = this.t!.indexV(this.v!);\n            this.ri = ccw(i);\n        }\n        return this.ri !== this._ri || this.v !== this._v || this.t !== this._t;\n    }\n}\n\nexport class EdgeIterator {\n    private i = 0;\n    pos: Triangle | null;\n    edge: Edge = new Edge();\n    tds: TDS;\n    _es = 0;\n    constructor(tds: TDS) {\n        this.tds = tds;\n        this.edge.second = 0;\n        if (tds.dimension <= 0) {\n            this.pos = null;\n            return;\n        }\n        this.pos = tds.triangles[0];\n        if (tds.dimension === 1) this.edge.second = 2;\n        while (this.pos !== null && !this.associatedEdge()) {\n            throw new Error(\"[poi\");\n        }\n\n        if (tds.dimension === 1) this._es = 2;\n    }\n\n    get valid(): boolean {\n        return (this.pos !== null || this._es !== this.edge.second) && this.pos!.isInfinite(this.edge.second);\n    }\n\n    next() {\n        do {\n            this.increment();\n        } while (this.pos !== null && !this.associatedEdge());\n    }\n\n    collect(): Edge {\n        this.edge.first = this.pos;\n        return this.edge;\n    }\n\n    associatedEdge(): boolean {\n        if (this.tds.dimension === 1) return true;\n        return (\n            this.tds.triangles.indexOf(this.pos!) < this.tds.triangles.indexOf(this.pos!.neighbours[this.edge.second]!)\n        );\n    }\n\n    increment() {\n        if (this.tds.dimension === 1) {\n            this.i++;\n            if (this.tds.triangles.length <= this.i) this.pos = null;\n            else this.pos = this.tds.triangles[this.i];\n        } else if (this.edge.second === 2) {\n            this.edge.second = 0;\n            this.i++;\n            if (this.tds.triangles.length <= this.i) this.pos = null;\n            else this.pos = this.tds.triangles[this.i];\n        } else {\n            this.edge.second++;\n        }\n    }\n}\n\nexport class FaceCirculator {\n    v: Vertex | null;\n    t: Triangle | null;\n    _v: Vertex | null;\n    _t: Triangle | null;\n\n    constructor(v: Vertex | null, t: Triangle | null) {\n        this.v = v;\n        this.t = t;\n        if (v === null) {\n            this.t = null;\n        } else if (t === null) {\n            this.t = v.triangle!;\n        }\n        if (this.t == null || this.t.dimension < 2) {\n            this.v = null;\n            this.t = null;\n        }\n        this._v = this.v;\n        this._t = this.t;\n    }\n\n    get valid() {\n        return this.t !== null && this.v !== null;\n    }\n\n    prev() {\n        const i = this.t!.indexV(this.v!);\n        this.t = this.t!.neighbours[cw(i)];\n    }\n\n    next(): boolean {\n        const i = this.t!.indexV(this.v!);\n        this.t = this.t!.neighbours[ccw(i)];\n        return this.v !== this._v || this.t !== this._t;\n    }\n}\n\nexport class LineFaceCirculator {\n    private i = 0;\n    pos: Triangle | null = null;\n    _tr: CDT;\n    s: LineFaceState = LineFaceState.UNDEFINED;\n    p: Point;\n    q: Point;\n\n    constructor(v: Vertex, tr: CDT, dir: Point) {\n        this._tr = tr;\n        this.p = v.point!;\n        this.q = dir;\n\n        const fc = new FaceCirculator(v, null);\n        let ic = fc.t!.indexV(v);\n        let vt = fc.t!.vertices[cw(ic)]!;\n        while (v === _INFINITE_VERTEX || orientation(this.p, this.q, vt.point!) !== Sign.LEFT_TURN) {\n            fc.next();\n            ic = fc.t!.indexV(v);\n            vt = fc.t!.vertices[cw(ic)]!;\n            if (!fc.valid) {\n                return;\n            }\n        }\n\n        let vr = fc.t!.vertices[ccw(ic)]!;\n        let pqr: Sign = Sign.RIGHT_TURN;\n        // tslint:disable:no-conditional-assignment\n        while (vr !== _INFINITE_VERTEX && (pqr = orientation(this.p, this.q, vr.point!)) === Sign.LEFT_TURN) {\n            fc.prev();\n            ic = fc.t!.indexV(v);\n            vr = fc.t!.vertices[ccw(ic)]!;\n        }\n\n        ic = fc.t!.indexV(v);\n        vt = fc.t!.vertices[cw(ic)]!;\n\n        if (vr === _INFINITE_VERTEX) {\n            fc.prev();\n            ic = fc.t!.indexV(v);\n            vr = fc.t!.vertices[ccw(ic)]!;\n            pqr = orientation(this.p, this.q, vr.point!);\n            switch (pqr) {\n                case Sign.RIGHT_TURN:\n                case Sign.COLLINEAR: {\n                    fc.next();\n                    ic = fc.t!.indexV(_INFINITE_VERTEX);\n                    this.pos = fc.t!;\n                    this.s = LineFaceState.VERTEX_VERTEX;\n                    this.i = ic;\n                    break;\n                }\n                case Sign.LEFT_TURN: {\n                    break;\n                }\n            }\n        } else if (pqr === Sign.COLLINEAR) {\n            this.pos = fc.t!;\n            this.s = LineFaceState.VERTEX_VERTEX;\n            this.i = ccw(ic);\n        } else {\n            this.pos = fc.t!;\n            this.s = LineFaceState.VERTEX_EDGE;\n            this.i = ic;\n        }\n    }\n\n    next() {\n        this.increment();\n    }\n\n    increment() {\n        let o: Sign;\n        if (this.s === LineFaceState.VERTEX_VERTEX || this.s === LineFaceState.EDGE_VERTEX) {\n            do {\n                const n = this.pos!.neighbours[cw(this.i)]!;\n                this.i = n.indexT(this.pos!);\n                this.pos = n;\n                if (this.pos!.vertices[this.i] === _INFINITE_VERTEX) {\n                    o = Sign.COLLINEAR;\n                    this.i = cw(this.i);\n                    break;\n                }\n                o = orientation(this.p, this.q, this.pos!.vertices[this.i]!.point!);\n                this.i = cw(this.i);\n            } while (o === Sign.LEFT_TURN);\n            if (o === Sign.COLLINEAR) {\n                this.s = LineFaceState.VERTEX_VERTEX;\n                this.i = ccw(this.i);\n            } else {\n                this.s = LineFaceState.VERTEX_EDGE;\n            }\n        } else {\n            const n = this.pos!.neighbours[this.i]!;\n            const ni = n.indexT(this.pos!);\n            this.pos = n;\n            o =\n                this.pos!.vertices[ni]! === _INFINITE_VERTEX\n                    ? Sign.COLLINEAR\n                    : orientation(this.p, this.q, this.pos!.vertices[ni]!.point!);\n            switch (o) {\n                case Sign.LEFT_TURN: {\n                    this.s = LineFaceState.EDGE_EDGE;\n                    this.i = ccw(ni);\n                    break;\n                }\n                case Sign.RIGHT_TURN: {\n                    this.s = LineFaceState.EDGE_EDGE;\n                    this.i = cw(ni);\n                    break;\n                }\n                default: {\n                    this.s = LineFaceState.EDGE_VERTEX;\n                    this.i = ni;\n                }\n            }\n        }\n    }\n}\n\nclass Edge {\n    first: Triangle | null = null;\n    second: number = 0;\n}\n\nexport enum LocateType {\n    VERTEX,\n    EDGE,\n    FACE,\n    OUTSIDE_CONVEX_HULL,\n    OUTSIDE_AFFINE_HULL,\n}\n\nexport class TDS {\n    dimension = -1;\n    vertices: Vertex[] = [];\n    triangles: Triangle[] = [];\n    _infinite: Vertex;\n\n    constructor() {\n        this._infinite = this.createVertex();\n        _INFINITE_VERTEX = this._infinite;\n        const t = new Triangle();\n        t.addVertex(this._infinite);\n        this.triangles.push(t);\n    }\n\n    createVertex(): Vertex {\n        const v = this.infiniteVertex;\n        if (v === undefined) {\n            console.log(\"UNDEFINED HIERE\");\n        }\n        this.vertices.push(v);\n        return v;\n    }\n\n    createTriangle(\n        v0: Vertex | null,\n        v1: Vertex | null,\n        v2: Vertex | null,\n        n0: Triangle | null,\n        n1: Triangle | null,\n        n2: Triangle | null,\n    ) {\n        const t = new Triangle(v0, v1, v2);\n        t.neighbours[0] = n0;\n        t.neighbours[1] = n1;\n        t.neighbours[2] = n2;\n        this.triangles.push(t);\n        return t;\n    }\n\n    deleteTriangle(trig: Triangle) {\n        this.triangles = this.triangles.filter(t => t !== trig);\n    }\n\n    setAdjacency(t0: Triangle, i0: number, t1: Triangle, i1: number) {\n        t0.neighbours[i0] = t1;\n        t1.neighbours[i1] = t0;\n    }\n\n    get finiteVertex(): Vertex {\n        return this.vertices[1];\n    }\n\n    get infiniteVertex(): Vertex {\n        const v = new Vertex(newPoint());\n        v.infinite = true;\n        return v;\n    }\n\n    get finiteEdge(): Edge {\n        if (this.dimension < 1) throw new Error(\"aspo\");\n        const ei = new EdgeIterator(this);\n        while (ei.valid) ei.next();\n        return ei.collect();\n    }\n\n    insertDimUp(w: Vertex = new Vertex(), orient: boolean = true): Vertex {\n        const v = this.createVertex();\n        this.dimension++;\n        let t1: Triangle;\n        let t2: Triangle;\n        switch (this.dimension) {\n            case 0: {\n                t1 = this.triangles[0];\n                t2 = new Triangle(v);\n                this.triangles.push(t2);\n                this.setAdjacency(t1, 0, t2, 0);\n                v.triangle = t2;\n                break;\n            }\n            case 1:\n            case 2: {\n                const deleteList: Triangle[] = [];\n                const triangles = this.triangles.slice(0, this.triangles.length);\n                for (const trig of triangles) {\n                    const copy = new Triangle().from(trig);\n                    this.triangles.push(copy);\n                    trig.vertices[this.dimension] = v;\n                    copy.vertices[this.dimension] = w;\n                    this.setAdjacency(trig, this.dimension, copy, this.dimension);\n                    if (trig.vertices.includes(w)) deleteList.push(copy);\n                }\n                for (const trig of triangles) {\n                    const neighbour = trig.neighbours[this.dimension];\n                    for (let j = 0; j < this.dimension; ++j) {\n                        neighbour!.neighbours[j] = trig.neighbours[j]!.neighbours[this.dimension];\n                    }\n                }\n\n                let lfit = 0;\n                if (this.dimension === 1) {\n                    if (orient) {\n                        triangles[lfit].reorient();\n                        lfit++;\n                        triangles[lfit].neighbours[1]!.reorient();\n                    } else {\n                        triangles[lfit].neighbours[1]!.reorient();\n                        lfit++;\n                        triangles[lfit].reorient();\n                    }\n                } else {\n                    for (const trig of triangles) {\n                        if (orient) trig.neighbours[2]!.reorient();\n                        else trig.reorient();\n                    }\n                }\n\n                for (const trig of deleteList) {\n                    let j = 1;\n                    if (trig.vertices[0] === w) j = 0;\n                    t1 = trig.neighbours[this.dimension]!;\n                    const i1 = this.mirrorIndex(trig, this.dimension);\n                    t2 = trig.neighbours[j]!;\n                    const i2 = this.mirrorIndex(trig, j);\n                    this.setAdjacency(t1, i1, t2, i2);\n                    this.deleteTriangle(trig);\n                }\n                v.triangle = triangles[0];\n                break;\n            }\n            default: {\n                throw new Error(\"Dimension unknown\");\n            }\n        }\n        return v;\n    }\n\n    mirrorIndex(t: Triangle, i: number): number {\n        if (t.dimension === 1) {\n            const j = t.neighbours[i]!.indexV(t.vertices[i === 0 ? 1 : 0]!);\n            return j === 0 ? 1 : 0;\n        }\n        return ccw(t.neighbours[i]!.indexV(t.vertices[ccw(i)]!));\n    }\n\n    insertInFace(t: Triangle) {\n        const v = this.createVertex();\n        const v0 = t.vertices[0]!;\n        const v1 = t.vertices[1]!;\n        const v2 = t.vertices[2]!;\n        const n1 = t.neighbours[1]!;\n        const n2 = t.neighbours[2]!;\n        const t1 = this.createTriangle(v0, v, v2, t, n1, null);\n        const t2 = this.createTriangle(v0, v1, v, t, null, n2);\n        this.setAdjacency(t1, 2, t2, 1);\n        if (n1 !== null) {\n            const i1 = this.mirrorIndex(t, 1);\n            n1.neighbours[i1] = t1;\n        }\n        if (n2 !== null) {\n            const i2 = this.mirrorIndex(t, 2);\n            n2.neighbours[i2] = t2;\n        }\n        t.vertices[0] = v;\n        t.neighbours[1] = t1;\n        t.neighbours[2] = t2;\n        if (v0.triangle === t) v0.triangle = t2;\n        v.triangle = t;\n        return v;\n    }\n\n    flip(t: Triangle, i: number) {\n        const n = t.neighbours[i]!;\n        const ni = this.mirrorIndex(t, i);\n        const vCW = t.vertices[cw(i)]!;\n        const vCCW = t.vertices[ccw(i)]!;\n        const tr = t.neighbours[ccw(i)]!;\n        const tri = this.mirrorIndex(t, ccw(i));\n        const bl = n.neighbours[ccw(ni)]!;\n        const bli = this.mirrorIndex(n, ccw(ni));\n\n        t.vertices[cw(i)] = n.vertices[ni]!;\n        n.vertices[cw(ni)] = t.vertices[i]!;\n\n        this.setAdjacency(t, i, bl, bli);\n        this.setAdjacency(t, ccw(i), n, ccw(ni));\n        this.setAdjacency(n, ni, tr, tri);\n\n        if (vCW.triangle! === t) vCW.triangle = n;\n        if (vCCW.triangle! === n) vCCW.triangle = t;\n    }\n\n    insertInEdge(t: Triangle, i: number) {\n        let v: Vertex;\n        if (this.dimension === 1) {\n            v = this.createVertex();\n            const ff = t.neighbours[0]!;\n            const vv = t.vertices[1]!;\n            const g = this.createTriangle(v, vv, null, ff, t, null);\n            t.vertices[1] = v;\n            t.neighbours[0] = g;\n            ff.neighbours[1] = g;\n            v.triangle = g;\n            vv.triangle = ff;\n        } else {\n            const n = t.neighbours[i]!;\n            const ni = this.mirrorIndex(t, i);\n            v = this.insertInFace(t);\n            this.flip(n, ni);\n        }\n        return v;\n    }\n}\n\nexport class BoundingBox {\n    x1: number;\n    x2: number;\n    y1: number;\n    y2: number;\n    constructor(p: Point) {\n        this.x1 = p[0];\n        this.y1 = p[1];\n        this.x2 = p[0];\n        this.y2 = p[1];\n    }\n\n    dilate(dist: number) {\n        this.x1 -= dist * ulp(this.x1);\n        this.y1 -= dist * ulp(this.y1);\n        this.x2 += dist * ulp(this.x2);\n        this.y2 += dist * ulp(this.y2);\n    }\n\n    overlaps(other: BoundingBox): boolean {\n        if (this.x2 < other.x1 || other.x2 < this.x1) return false;\n        if (this.y2 < other.y1 || other.y2 < this.y1) return false;\n        return true;\n    }\n}\n","import { partition } from \"@/core/utils\";\nimport { GlobalPoint, Ray } from \"@/game/geom\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { BoundingRect } from \"@/game/shapes/boundingrect\";\nimport { gameStore } from \"@/game/store\";\nimport { g2lx, g2ly, g2lz } from \"@/game/units\";\nimport { BoundingNode, InteriorNode, LeafNode } from \"@/game/visibility/bvh/node\";\n\ninterface BuildInfo {\n    index: number;\n    bbox: BoundingRect;\n    center: BoundingRect;\n}\ninterface LinearBHVNode {\n    bbox: BoundingRect;\n    nPrimitives: number;\n}\ninterface LinearLeafNode extends LinearBHVNode {\n    primitivesOffset: number;\n}\ninterface LinearInternalNode extends LinearBHVNode {\n    secondChildOffset: number;\n    dimension: number;\n}\n\nexport class BoundingVolume {\n    totalNodes = 0;\n    buildData: BuildInfo[] = [];\n    shapes: string[];\n    orderedPrims: string[] = [];\n    root: BoundingNode | null;\n    nodes: LinearBHVNode[] = [];\n\n    offset = 0;\n\n    constructor(shapes: string[]) {\n        this.shapes = shapes;\n        if (this.shapes.length === 0) {\n            this.root = null;\n            this.nodes = [];\n            return;\n        }\n        for (let i = 0; i < shapes.length; i++) {\n            const shape = layerManager.UUIDMap.get(shapes[i])!;\n            this.buildData.push({\n                index: i,\n                bbox: shape.getBoundingBox(),\n                center: new BoundingRect(shape.center(), 0, 0),\n            });\n        }\n        this.root = this.recursiveBuild(0, shapes.length);\n        this.compact();\n    }\n\n    draw() {\n        const ctx = layerManager.getLayer(\"draw\")!.ctx;\n        for (const node of this.nodes) {\n            const b = node.bbox;\n            ctx.strokeRect(g2lx(b.topLeft.x), g2ly(b.topLeft.y), g2lz(b.w), g2lz(b.h));\n        }\n    }\n\n    recursiveBuild(start: number, end: number): BoundingNode {\n        this.totalNodes++;\n        let bbox = this.buildData[start].bbox;\n        for (let i = start + 1; i < end; i++) bbox = bbox.union(this.buildData[i].bbox);\n        const nPrimitives = end - start;\n        if (nPrimitives === 1) {\n            return this.createLeaf(start, end, nPrimitives, bbox);\n        } else {\n            let centroidBbox = this.buildData[start].center;\n            for (let i = start; i < end; i++) centroidBbox = centroidBbox.union(this.buildData[i].center);\n            const dimension = centroidBbox.getMaxExtent();\n            if (centroidBbox.botRight.get(dimension) === centroidBbox.topLeft.get(dimension)) {\n                return this.createLeaf(start, end, nPrimitives, bbox);\n            }\n            // Use shitty Middle thingy until an introselect js algo is added\n            const pMid = 0.5 * (centroidBbox.topLeft.get(dimension) + centroidBbox.botRight.get(dimension));\n            const partitionedData = partition(\n                this.buildData.slice(start, end),\n                (n: BuildInfo) => n.center.center().get(dimension) < pMid,\n            );\n            const flattened = (<BuildInfo[]>[]).concat.apply([], partitionedData);\n            if (partitionedData[0].length === 0 || partitionedData[1].length === 0) console.log(\"EMPTY\");\n            this.buildData.splice(start, flattened.length, ...flattened);\n            const mid = partitionedData[0].length + start;\n            return new InteriorNode(dimension, this.recursiveBuild(start, mid), this.recursiveBuild(mid, end));\n        }\n    }\n\n    intersect(ray: Ray<GlobalPoint>, stopOnFirstHit?: boolean) {\n        if (this.nodes.length === 0) return { hit: false, intersect: ray.get(0), tMin: 0, tMax: ray.tMax };\n        if (stopOnFirstHit === undefined) stopOnFirstHit = false;\n        // Initialize return values\n        let hit = false;\n        let tMin = 0;\n        let tMax = ray.tMax;\n\n        // Initialize work variables\n        let todoOffset = 0;\n        let nodeNum = 0;\n        const todo: number[] = [];\n\n        // Precalculate intersection vectors\n        const invDir = ray.direction.inverse();\n        const dirIsNegative = [invDir.x < 0, invDir.y < 0];\n\n        while (true) {\n            const node = this.nodes[nodeNum];\n\n            const i = node.bbox.intersectP(ray, invDir, dirIsNegative);\n            if (i.hit) {\n                if (node.nPrimitives > 0) {\n                    // TODO: nPrimitives is currently always 1 , this could be generalised\n                    // for (let i=0; i < node.nPrimitives; i++) {\n                    //     if (this.shapes[(<LinearLeafNode>node).primitivesOffset + i])\n                    // }\n                    hit = true;\n                    tMin = ray.tMax = i.min;\n                    tMax = i.max;\n                    if (todoOffset === 0 || stopOnFirstHit) break;\n                    nodeNum = todo[--todoOffset];\n                } else {\n                    if (dirIsNegative[(<LinearInternalNode>node).dimension]) {\n                        todo[todoOffset++] = nodeNum + 1;\n                        nodeNum = (<LinearInternalNode>node).secondChildOffset;\n                    } else {\n                        todo[todoOffset++] = (<LinearInternalNode>node).secondChildOffset;\n                        nodeNum++;\n                    }\n                }\n            } else {\n                if (todoOffset === 0) break;\n                nodeNum = todo[--todoOffset];\n            }\n        }\n        return { hit, intersect: ray.get(tMin), tMin, tMax };\n    }\n\n    private compact() {\n        this.offset = 0;\n        if (this.root !== null) this.flatten(this.root);\n    }\n\n    private flatten(node: BoundingNode) {\n        const index = this.offset;\n        const myOffset = this.offset++;\n        if (node.nPrimitives === 0) {\n            this.flatten(node.children[0]);\n            const secondOffset = this.flatten(node.children[1]);\n            this.nodes[index] = <LinearInternalNode>{\n                bbox: node.bbox,\n                dimension: (<InteriorNode>node).dimension,\n                nPrimitives: 0,\n                secondChildOffset: secondOffset,\n            };\n        } else {\n            this.nodes[index] = <LinearLeafNode>{\n                bbox: node.bbox,\n                primitivesOffset: (<LeafNode>node).firstPrimOffset,\n                nPrimitives: node.nPrimitives,\n            };\n        }\n        return myOffset;\n    }\n\n    private createLeaf(start: number, end: number, nPrimitives: number, bbox: BoundingRect) {\n        const size = this.orderedPrims.length;\n        for (let i = start; i < end; i++) this.orderedPrims.push(this.shapes[this.buildData[i].index]);\n        return new LeafNode(size, nPrimitives, bbox);\n    }\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./filter.vue?vue&type=style&index=1&id=dca395d6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./filter.vue?vue&type=style&index=1&id=dca395d6&scoped=true&lang=css&\"","import Initiative from \"./ui/initiative.vue\";\n\nimport { getRef } from \"@/core/utils\";\nimport { sendClientOptions } from \"@/game/api/utils\";\nimport { ServerShape } from \"@/game/comm/types/shapes\";\nimport { GlobalPoint } from \"@/game/geom\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { createShapeFromDict } from \"@/game/shapes/utils\";\nimport { gameStore } from \"@/game/store\";\nimport { AnnotationManager } from \"@/game/ui/annotation\";\nimport { g2l } from \"@/game/units\";\n\nexport class GameManager {\n    selectedTool: number = 0;\n\n    annotationManager = new AnnotationManager();\n\n    addShape(shape: ServerShape): void {\n        if (!layerManager.hasLayer(shape.layer)) {\n            console.log(`Shape with unknown layer ${shape.layer} could not be added`);\n            return;\n        }\n        const layer = layerManager.getLayer(shape.layer)!;\n        const sh = createShapeFromDict(shape);\n        if (sh === undefined) {\n            console.log(`Shape with unknown type ${shape.type_} could not be added`);\n            return;\n        }\n        layer.addShape(sh, false);\n        layer.invalidate(false);\n    }\n\n    updateShape(data: { shape: ServerShape; redraw: boolean; move: boolean; temporary: boolean }): void {\n        if (!layerManager.hasLayer(data.shape.layer)) {\n            console.log(`Shape with unknown layer ${data.shape.layer} could not be added`);\n            return;\n        }\n        const sh = createShapeFromDict(data.shape);\n        if (sh === undefined) {\n            console.log(`Shape with unknown type ${data.shape.type_} could not be added`);\n            return;\n        }\n        const oldShape = layerManager.UUIDMap.get(data.shape.uuid);\n        if (oldShape === undefined) {\n            console.log(`Shape with unknown id could not be updated`);\n            return;\n        }\n        const redrawInitiative = sh.owners !== oldShape.owners;\n        const shape = Object.assign(oldShape, sh);\n        shape.checkVisionSources();\n        shape.setMovementBlock(shape.movementObstruction);\n        shape.setIsToken(shape.isToken);\n        if (data.redraw) {\n            if (shape.visionObstruction) gameStore.recalculateVision(data.temporary);\n            layerManager.getLayer(data.shape.layer)!.invalidate(false);\n            if (shape.movementObstruction) gameStore.recalculateMovement(data.temporary);\n        }\n        if (redrawInitiative) getRef<Initiative>(\"initiative\").$forceUpdate();\n    }\n\n    setCenterPosition(position: GlobalPoint) {\n        const localPos = g2l(position);\n        gameStore.increasePanX((window.innerWidth / 2 - localPos.x) / gameStore.zoomFactor);\n        gameStore.increasePanY((window.innerHeight / 2 - localPos.y) / gameStore.zoomFactor);\n        layerManager.invalidate();\n        sendClientOptions();\n    }\n}\n\nexport const gameManager = new GameManager();\n(<any>window).gameManager = gameManager;\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset_node.vue?vue&type=style&index=0&id=6d718094&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset_node.vue?vue&type=style&index=0&id=6d718094&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=style&index=0&id=c2851f0e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=style&index=0&id=c2851f0e&scoped=true&lang=css&\"","import { render, staticRenderFns } from \"./vision.vue?vue&type=template&id=46baf892&scoped=true&\"\nimport script from \"./vision.vue?vue&type=script&lang=ts&\"\nexport * from \"./vision.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./vision.vue?vue&type=style&index=0&id=46baf892&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46baf892\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"visible\":_vm.visible,\"mask\":false},on:{\"close\":function($event){_vm.visible = false}},scopedSlots:_vm._u([{key:\"header\",fn:function(m){return _c('div',{staticClass:\"modal-header\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":m.dragStart,\"dragend\":m.dragEnd}},[_c('div',[_vm._v(\"Initiative\")]),_c('div',{staticClass:\"header-close\",on:{\"click\":function($event){_vm.visible = false}}},[_c('i',{staticClass:\"far fa-window-close\"})])])}}])},[_c('div',{staticClass:\"modal-body\"},[_c('draggable',{attrs:{\"id\":\"initiative-list\",\"options\":{setData: _vm.fakeSetData, disabled: !_vm.$store.state.game.IS_DM}},on:{\"change\":_vm.updateOrder},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}},[_vm._l((_vm.data),function(actor){return [_c('div',{key:actor.uuid,staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"align-items\":\"flex-end\"}},[_c('div',{staticClass:\"initiative-actor\",class:{'initiative-selected': _vm.currentActor === actor.uuid},style:({'cursor': _vm.$store.state.game.IS_DM && 'move'}),on:{\"mouseenter\":function($event){return _vm.toggleHighlight(actor, true)},\"mouseleave\":function($event){return _vm.toggleHighlight(actor, false)}}},[(actor.has_img)?[_c('img',{attrs:{\"src\":actor.source,\"width\":\"30px\",\"height\":\"30px\"}})]:[_c('span',{staticStyle:{\"width\":\"auto\"}},[_vm._v(_vm._s(actor.source))])],_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy.number\",value:(actor.initiative),expression:\"actor.initiative\",modifiers:{\"lazy\":true,\"number\":true}}],class:{'notAllowed': !_vm.owns(actor)},attrs:{\"type\":\"text\",\"placeholder\":\"value\",\"disabled\":!_vm.owns(actor)},domProps:{\"value\":(actor.initiative)},on:{\"change\":[function($event){_vm.$set(actor, \"initiative\", _vm._n($event.target.value))},function($event){return _vm.syncInitiative(actor)}],\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('div',{staticClass:\"initiative-effects-icon\",class:{'notAllowed': !_vm.owns(actor)},staticStyle:{\"opacity\":\"0.6\"},on:{\"click\":function($event){_vm.createEffect(actor, _vm.getDefaultEffect(), true)}}},[_c('i',{staticClass:\"fas fa-stopwatch\"}),(actor.effects)?[_vm._v(_vm._s(actor.effects.length))]:[_vm._v(\"0\")]],2),_c('div',{class:{'notAllowed': !_vm.owns(actor)},style:({'opacity': actor.visible ? '1.0' : '0.3'}),on:{\"click\":function($event){return _vm.toggleOption(actor, 'visible')}}},[_c('i',{staticClass:\"fas fa-eye\"})]),_c('div',{class:{'notAllowed': !_vm.owns(actor)},style:({'opacity': actor.group ? '1.0' : '0.3'}),on:{\"click\":function($event){return _vm.toggleOption(actor, 'group')}}},[_c('i',{staticClass:\"fas fa-users\"})]),_c('div',{class:{'notAllowed': !_vm.owns(actor)},style:({'opacity': _vm.owns(actor) ? '1.0' : '0.3'}),on:{\"click\":function($event){return _vm.removeInitiative(actor.uuid, true, true)}}},[_c('i',{staticClass:\"fas fa-trash-alt\"})])],2),(actor.effects)?_c('div',{staticClass:\"initiative-effect\"},_vm._l((actor.effects),function(effect){return _c('div',{key:effect.uuid},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(effect.name),expression:\"effect.name\"}],attrs:{\"type\":\"text\",\"size\":effect.name.length || 1},domProps:{\"value\":(effect.name)},on:{\"change\":function($event){return _vm.updateEffect(actor.uuid, effect, true)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(effect, \"name\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(effect.turns),expression:\"effect.turns\"}],attrs:{\"type\":\"text\",\"size\":effect.turns.toString().length || 1},domProps:{\"value\":(effect.turns)},on:{\"change\":function($event){return _vm.updateEffect(actor.uuid, effect, true)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(effect, \"turns\", $event.target.value)}}})])}),0):_vm._e()])]})],2),_c('div',{attrs:{\"id\":\"initiative-bar\"}},[_c('div',{attrs:{\"id\":\"initiative-round\"}},[_vm._v(\"Round \"+_vm._s(_vm.roundCounter))]),_c('div',{staticStyle:{\"display\":\"flex\"}}),_c('div',{staticClass:\"initiative-bar-button\",style:(_vm.visionLock ? 'background-color: #82c8a0' : ''),on:{\"click\":_vm.toggleVisionLock}},[_c('i',{staticClass:\"fas fa-eye\"})]),_c('div',{staticClass:\"initiative-bar-button\",style:(_vm.cameraLock ? 'background-color: #82c8a0' : ''),on:{\"click\":function($event){_vm.cameraLock = !_vm.cameraLock}}},[_c('i',{staticClass:\"fas fa-video\"})]),_c('div',{staticClass:\"initiative-bar-button\",class:{'notAllowed': !_vm.$store.state.game.IS_DM},on:{\"click\":function($event){_vm.setRound(0, true); _vm.updateTurn(_vm.data[0].uuid, true)}}},[_c('i',{staticClass:\"fas fa-sync-alt\"})]),_c('div',{staticClass:\"initiative-bar-button\",class:{'notAllowed': !_vm.$store.state.game.IS_DM},on:{\"click\":_vm.nextTurn}},[_c('i',{staticClass:\"fas fa-chevron-right\"})])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./initiative.vue?vue&type=template&id=07fc8ff2&scoped=true&\"","\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\n@Component\nexport default class LoadComponent extends Vue {\n    message = \"Loading...\";\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.shape !== null)?_c('div',[_c('div',{attrs:{\"id\":\"selection-menu\"}},[_c('div',{attrs:{\"id\":\"selection-edit-button\"},on:{\"click\":_vm.openEditDialog}},[_c('i',{staticClass:\"fas fa-edit\"})]),_c('div',{attrs:{\"id\":\"selection-name\"}},[_vm._v(_vm._s(_vm.shape.name))]),_c('div',{attrs:{\"id\":\"selection-trackers\"}},[_vm._l((_vm.shape.trackers),function(tracker){return (tracker.name !== '' || tracker.value !== 0)?[_c('div',{key:'name-' + tracker.uuid},[_vm._v(_vm._s(tracker.name))]),_c('div',{key:'value-' + tracker.uuid,staticClass:\"selection-tracker-value\",on:{\"click\":function($event){return _vm.changeValue(tracker, false)}}},[(tracker.maxvalue === 0)?[_vm._v(_vm._s(tracker.value))]:[_vm._v(_vm._s(tracker.value)+\" / \"+_vm._s(tracker.maxvalue))]],2)]:_vm._e()})],2),_c('div',{attrs:{\"id\":\"selection-auras\"}},[_vm._l((_vm.shape.auras),function(aura){return (aura.name !== '' || aura.value !== 0)?[_c('div',{key:'name-' + aura.uuid},[_vm._v(_vm._s(aura.name))]),_c('div',{key:'value-' + aura.uuid,staticClass:\"selection-tracker-value\",on:{\"click\":function($event){return _vm.changeValue(aura, true)}}},[(aura.dim === 0)?[_vm._v(_vm._s(aura.value))]:[_vm._v(_vm._s(aura.value)+\" / \"+_vm._s(aura.dim))]],2)]:_vm._e()})],2)]),_c('edit-dialog',{ref:\"editDialog\",attrs:{\"shape\":_vm.shape}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selection_info.vue?vue&type=template&id=674cf937&scoped=true&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport axios, { AxiosError, AxiosResponse } from \"axios\";\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Route } from \"vue-router\";\n\nimport { coreStore } from \"@/core/store\";\n\nComponent.registerHooks([\"beforeRouteEnter\"]);\n\n@Component\nexport default class Dashboard extends Vue {\n    owned = [];\n    joined = [];\n    error = \"\";\n\n    newSessionName = \"\";\n\n    beforeRouteEnter(to: Route, from: Route, next: ({}) => {}) {\n        axios\n            .get(\"/api/rooms\")\n            .then((response: AxiosResponse) => {\n                next((vm: this) => {\n                    vm.owned = response.data.owned;\n                    vm.joined = response.data.joined;\n                });\n            })\n            .catch((err: AxiosError) => {\n                next((vm: this) => {\n                    vm.error = err.message;\n                });\n            });\n    }\n\n    createRoom(event: Event) {\n        axios\n            .post(\"/api/rooms\", {\n                name: this.newSessionName,\n            })\n            .then((response: AxiosResponse) => {\n                this.$router.push(`/game/${encodeURIComponent(coreStore.username)}/${encodeURIComponent(this.newSessionName)}`);\n            })\n            .catch((err: AxiosError) => {\n                this.error = err.message;\n            });\n    }\n}\n","import { render, staticRenderFns } from \"./confirm.vue?vue&type=template&id=1883e207&scoped=true&\"\nimport script from \"./confirm.vue?vue&type=script&lang=ts&\"\nexport * from \"./confirm.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./confirm.vue?vue&type=style&index=0&id=1883e207&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1883e207\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shapecontext.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shapecontext.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./draw.vue?vue&type=style&index=0&id=639cd890&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./draw.vue?vue&type=style&index=0&id=639cd890&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shapecontext.vue?vue&type=style&index=0&id=6c66d243&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shapecontext.vue?vue&type=style&index=0&id=6c66d243&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manager.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manager.vue?vue&type=script&lang=ts&\"","import Vue from \"vue\";\nexport const EventBus = new Vue();\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=ts&\"","import { GlobalPoint } from \"@/game/geom\";\nimport { BaseRect } from \"@/game/shapes/baserect\";\nimport { gameStore } from \"@/game/store\";\nimport { g2l } from \"@/game/units\";\nimport { getFogColour } from \"@/game/utils\";\n\nexport class Rect extends BaseRect {\n    type = \"rect\";\n    constructor(topleft: GlobalPoint, w: number, h: number, fillColour?: string, strokeColour?: string, uuid?: string) {\n        super(topleft, w, h, fillColour, strokeColour, uuid);\n    }\n    asDict() {\n        return super.getBaseDict();\n    }\n    draw(ctx: CanvasRenderingContext2D) {\n        super.draw(ctx);\n        if (this.fillColour === \"fog\") ctx.fillStyle = getFogColour();\n        else ctx.fillStyle = this.fillColour;\n        const z = gameStore.zoomFactor;\n        const loc = g2l(this.refPoint);\n        ctx.fillRect(loc.x, loc.y, this.w * z, this.h * z);\n        if (this.strokeColour !== \"rgba(0, 0, 0, 0)\") {\n            ctx.strokeStyle = this.strokeColour;\n            ctx.lineWidth = 5;\n            ctx.strokeRect(loc.x, loc.y, this.w * z, this.h * z);\n        }\n    }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./filter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./filter.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectcontext.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectcontext.vue?vue&type=script&lang=ts&\"","import { Ray, Vector } from \"@/game/geom\";\nimport { Layer } from \"@/game/layers/layer\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { Settings } from \"@/game/settings\";\nimport { gameStore } from \"@/game/store\";\nimport { g2l, g2lr, g2lx, g2ly } from \"@/game/units\";\nimport { computeVisibility } from \"../visibility/te/te\";\n\nexport class FOWPlayersLayer extends Layer {\n    isVisionLayer: boolean = true;\n\n    draw(): void {\n        if (!this.valid) {\n            // console.time(\"VI\");\n            const ctx = this.ctx;\n\n            if (!gameStore.fowLOS || Settings.skipPlayerFOW) {\n                ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n                this.valid = true;\n                return;\n            }\n\n            ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n            const originalOperation = ctx.globalCompositeOperation;\n\n            ctx.fillStyle = \"rgba(0, 0, 0, 1)\";\n\n            // For the DM this is done at the end of this function.  TODO: why the split up ???\n            // This was done in commit be1e65cff1e7369375fe11cfa1643fab1d11beab.\n            if (!gameStore.IS_DM) super.draw(!gameStore.fullFOW);\n\n            // Then cut out all the player vision auras\n            const maxLength = ctx.canvas.width + ctx.canvas.height;\n\n            for (const tokenId of gameStore.activeTokens) {\n                const token = layerManager.UUIDMap.get(tokenId);\n                if (token === undefined) continue;\n                const center = token.center();\n                const lcenter = g2l(center);\n                if (gameStore.visionMode === \"bvh\") {\n                    ctx.beginPath();\n                    let lastArcAngle = -1;\n\n                    for (let angle = 0; angle < 2 * Math.PI; angle += (Settings.angleSteps / 2 / 180) * Math.PI) {\n                        const cos = Math.cos(angle);\n                        const sin = Math.sin(angle);\n                        // Check if there is a hit with one of the nearby light blockers.\n                        const lightRay = new Ray(center, new Vector(cos, sin));\n                        const hitResult = gameStore.BV.intersect(lightRay);\n\n                        // We can move on to the next angle if nothing was hit.\n                        if (!hitResult.hit) {\n                            // If an earlier hit caused the aura to leave the arc, we need to go back to the arc\n                            if (lastArcAngle === -1) {\n                                // Draw a line from the last non arc location back to the arc\n                                ctx.lineTo(lcenter.x + maxLength * cos, lcenter.y + maxLength * sin);\n                                // Set the start of a new arc beginning at the current angle\n                                lastArcAngle = angle;\n                            }\n                            continue;\n                        }\n                        // If hit , first finish any ongoing arc, then move to the intersection point\n                        if (lastArcAngle !== -1) {\n                            ctx.arc(lcenter.x, lcenter.y, maxLength, lastArcAngle, angle);\n                            lastArcAngle = -1;\n                        }\n                        ctx.lineTo(g2lx(hitResult.intersect.x), g2ly(hitResult.intersect.y));\n                    }\n\n                    // Finish the final arc.\n                    if (lastArcAngle !== -1) ctx.arc(lcenter.x, lcenter.y, maxLength, lastArcAngle, 2 * Math.PI);\n                    else ctx.closePath();\n                    ctx.fill();\n                } else {\n                    if (true) {\n                        // Add a gradient vision dropoff\n                        const gradient = ctx.createRadialGradient(\n                            lcenter.x,\n                            lcenter.y,\n                            g2lr(gameStore.visionRangeMin),\n                            lcenter.x,\n                            lcenter.y,\n                            g2lr(gameStore.visionRangeMax),\n                        );\n                        gradient.addColorStop(0, \"rgba(0, 0, 0, 1)\");\n                        gradient.addColorStop(1, \"rgba(0, 0, 0, 0)\");\n                        ctx.fillStyle = gradient;\n                    } else {\n                        ctx.fillStyle = \"rgba(0, 0, 0, 1)\";\n                    }\n                    try {\n                        const polygon = computeVisibility(token.center(), \"vision\");\n                        ctx.beginPath();\n                        ctx.moveTo(g2lx(polygon[0][0]), g2ly(polygon[0][1]));\n                        for (const point of polygon) ctx.lineTo(g2lx(point[0]), g2ly(point[1]));\n                        ctx.closePath();\n                        ctx.fill();\n                    } catch {}\n                }\n            }\n\n            // For the players this is done at the beginning of this function.  TODO: why the split up ???\n            // This was done in commit be1e65cff1e7369375fe11cfa1643fab1d11beab.\n            if (gameStore.IS_DM) super.draw(!gameStore.fullFOW);\n\n            ctx.globalCompositeOperation = originalOperation;\n            // console.timeEnd(\"VI\");\n        }\n    }\n}\n","import { socket } from \"@/game/api/socket\";\nimport { ServerShape } from \"@/game/comm/types/shapes\";\nimport { EventBus } from \"@/game/event-bus\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { Shape } from \"@/game/shapes/shape\";\nimport { createShapeFromDict } from \"@/game/shapes/utils\";\nimport { gameStore } from \"@/game/store\";\nimport { g2lx, g2ly } from \"@/game/units\";\n\nexport class Layer {\n    name: string;\n    width: number;\n    height: number;\n    canvas: HTMLCanvasElement;\n    ctx: CanvasRenderingContext2D;\n\n    selectable: boolean = false;\n    playerEditable: boolean = false;\n    isVisionLayer: boolean = false;\n\n    // When set to false, the layer will be redrawn on the next tick\n    valid: boolean = false;\n    // The collection of shapes that this layer contains.\n    // These are ordered on a depth basis.\n    shapes: Shape[] = [];\n\n    // Collection of shapes that are currently selected\n    selection: Shape[] = [];\n\n    // Extra selection highlighting settings\n    selectionColor = \"#CC0000\";\n    selectionWidth = 2;\n\n    constructor(canvas: HTMLCanvasElement, name: string) {\n        this.canvas = canvas;\n        this.name = name;\n        this.width = canvas.width;\n        this.height = canvas.height;\n        this.ctx = canvas.getContext(\"2d\")!;\n    }\n\n    invalidate(skipLightUpdate: boolean): void {\n        this.valid = false;\n        if (!skipLightUpdate) {\n            layerManager.invalidateLight();\n        }\n    }\n\n    addShape(shape: Shape, sync: boolean, temporary?: boolean, invalidate = true): void {\n        if (temporary === undefined) temporary = false;\n        shape.layer = this.name;\n        this.shapes.push(shape);\n        layerManager.UUIDMap.set(shape.uuid, shape);\n        shape.checkVisionSources(invalidate);\n        shape.setMovementBlock(shape.movementObstruction, invalidate);\n        if (shape.ownedBy(gameStore.username) && shape.isToken) gameStore.ownedtokens.push(shape.uuid);\n        if (shape.annotation.length) gameStore.annotations.push(shape.uuid);\n        if (sync) socket.emit(\"Shape.Add\", { shape: shape.asDict(), temporary });\n        if (invalidate) this.invalidate(!sync);\n    }\n\n    setShapes(shapes: ServerShape[]): void {\n        for (const serverShape of shapes) {\n            const shape = createShapeFromDict(serverShape);\n            if (shape === undefined) {\n                console.log(`Shape with unknown type ${serverShape.type_} could not be added`);\n                return;\n            }\n            this.addShape(shape, false, false, false);\n        }\n        this.clearSelection(); // TODO: Fix keeping selection on those items that are not moved.\n        this.invalidate(false);\n    }\n\n    removeShape(shape: Shape, sync: boolean, temporary?: boolean) {\n        if (temporary === undefined) temporary = false;\n        this.shapes.splice(this.shapes.indexOf(shape), 1);\n\n        if (sync) socket.emit(\"Shape.Remove\", { shape: shape.asDict(), temporary });\n        const lsI = gameStore.visionSources.findIndex(ls => ls.shape === shape.uuid);\n        const lbI = gameStore.visionBlockers.findIndex(ls => ls === shape.uuid);\n\n        const mbI = gameStore.movementblockers.findIndex(ls => ls === shape.uuid);\n        const anI = gameStore.annotations.findIndex(ls => ls === shape.uuid);\n        if (lsI >= 0) gameStore.visionSources.splice(lsI, 1);\n        if (lbI >= 0) gameStore.visionBlockers.splice(lbI, 1);\n        if (mbI >= 0) gameStore.movementblockers.splice(mbI, 1);\n        if (anI >= 0) gameStore.annotations.splice(anI, 1);\n\n        const annotationIndex = gameStore.annotations.indexOf(shape.uuid);\n        if (annotationIndex >= 0) gameStore.annotations.splice(annotationIndex, 1);\n\n        const ownedIndex = gameStore.ownedtokens.indexOf(shape.uuid);\n        if (ownedIndex >= 0) gameStore.ownedtokens.splice(ownedIndex, 1);\n\n        layerManager.UUIDMap.delete(shape.uuid);\n\n        const index = this.selection.indexOf(shape);\n        if (index >= 0) this.selection.splice(index, 1);\n        if (lbI >= 0) gameStore.recalculateVision();\n        if (mbI >= 0) gameStore.recalculateMovement();\n        this.invalidate(!sync);\n    }\n\n    clear(): void {\n        this.ctx.clearRect(0, 0, this.width, this.height);\n    }\n\n    clearSelection(): void {\n        this.selection = [];\n        EventBus.$emit(\"SelectionInfo.Shape.Set\", null);\n    }\n\n    draw(doClear?: boolean): void {\n        if (!this.valid) {\n            const ctx = this.ctx;\n            const ogOP = ctx.globalCompositeOperation;\n            doClear = doClear === undefined ? true : doClear;\n\n            if (doClear) this.clear();\n\n            const state = this;\n\n            // We iteratre twice over all shapes\n            // First to draw the auras and a second time to draw the shapes themselves\n            // Otherwise auras from one shape could be overlapping another shape itself.\n\n            this.shapes.forEach(shape => {\n                if (shape.options.has(\"skipDraw\") && shape.options.get(\"skipDraw\")) return;\n                if (layerManager.getLayer() === undefined) return;\n                if (!shape.visibleInCanvas(state.canvas)) return;\n                if (state.name === \"fow\" && shape.visionObstruction && layerManager.getLayer()!.name !== state.name)\n                    return;\n                shape.drawAuras(ctx);\n            });\n            this.shapes.forEach(shape => {\n                if (shape.options.has(\"skipDraw\") && shape.options.get(\"skipDraw\")) return;\n                if (shape.labels.length === 0 && gameStore.filterNoLabel) return;\n                if (\n                    shape.labels.length &&\n                    gameStore.labelFilters.length &&\n                    !shape.labels.some(l => gameStore.labelFilters.includes(l.uuid))\n                )\n                    return;\n                if (layerManager.getLayer() === undefined) return;\n                if (!shape.visibleInCanvas(state.canvas)) return;\n                if (state.name === \"fow\" && shape.visionObstruction && layerManager.getLayer()!.name !== state.name)\n                    return;\n                shape.draw(ctx);\n            });\n\n            if (this.selection != null) {\n                ctx.fillStyle = this.selectionColor;\n                ctx.strokeStyle = this.selectionColor;\n                ctx.lineWidth = this.selectionWidth;\n                const z = gameStore.zoomFactor;\n                this.selection.forEach(sel => {\n                    ctx.globalCompositeOperation = sel.globalCompositeOperation;\n                    const bb = sel.getBoundingBox();\n                    // TODO: REFACTOR THIS TO Shape.drawSelection(ctx);\n                    ctx.strokeRect(g2lx(bb.topLeft.x), g2ly(bb.topLeft.y), bb.w * z, bb.h * z);\n\n                    for (const p of sel.points) {\n                        ctx.beginPath();\n                        ctx.arc(g2lx(p[0]), g2ly(p[1]), 3, 0, 2 * Math.PI);\n                        ctx.fill();\n                    }\n                    ctx.beginPath();\n                    ctx.moveTo(g2lx(sel.points[0][0]), g2ly(sel.points[0][1]));\n                    for (let i = 1; i <= sel.points.length; i++) {\n                        const vertex = sel.points[i % sel.points.length];\n                        ctx.lineTo(g2lx(vertex[0]), g2ly(vertex[1]));\n                    }\n                    ctx.stroke();\n                });\n            }\n            ctx.globalCompositeOperation = ogOP;\n            this.valid = true;\n        }\n    }\n\n    moveShapeOrder(shape: Shape, destinationIndex: number, sync: boolean): void {\n        const oldIdx = this.shapes.indexOf(shape);\n        if (oldIdx === destinationIndex) return;\n        this.shapes.splice(oldIdx, 1);\n        this.shapes.splice(destinationIndex, 0, shape);\n        if (sync) socket.emit(\"Shape.Order.Set\", { shape: shape.asDict(), index: destinationIndex });\n        this.invalidate(true);\n    }\n}\n","import { gameStore } from \"@/game/store\";\nimport { l2g } from \"@/game/units\";\nimport { getMouse } from \"@/game/utils\";\n\nexport function scrollZoom(e: WheelEvent) {\n    if (!e.target || !(<HTMLElement>e.target).tagName || (<HTMLElement>e.target).tagName !== \"CANVAS\") return;\n    let delta: number;\n    delta = Math.sign(e.deltaY) * -1;\n    gameStore.updateZoom({ newZoomDisplay: gameStore.zoomDisplay - 0.1 * delta, zoomLocation: l2g(getMouse(e)) });\n}\n","import { render, staticRenderFns } from \"./filter.vue?vue&type=template&id=dca395d6&scoped=true&\"\nimport script from \"./filter.vue?vue&type=script&lang=ts&\"\nexport * from \"./filter.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./filter.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./filter.vue?vue&type=style&index=1&id=dca395d6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dca395d6\",\n  null\n  \n)\n\nexport default component.exports","import { GlobalPoint, LocalPoint, Vector } from \"@/game/geom\";\nimport { BoundingRect } from \"@/game/shapes/boundingrect\";\nimport { Shape } from \"@/game/shapes/shape\";\nimport { gameStore } from \"@/game/store\";\nimport { calculateDelta } from \"@/game/ui/tools/utils\";\nimport { g2lx, g2ly, l2g, l2gx, l2gy } from \"@/game/units\";\n\nexport abstract class BaseRect extends Shape {\n    w: number;\n    h: number;\n    constructor(topleft: GlobalPoint, w: number, h: number, fillColour?: string, strokeColour?: string, uuid?: string) {\n        super(topleft, fillColour, strokeColour, uuid);\n        this.w = w;\n        this.h = h;\n    }\n    getBaseDict() {\n        return Object.assign(super.getBaseDict(), {\n            width: this.w,\n            height: this.h,\n        });\n    }\n    getBoundingBox() {\n        return new BoundingRect(this.refPoint, this.w, this.h);\n    }\n\n    get points() {\n        if (this.w === 0 || this.h === 0) return [[this.refPoint.x, this.refPoint.y]];\n        // note to self: topright and botleft are swapped because I'm retarded.\n        const topright = this.refPoint.add(new Vector(0, this.h));\n        const botright = this.refPoint.add(new Vector(this.w, this.h));\n        const botleft = this.refPoint.add(new Vector(this.w, 0));\n        return [\n            [this.refPoint.x, this.refPoint.y],\n            [topright.x, topright.y],\n            [botright.x, botright.y],\n            [botleft.x, botleft.y],\n        ];\n    }\n\n    contains(point: GlobalPoint): boolean {\n        return (\n            this.refPoint.x <= point.x &&\n            this.refPoint.x + this.w >= point.x &&\n            this.refPoint.y <= point.y &&\n            this.refPoint.y + this.h >= point.y\n        );\n    }\n    center(): GlobalPoint;\n    center(centerPoint: GlobalPoint): void;\n    center(centerPoint?: GlobalPoint): GlobalPoint | void {\n        if (centerPoint === undefined) return this.refPoint.add(new Vector(this.w / 2, this.h / 2));\n        this.refPoint = new GlobalPoint(centerPoint.x - this.w / 2, centerPoint.y - this.h / 2);\n    }\n\n    visibleInCanvas(canvas: HTMLCanvasElement): boolean {\n        if (super.visibleInCanvas(canvas)) return true;\n        const coreVisible = !(\n            g2lx(this.refPoint.x) > canvas.width ||\n            g2ly(this.refPoint.y) > canvas.height ||\n            g2lx(this.refPoint.x + this.w) < 0 ||\n            g2ly(this.refPoint.y + this.h) < 0\n        );\n        if (coreVisible) return true;\n        return false;\n    }\n    snapToGrid() {\n        const gs = gameStore.gridSize;\n        const center = this.center();\n        const mx = center.x;\n        const my = center.y;\n\n        let targetX;\n        let targetY;\n\n        if ((this.w / gs) % 2 === 0) {\n            targetX = Math.round(mx / gs) * gs - this.w / 2;\n        } else {\n            targetX = (Math.round((mx + gs / 2) / gs) - 1 / 2) * gs - this.w / 2;\n        }\n        if ((this.h / gs) % 2 === 0) {\n            targetY = Math.round(my / gs) * gs - this.h / 2;\n        } else {\n            targetY = (Math.round((my + gs / 2) / gs) - 1 / 2) * gs - this.h / 2;\n        }\n\n        const delta = calculateDelta(new Vector(targetX - this.refPoint.x, targetY - this.refPoint.y), this);\n        this.refPoint = this.refPoint.add(delta);\n\n        this.invalidate(false);\n    }\n    resizeToGrid() {\n        const gs = gameStore.gridSize;\n        this.refPoint = new GlobalPoint(Math.round(this.refPoint.x / gs) * gs, Math.round(this.refPoint.y / gs) * gs);\n        this.w = Math.max(Math.round(this.w / gs) * gs, gs);\n        this.h = Math.max(Math.round(this.h / gs) * gs, gs);\n        this.invalidate(false);\n    }\n    resize(resizePoint: number, point: LocalPoint) {\n        const z = gameStore.zoomFactor;\n        switch (resizePoint) {\n            case 0: {\n                this.w = g2lx(this.refPoint.x) + this.w * z - point.x;\n                this.h = g2ly(this.refPoint.y) + this.h * z - point.y;\n                this.refPoint = l2g(point);\n                break;\n            }\n            case 1: {\n                this.w = g2lx(this.refPoint.x) + this.w * z - point.x;\n                this.h = point.y - g2ly(this.refPoint.y);\n                this.refPoint = new GlobalPoint(l2gx(point.x), this.refPoint.y);\n                break;\n            }\n            case 2: {\n                this.w = point.x - g2lx(this.refPoint.x);\n                this.h = point.y - g2ly(this.refPoint.y);\n                break;\n            }\n            case 3: {\n                this.w = point.x - g2lx(this.refPoint.x);\n                this.h = g2ly(this.refPoint.y) + this.h * z - point.y;\n                this.refPoint = new GlobalPoint(this.refPoint.x, l2gy(point.y));\n                break;\n            }\n        }\n\n        this.w /= z;\n        this.h /= z;\n\n        if (this.w < 0) {\n            this.refPoint = this.refPoint.add(new Vector(this.w, 0));\n            this.w = Math.abs(this.w);\n        }\n        if (this.h < 0) {\n            this.refPoint = this.refPoint.add(new Vector(0, this.h));\n            this.h = Math.abs(this.h);\n        }\n    }\n}\n","import { render, staticRenderFns } from \"./select.vue?vue&type=template&id=048b3482&\"\nimport script from \"./select.vue?vue&type=script&lang=ts&\"\nexport * from \"./select.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=b102d41e&scoped=true&\"\nimport script from \"./main.vue?vue&type=script&lang=ts&\"\nexport * from \"./main.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=b102d41e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b102d41e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createtoken_modal.vue?vue&type=style&index=0&id=73816298&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createtoken_modal.vue?vue&type=style&index=0&id=73816298&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"AssetManager\"}},[_c('div',{attrs:{\"id\":\"titlebar\"}},[_vm._v(\"Asset Manager\")]),_c('div',{attrs:{\"id\":\"main\"}},[_c('div',{attrs:{\"id\":\"assets\"},on:{\"dragover\":function($event){$event.preventDefault();return _vm.moveDrag($event)},\"drop\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.stopDrag($event, _vm.currentFolder)}}},[_c('div',{attrs:{\"id\":\"breadcrumbs\"}},[_c('div',[_vm._v(\"/\")]),_vm._l((_vm.path),function(dir){return _c('div',{key:dir},[_vm._v(_vm._s(_vm.idMap.get(dir).name))])})],2),_c('div',{attrs:{\"id\":\"actionbar\"}},[_c('input',{attrs:{\"id\":\"files\",\"type\":\"file\",\"multiple\":\"\",\"hidden\":\"\"},on:{\"change\":function($event){return _vm.upload()}}}),_c('div',{attrs:{\"title\":\"Create folder\"},on:{\"click\":_vm.createDirectory}},[_c('i',{staticClass:\"fas fa-plus-square\"})]),_c('div',{attrs:{\"title\":\"Upload files\"},on:{\"click\":_vm.prepareUpload}},[_c('i',{staticClass:\"fas fa-upload\"})])]),_c('div',{attrs:{\"id\":\"explorer\"}},[(_vm.path.length)?_c('div',{staticClass:\"inode folder\",on:{\"dblclick\":function($event){return _vm.changeDirectory(-1)},\"dragover\":function($event){$event.preventDefault();return _vm.moveDrag($event)},\"dragleave\":function($event){$event.preventDefault();return _vm.leaveDrag($event)},\"drop\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.stopDrag($event, _vm.parentFolder)}}},[_c('i',{staticClass:\"fas fa-folder\",staticStyle:{\"font-size\":\"50px\"}}),_c('div',{staticClass:\"title\"},[_vm._v(\"..\")])]):_vm._e(),_vm._l((_vm.folders),function(key){return _c('div',{key:key,staticClass:\"inode folder\",class:{'inode-selected': _vm.selected.includes(key)},attrs:{\"draggable\":\"true\"},on:{\"click\":function($event){return _vm.select($event, key)},\"dblclick\":function($event){return _vm.changeDirectory(key)},\"contextmenu\":function($event){$event.preventDefault();return _vm.$refs.cm.open($event, key)},\"dragstart\":function($event){return _vm.startDrag($event, key)},\"dragover\":function($event){$event.preventDefault();return _vm.moveDrag($event)},\"dragleave\":function($event){$event.preventDefault();return _vm.leaveDrag($event)},\"drop\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.stopDrag($event, key)}}},[_c('i',{staticClass:\"fas fa-folder\",staticStyle:{\"font-size\":\"50px\"}}),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.idMap.get(key).name))])])}),_vm._l((_vm.files),function(file){return _c('div',{key:file,staticClass:\"inode file\",class:{'inode-selected': _vm.selected.includes(file)},attrs:{\"draggable\":\"true\"},on:{\"click\":function($event){return _vm.select($event, file)},\"contextmenu\":function($event){$event.preventDefault();return _vm.$refs.cm.open($event, file)},\"dragstart\":function($event){return _vm.startDrag($event, file)}}},[_c('img',{attrs:{\"src\":'/static/assets/' + _vm.idMap.get(file).file_hash,\"width\":\"50\"}}),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.idMap.get(file).name))])])})],2)]),(_vm.firstSelectedFile)?_c('div',{attrs:{\"id\":\"asset-details\"}},[_c('div',{attrs:{\"id\":\"asset-detail-title\"}},[_vm._v(_vm._s(_vm.firstSelectedFile.name))]),_c('img',{attrs:{\"src\":'/static/assets/' + _vm.firstSelectedFile.file_hash}})]):_vm._e()]),_c('AssetContextMenu',{ref:\"cm\"}),_c('Prompt',{ref:\"prompt\"}),_c('ConfirmDialog',{ref:\"confirm\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manager.vue?vue&type=template&id=5b0def98&\"","\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport ContextMenu from \"@/core/components/contextmenu.vue\";\n\nimport { socket } from \"@/game/api/socket\";\nimport { EventBus } from \"@/game/event-bus\";\nimport { gameStore } from \"@/game/store\";\nimport { l2gx, l2gy } from \"@/game/units\";\n\n@Component({\n    components: {\n        ContextMenu,\n    },\n})\nexport default class SelectContext extends Vue {\n    visible = false;\n    x = 0;\n    y = 0;\n\n    get IS_DM(): boolean {\n        return gameStore.IS_DM;\n    }\n\n    open(event: MouseEvent) {\n        this.visible = true;\n        this.x = event.pageX;\n        this.y = event.pageY;\n        this.$nextTick(() => (<HTMLElement>this.$children[0].$el).focus());\n    }\n    close() {\n        this.visible = false;\n    }\n    bringPlayers() {\n        if (!gameStore.IS_DM) return;\n        socket.emit(\"Players.Bring\", { x: l2gx(this.x), y: l2gy(this.y) });\n        this.close();\n    }\n    createToken() {\n        (<any>this.$parent.$parent.$refs.createtokendialog).open(this.x, this.y);\n        this.close();\n    }\n    showInitiative() {\n        EventBus.$emit(\"Initiative.Show\");\n        this.close();\n    }\n}\n","import Axios from \"axios\";\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Route } from \"vue-router\";\n\nimport { coreStore } from \"@/core/store\";\n\nComponent.registerHooks([\"beforeRouteEnter\"]);\n\n@Component({})\nexport default class Logout extends Vue {\n    beforeRouteEnter(to: Route, from: Route, next: ({}) => {}) {\n        Axios.post(\"/api/logout\").then(() => {\n            coreStore.setAuthenticated(false);\n            coreStore.setUsername(\"\");\n            next({ path: \"/auth/login\" });\n        });\n    }\n}\n","import { getModule, Module, Mutation, VuexModule } from \"vuex-module-decorators\";\n\nimport { rootStore } from \"@/store\";\n\nexport interface CoreState {\n    authenticated: boolean;\n    initialized: boolean;\n    username: string;\n}\n\n@Module({ dynamic: true, store: rootStore, name: \"core\" })\nclass CoreStore extends VuexModule implements CoreState {\n    authenticated = false;\n    initialized = false;\n    username = \"\";\n\n    @Mutation\n    setAuthenticated(auth: boolean) {\n        this.authenticated = auth;\n    }\n\n    @Mutation\n    setInitialized(init: boolean) {\n        this.initialized = init;\n    }\n\n    @Mutation\n    setUsername(username: string) {\n        this.username = username;\n    }\n}\n\nexport const coreStore = getModule(CoreStore);\n","import Vue from \"vue\";\n\nimport App from \"@/App.vue\";\nimport { router } from \"@/router\";\nimport { rootStore } from \"@/store\";\n\nVue.config.productionTip = false;\nVue.config.devtools = true;\nVue.config.performance = true;\n\nexport const app = new Vue({\n    router,\n    store: rootStore,\n    render: h => h(App),\n}).$mount(\"#app\");\n\n(<any>window).app = app;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\n@Component({\n    props: [\"visible\", \"left\", \"top\"],\n})\nexport default class ContextMenu extends Vue {}\n","import Axios, { AxiosError, AxiosResponse } from \"axios\";\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Route } from \"vue-router\";\n\n@Component({ template: \"\" })\nexport default class Initiative extends Vue {\n    beforeRouteEnter(to: Route, from: Route, next: ({}) => {}) {\n        Axios.post(\"/api/invite\", {\n            code: to.params.code,\n        })\n            .then((response: AxiosResponse) => {\n                next({ path: response.data.sessionUrl });\n            })\n            .catch((error: AxiosError) => {\n                console.error(\"Invitation code could not be redeemed\");\n                next({ path: \"/dashboard\" });\n            });\n    }\n}\n","import { render, staticRenderFns } from \"./prompt.vue?vue&type=template&id=0602c2e6&scoped=true&\"\nimport script from \"./prompt.vue?vue&type=script&lang=ts&\"\nexport * from \"./prompt.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./prompt.vue?vue&type=style&index=0&id=0602c2e6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0602c2e6\",\n  null\n  \n)\n\nexport default component.exports","import { GlobalPoint } from \"@/game/geom\";\nimport { gameStore } from \"@/game/store\";\n\nimport { Edge } from \"./cdt\";\nimport { drawPolygon } from \"./draw\";\nimport { PA_CDT } from \"./pa\";\nimport { Point, Sign, Triangle } from \"./tds\";\nimport { ccw, cw, orientation } from \"./triag\";\n\nexport function computeVisibility(q: GlobalPoint, target: \"vision\" | \"movement\", drawt?: boolean): number[][] {\n    if (drawt === undefined) drawt = gameStore.drawTEContour;\n    // console.time(\"CV\");\n    const Q: Point = [q.x, q.y];\n    const rawOutput: number[][] = [];\n    const triangle = PA_CDT[target].locate(Q, null).loc;\n    if (triangle === null) {\n        console.error(\"Triangle not found\");\n        return [];\n    }\n    // triangle.fill();\n    rawOutput.push(triangle.vertices[1]!.point!);\n    if (!triangle.isConstrained(0))\n        expandEdge(Q, triangle.vertices[2]!.point!, triangle.vertices[1]!.point!, triangle, 0, rawOutput);\n    rawOutput.push(triangle.vertices[2]!.point!);\n    if (!triangle.isConstrained(1))\n        expandEdge(Q, triangle.vertices[0]!.point!, triangle.vertices[2]!.point!, triangle, 1, rawOutput);\n    rawOutput.push(triangle.vertices[0]!.point!);\n    if (!triangle.isConstrained(2))\n        expandEdge(Q, triangle.vertices[1]!.point!, triangle.vertices[0]!.point!, triangle, 2, rawOutput);\n    // console.timeEnd(\"CV\");\n\n    if (drawt) drawPolygon(rawOutput, \"red\");\n\n    return rawOutput;\n}\n\nfunction expandEdge(\n    q: Point,\n    left: number[],\n    right: number[],\n    fh: Triangle,\n    index: number,\n    rawOutput: number[][],\n): void {\n    // fh.edge(index).draw();\n    const nfh = fh.neighbours[index]!;\n    // nfh.fill(\"rgba(255, 0, 0, 0.25)\");\n    const nIndex = nfh.indexT(fh);\n    const rIndex = ccw(nIndex);\n    const lIndex = cw(nIndex);\n    const nvh = nfh.vertices[nIndex]!;\n    const rvh = nfh.vertices[lIndex]!;\n    const lvh = nfh.vertices[rIndex]!;\n\n    const re: Edge = [nfh, rIndex];\n    const le: Edge = [nfh, lIndex];\n\n    const ro = orientation(q, right, nvh.point!);\n    const lo = orientation(q, left, nvh.point!);\n\n    // const ctx = layerManager.getLayer(\"draw\")!.ctx;\n    // ctx.beginPath();\n    // ctx.strokeStyle = \"red\";\n    // ctx.lineJoin = \"round\";\n    // ctx.moveTo(g2lx(q.x), g2ly(q.y));\n    // ctx.lineTo(g2lx(left[0]), g2ly(left[1]));\n    // ctx.moveTo(g2lx(q.x), g2ly(q.y));\n    // ctx.lineTo(g2lx(nvh[0]), g2ly(nvh[1]));\n    // ctx.strokeStyle = \"blue\";\n    // ctx.moveTo(g2lx(q.x), g2ly(q.y));\n    // ctx.lineTo(g2lx(right[0]), g2ly(right[1]));\n    // ctx.moveTo(g2lx(q.x), g2ly(q.y));\n    // ctx.lineTo(g2lx(nvh[0]), g2ly(nvh[1]));\n    // ctx.closePath();\n    // ctx.stroke();\n\n    // Right edge is seen if the new vertex is ccw of the right ray\n    if (ro === Sign.COUNTERCLOCKWISE) {\n        if (re[0].isConstrained(re[1])) {\n            // See if current right ray is rvh\n            if (right !== rvh.point!) rawOutput.push(raySegIntersection(q, right, nvh.point!, rvh.point!));\n            if (lo === Sign.COUNTERCLOCKWISE) rawOutput.push(raySegIntersection(q, left, nvh.point!, rvh.point!));\n        } else {\n            if (lo === Sign.COUNTERCLOCKWISE) return expandEdge(q, left, right, nfh, rIndex, rawOutput);\n            else expandEdge(q, nvh.point!, right, nfh, rIndex, rawOutput);\n        }\n    }\n\n    if (ro !== Sign.CLOCKWISE && lo !== Sign.COUNTERCLOCKWISE) {\n        rawOutput.push(nvh.point!);\n    }\n\n    if (lo === Sign.CLOCKWISE) {\n        if (le[0].isConstrained(le[1])) {\n            if (ro === Sign.CLOCKWISE) {\n                rawOutput.push(raySegIntersection(q, right, nvh.point!, lvh.point!));\n            }\n            if (left !== lvh.point!) {\n                rawOutput.push(raySegIntersection(q, left, nvh.point!, lvh.point!));\n            }\n            return;\n        } else {\n            if (ro === Sign.CLOCKWISE) {\n                return expandEdge(q, left, right, nfh, lIndex, rawOutput);\n            } else {\n                return expandEdge(q, left, nvh.point!, nfh, lIndex, rawOutput);\n            }\n        }\n    }\n}\n\nfunction raySegIntersection(q: Point, b: Point, s: Point, t: Point) {\n    const denominator = (t[1] - s[1]) * (b[0] - q[0]) - (t[0] - s[0]) * (b[1] - q[1]);\n    const ua = ((t[0] - s[0]) * (q[1] - s[1]) - (t[1] - s[1]) * (q[0] - s[0])) / denominator;\n    // const ub = ((b[0] - q.x) * (q.y - s[1]) - (b[1] - q.y) * (q.x - s[0])) / denominator;\n    const x = q[0] + ua * (b[0] - q[0]);\n    const y = q[1] + ua * (b[1] - q[1]);\n\n    return [x, y];\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.selected)?_c('div',{staticClass:\"tool-detail\",style:({'--detailRight': _vm.detailRight, '--detailArrow': _vm.detailArrow})},[_c('div',[_vm._v(\"#X\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.xCount),expression:\"xCount\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.xCount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.xCount=$event.target.value}}}),_c('div',[_vm._v(\"#Y\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.yCount),expression:\"yCount\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.yCount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.yCount=$event.target.value}}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=template&id=2104f147&\"","import { render, staticRenderFns } from \"./edit_dialog.vue?vue&type=template&id=23de098e&scoped=true&\"\nimport script from \"./edit_dialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./edit_dialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./edit_dialog.vue?vue&type=style&index=0&id=23de098e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23de098e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"modal\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"mask\",class:{'modal-mask': _vm.mask, 'dialog-mask': !_vm.mask},on:{\"click\":_vm.close,\"dragover\":function($event){$event.preventDefault();return _vm.dragOver($event)}}},[_c('div',{ref:\"container\",staticClass:\"modal-container\",style:({'background-color': _vm.colour}),on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._t(\"header\",null,{\"dragStart\":_vm.dragStart,\"dragEnd\":_vm.dragEnd}),_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=template&id=c2851f0e&scoped=true&\"","export class Settings {\n    static angleSteps = 4;\n    static drawAngleLines = false;\n    static drawFirstLightHit = false;\n    static skipPlayerFOW = false;\n    static skipLightFOW = false;\n\n    static tempFill: string = \"fog\";\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport axios, { AxiosError, AxiosResponse } from \"axios\";\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport { coreStore } from \"@/core/store\";\n\n@Component\nexport default class Login extends Vue {\n    username = \"\";\n    password = \"\";\n    error = \"\";\n\n    login() {\n        axios\n            .post(\"/api/login\", {\n                username: this.username,\n                password: this.password,\n            })\n            .then((response: AxiosResponse) => {\n                coreStore.setUsername(this.username);\n                coreStore.setAuthenticated(true);\n                this.$router.push(<string>this.$route.query.redirect || \"/\");\n            })\n            .catch((error: AxiosError) => {\n                if (error.response) this.error = error.response.statusText;\n                else this.error = \"Unknown error occured\";\n            });\n    }\n\n    register() {\n        axios\n            .post(\"/api/register\", {\n                username: this.username,\n                password: this.password,\n            })\n            .then((response: AxiosResponse) => {\n                coreStore.setUsername(this.username);\n                coreStore.setAuthenticated(true);\n                this.$router.push(<string>this.$route.query.redirect || \"/\");\n            })\n            .catch((error: AxiosError) => {\n                if (error.response) this.error = error.response.statusText;\n                else this.error = \"Unknown error occured\";\n            });\n    }\n\n    focusin(event: { target?: { nextElementSibling?: HTMLElement } }) {\n        if (event.target && event.target.nextElementSibling) {\n            const span = event.target.nextElementSibling;\n            span.style.opacity = \"0\";\n        }\n    }\n\n    focusout(event: { target?: { nextElementSibling?: HTMLElement } }) {\n        if (event.target && event.target.nextElementSibling) {\n            const span = event.target.nextElementSibling;\n            span.style.opacity = \"1\";\n        }\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"visible\":_vm.visible},on:{\"close\":function($event){_vm.visible = false}},scopedSlots:_vm._u([{key:\"header\",fn:function(m){return _c('div',{staticClass:\"modal-header\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":m.dragStart,\"dragend\":m.dragEnd}},[_vm._v(\"Create basic token\")])}}])},[_c('div',{staticClass:\"modal-body\"},[_c('label',{attrs:{\"for\":\"createtokendialog-text\"}},[_vm._v(\"Text\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],attrs:{\"type\":\"text\",\"id\":\"createtokendialog-name\"},domProps:{\"value\":(_vm.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value}}}),_c('label',[_vm._v(\"Colours\")]),_c('div',{staticClass:\"colours\"},[_c('span',[_vm._v(\"Fill:\")]),_c('color-picker',{attrs:{\"color\":_vm.fillColour},on:{\"update:color\":function($event){_vm.fillColour=$event}}}),_c('span',[_vm._v(\"Border:\")]),_c('color-picker',{attrs:{\"color\":_vm.borderColour},on:{\"update:color\":function($event){_vm.borderColour=$event}}})],1),_c('canvas',{ref:\"canvas\",attrs:{\"width\":\"100px\",\"height\":\"100px\"}})]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{on:{\"click\":_vm.submit}},[_vm._v(\"Submit\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createtoken_modal.vue?vue&type=template&id=73816298&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\"div\")}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool.vue?vue&type=template&id=1e034b42&\"","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=script&lang=ts&\"","import Component from \"vue-class-component\";\n\nimport Tool from \"@/game/ui/tools/tool.vue\";\n\nimport { socket } from \"@/game/api/socket\";\nimport { GlobalPoint } from \"@/game/geom\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { Line } from \"@/game/shapes/line\";\nimport { Text } from \"@/game/shapes/text\";\nimport { gameStore } from \"@/game/store\";\nimport { l2g } from \"@/game/units\";\nimport { getMouse } from \"@/game/utils\";\n\n@Component\nexport class RulerTool extends Tool {\n    name = \"Ruler\";\n    active = false;\n    startPoint: GlobalPoint | null = null;\n    ruler: Line | null = null;\n    text: Text | null = null;\n    onMouseDown(event: MouseEvent) {\n        const layer = layerManager.getLayer(\"draw\");\n        if (layer === undefined) {\n            console.log(\"No draw layer!\");\n            return;\n        }\n        this.active = true;\n        this.startPoint = l2g(getMouse(event));\n        this.ruler = new Line(this.startPoint, this.startPoint, 3, gameStore.rulerColour);\n        this.text = new Text(this.startPoint.clone(), \"\", \"bold 20px serif\");\n        this.ruler.addOwner(gameStore.username);\n        this.text.addOwner(gameStore.username);\n        layer.addShape(this.ruler, true, true);\n        layer.addShape(this.text, true, true);\n    }\n    onMouseMove(event: MouseEvent) {\n        if (!this.active || this.ruler === null || this.startPoint === null || this.text === null) return;\n\n        const layer = layerManager.getLayer(\"draw\");\n        if (layer === undefined) {\n            console.log(\"No draw layer!\");\n            return;\n        }\n        const endPoint = l2g(getMouse(event));\n\n        this.ruler.endPoint = endPoint;\n        socket.emit(\"Shape.Update\", { shape: this.ruler!.asDict(), redraw: true, temporary: true });\n\n        const diffsign = Math.sign(endPoint.x - this.startPoint.x) * Math.sign(endPoint.y - this.startPoint.y);\n        const xdiff = Math.abs(endPoint.x - this.startPoint.x);\n        const ydiff = Math.abs(endPoint.y - this.startPoint.y);\n        const label =\n            Math.round((Math.sqrt(xdiff ** 2 + ydiff ** 2) * gameStore.unitSize) / gameStore.gridSize) + \" ft\";\n        const angle = Math.atan2(diffsign * ydiff, xdiff);\n        const xmid = Math.min(this.startPoint.x, endPoint.x) + xdiff / 2;\n        const ymid = Math.min(this.startPoint.y, endPoint.y) + ydiff / 2;\n        this.text.refPoint = new GlobalPoint(xmid, ymid);\n        this.text.text = label;\n        this.text.angle = angle;\n        socket.emit(\"Shape.Update\", { shape: this.text.asDict(), redraw: true, temporary: true });\n        layer.invalidate(true);\n    }\n    onMouseUp(event: MouseEvent) {\n        if (!this.active || this.ruler === null || this.startPoint === null || this.text === null) return;\n\n        const layer = layerManager.getLayer(\"draw\");\n        if (layer === undefined) {\n            console.log(\"No active layer!\");\n            return;\n        }\n        this.active = false;\n\n        layer.removeShape(this.ruler, true, true);\n        layer.removeShape(this.text, true, true);\n        layer.invalidate(true);\n        this.ruler = this.startPoint = this.text = null;\n    }\n}\n","import { render, staticRenderFns } from \"./modal.vue?vue&type=template&id=c2851f0e&scoped=true&\"\nimport script from \"./modal.vue?vue&type=script&lang=ts&\"\nexport * from \"./modal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./modal.vue?vue&type=style&index=0&id=c2851f0e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c2851f0e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./accordion.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./accordion.vue?vue&type=script&lang=ts&\"","import { layerManager } from \"@/game/layers/manager\";\nimport { gameStore } from \"@/game/store\";\n\nimport { CDT } from \"./cdt\";\n\nexport let PA_CDT = {\n    vision: new CDT(),\n    movement: new CDT(),\n};\n\nexport function triangulate(target: \"vision\" | \"movement\", partial: boolean = false) {\n    const cdt = new CDT();\n\n    let shapes;\n    if (target === \"vision\") shapes = gameStore.visionBlockers;\n    else shapes = gameStore.movementblockers;\n\n    for (const sh of shapes) {\n        const shape = layerManager.UUIDMap.get(sh)!;\n        if (partial && !shape.visibleInCanvas(layerManager.getLayer()!.canvas)) continue;\n        for (let i = 0; i < shape.points.length; i++) {\n            cdt.insertConstraint(shape.points[i], shape.points[(i + 1) % shape.points.length]);\n        }\n    }\n    // LEFT WALL\n    cdt.insertConstraint([-1e8, -1e8], [-1e8, 1e8]);\n    cdt.insertConstraint([-1e8, 1e8], [-1e11, 1e8]);\n    cdt.insertConstraint([-1e11, 1e8], [-1e11, -1e8]);\n    cdt.insertConstraint([-1e11, -1e8], [-1e8, -1e8]);\n    // TOP WALL\n    cdt.insertConstraint([-1e8, -1e8], [1e8, -1e8]);\n    cdt.insertConstraint([1e8, -1e8], [1e8, -1e11]);\n    cdt.insertConstraint([1e8, -1e11], [-1e8, -1e11]);\n    cdt.insertConstraint([-1e8, -1e11], [-1e8, -1e8]);\n    // RIGHT WALL\n    cdt.insertConstraint([1e8, -1e8], [1e8, 1e8]);\n    cdt.insertConstraint([1e8, 1e8], [1e11, 1e8]);\n    cdt.insertConstraint([1e11, 1e8], [1e11, -1e8]);\n    cdt.insertConstraint([1e11, -1e8], [1e8, -1e8]);\n    // BOT WALL\n    cdt.insertConstraint([-1e8, 1e8], [1e8, 1e8]);\n    cdt.insertConstraint([1e8, 1e8], [1e8, 1e11]);\n    cdt.insertConstraint([1e8, 1e11], [-1e8, 1e11]);\n    cdt.insertConstraint([-1e8, 1e11], [-1e8, 1e8]);\n    PA_CDT[target] = cdt;\n    (<any>window).CDT = PA_CDT;\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tools.vue?vue&type=style&index=0&id=b6e1f51c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tools.vue?vue&type=style&index=0&id=b6e1f51c&scoped=true&lang=css&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport { Prop } from \"vue-property-decorator\";\n\nimport ColorPicker from \"@/core/components/colorpicker.vue\";\nimport Modal from \"@/core/components/modals/modal.vue\";\n\nimport { uuidv4 } from \"@/core/utils\";\nimport { socket } from \"@/game/api/socket\";\nimport { EventBus } from \"@/game/event-bus\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { Shape } from \"@/game/shapes/shape\";\nimport { gameStore } from \"@/game/store\";\n\n@Component({\n    components: {\n        Modal,\n        \"color-picker\": ColorPicker,\n    },\n})\nexport default class EditDialog extends Vue {\n    @Prop() shape!: Shape;\n\n    visible = false;\n\n    get owned(): boolean {\n        return this.shape.ownedBy();\n    }\n\n    mounted() {\n        EventBus.$on(\"EditDialog.Open\", (shape: Shape) => {\n            this.shape = shape;\n            this.visible = true;\n        });\n        EventBus.$on(\"EditDialog.AddLabel\", (label: string) => {\n            if (this.visible) {\n                this.shape.labels.push(gameStore.labels[label]);\n                this.updateShape(true);\n            }\n        });\n    }\n\n    beforeDestroy() {\n        EventBus.$off(\"EditDialog.Open\");\n        EventBus.$off(\"EditDialog.AddLabel\");\n    }\n\n    updated() {\n        this.addEmpty();\n    }\n\n    addEmpty() {\n        if (this.shape.owners[this.shape.owners.length - 1] !== \"\") this.shape.addOwner(\"\");\n        if (\n            !this.shape.trackers.length ||\n            this.shape.trackers[this.shape.trackers.length - 1].name !== \"\" ||\n            this.shape.trackers[this.shape.trackers.length - 1].value !== 0\n        )\n            this.shape.trackers.push({ uuid: uuidv4(), name: \"\", value: 0, maxvalue: 0, visible: false });\n        if (\n            !this.shape.auras.length ||\n            this.shape.auras[this.shape.auras.length - 1].name !== \"\" ||\n            this.shape.auras[this.shape.auras.length - 1].value !== 0\n        )\n            this.shape.auras.push({\n                uuid: uuidv4(),\n                name: \"\",\n                value: 0,\n                dim: 0,\n                visionSource: false,\n                colour: \"rgba(0,0,0,0)\",\n                visible: false,\n            });\n    }\n    updateShape(redraw: boolean, temporary = false) {\n        if (!this.owned) return;\n        socket.emit(\"Shape.Update\", { shape: this.shape.asDict(), redraw, temporary });\n        if (redraw) layerManager.invalidate();\n        this.addEmpty();\n    }\n    setToken(event: { target: HTMLInputElement }) {\n        if (!this.owned) return;\n        this.shape.setIsToken(event.target.checked);\n        this.updateShape(true);\n    }\n    setVisionBlocker(event: { target: HTMLInputElement }) {\n        if (!this.owned) return;\n        this.shape.checkVisionSources();\n        this.updateShape(true);\n    }\n    setMovementBlocker(event: { target: HTMLInputElement }) {\n        if (!this.owned) return;\n        this.shape.setMovementBlock(event.target.checked);\n        this.updateShape(false);\n    }\n    updateAnnotation(event: { target: HTMLInputElement }) {\n        if (!this.owned) return;\n        const hadAnnotation = this.shape.annotation !== \"\";\n        this.shape.annotation = event.target.value;\n        if (this.shape.annotation !== \"\" && !hadAnnotation) {\n            gameStore.annotations.push(this.shape.uuid);\n            if (layerManager.hasLayer(\"draw\")) layerManager.getLayer(\"draw\")!.invalidate(true);\n        } else if (this.shape.annotation === \"\" && hadAnnotation) {\n            gameStore.annotations.splice(gameStore.annotations.findIndex(an => an === this.shape.uuid));\n            if (layerManager.hasLayer(\"draw\")) layerManager.getLayer(\"draw\")!.invalidate(true);\n        }\n        this.updateShape(false);\n    }\n    updateOwner(event: { target: HTMLInputElement }, oldValue: string) {\n        if (!this.owned) return;\n        this.shape.updateOwner(oldValue, event.target.value);\n        this.updateShape(gameStore.fowLOS);\n    }\n    removeOwner(value: string) {\n        if (!this.owned) return;\n        this.shape.removeOwner(value);\n        this.updateShape(gameStore.fowLOS);\n    }\n    removeTracker(uuid: string) {\n        if (!this.owned) return;\n        this.shape.trackers = this.shape.trackers.filter(tr => tr.uuid !== uuid);\n        this.updateShape(false);\n    }\n    removeAura(uuid: string) {\n        if (!this.owned) return;\n        this.shape.auras = this.shape.auras.filter(au => au.uuid !== uuid);\n        this.shape.checkVisionSources();\n        this.updateShape(true);\n    }\n    updateAuraVisionSource(aura: Aura) {\n        if (!this.owned) return;\n        aura.visionSource = !aura.visionSource;\n        const i = gameStore.visionSources.findIndex(ls => ls.aura === aura.uuid);\n        if (aura.visionSource && i === -1) gameStore.visionSources.push({ shape: this.shape.uuid, aura: aura.uuid });\n        else if (!aura.visionSource && i >= 0) gameStore.visionSources.splice(i, 1);\n        this.updateShape(true);\n    }\n    updateAuraColour(aura: Aura, colour: string) {\n        if (!this.owned) return;\n        const layer = layerManager.getLayer(this.shape.layer);\n        if (layer === undefined) return;\n        layer.invalidate(!aura.visionSource);\n    }\n    openLabelManager() {\n        EventBus.$emit(\"LabelManager.Open\");\n    }\n    removeLabel(uuid: string) {\n        if(!this.owned) return;\n        this.shape.labels = this.shape.labels.filter(l => l.uuid !== uuid);\n        this.updateShape(true);\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.getActiveLayer() !== undefined)?_c('ContextMenu',{attrs:{\"visible\":_vm.visible,\"left\":_vm.x + 'px',\"top\":_vm.y + 'px'},on:{\"close\":_vm.close}},[(_vm.getLayers().length > 1)?_c('li',[_vm._v(\"Layer\\n        \"),_c('ul',_vm._l((_vm.getLayers()),function(layer){return _c('li',{key:layer.name,style:([_vm.getActiveLayer().name === layer.name ? {'background-color':'#82c8a0'}: {}]),on:{\"click\":function($event){return _vm.setLayer(layer.name)}}},[_vm._v(_vm._s(layer.name))])}),0)]):_vm._e(),_c('li',{on:{\"click\":_vm.moveToBack}},[_vm._v(\"Move to back\")]),_c('li',{on:{\"click\":_vm.moveToFront}},[_vm._v(\"Move to front\")]),_c('li',{on:{\"click\":_vm.addInitiative}},[_vm._v(_vm._s(_vm.getInitiativeWord())+\" initiative\")]),_c('li',{on:{\"click\":_vm.openEditDialog}},[_vm._v(\"Show properties\")])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shapecontext.vue?vue&type=template&id=6c66d243&scoped=true&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport Modal from \"@/core/components/modals/modal.vue\";\n\n@Component({\n    components: {\n        Modal,\n    },\n})\nexport default class ConfirmDialog extends Vue {\n    $refs!: {\n        confirm: HTMLButtonElement;\n    };\n\n    visible = false;\n    yes = \"Yes\";\n    no = \"No\";\n    title = \"\";\n\n    resolve = (ok: boolean) => {};\n    reject = () => {};\n\n    confirm() {\n        this.resolve(true);\n        this.close();\n    }\n    deny() {\n        this.resolve(false);\n        this.close();\n    }\n    close() {\n        this.reject();\n        this.visible = false;\n        this.title = \"\";\n    }\n    open(title: string, yes = \"yes\", no = \"no\"): Promise<boolean> {\n        this.yes = yes;\n        this.no = no;\n        this.title = title;\n\n        this.visible = true;\n        this.$nextTick(() => {\n            this.$refs.confirm.focus();\n        });\n\n        return new Promise((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n        });\n    }\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dmsettings.vue?vue&type=style&index=0&id=b908e87c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dmsettings.vue?vue&type=style&index=0&id=b908e87c&scoped=true&lang=css&\"","import { render, staticRenderFns } from \"./map.vue?vue&type=template&id=2104f147&\"\nimport script from \"./map.vue?vue&type=script&lang=ts&\"\nexport * from \"./map.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"accordion\"},[_c('div',{attrs:{\"id\":\"header\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleDisplay($event)}}},[_c('input',{ref:\"overall\",attrs:{\"type\":\"checkbox\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleCategory($event)}}}),_c('strong',[_vm._v(_vm._s(_vm.title))]),(_vm.showArrow)?[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showArrow && !_vm.active),expression:\"showArrow && !active\"}],staticClass:\"down-Arrow\"},[_vm._v(\"▼\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showArrow && _vm.active),expression:\"showArrow && active\"}],staticClass:\"up-Arrow\"},[_vm._v(\"▲\")])]:_vm._e()],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active),expression:\"active\"}],attrs:{\"id\":\"body\"}},_vm._l((_vm.items),function(item){return _c('div',{key:item[0],staticClass:\"item\",on:{\"click\":function($event){return _vm.toggleSelection(item[0])}}},[_c('input',{attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.selected.includes(item[0])},on:{\"click\":function($event){$event.preventDefault();}}}),_vm._v(\" \"+_vm._s(item[1])+\"\\n      \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./accordion.vue?vue&type=template&id=0bf2b7ba&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"visible\":_vm.visible},on:{\"close\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(m){return _c('div',{staticClass:\"modal-header\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":m.dragStart,\"dragend\":m.dragEnd}},[_vm._v(_vm._s(_vm.title))])}}])},[_c('div',{staticClass:\"modal-body\"},[_c('button',{ref:\"confirm\",on:{\"click\":_vm.confirm}},[_vm._v(_vm._s(_vm.yes))]),(!!_vm.no)?_c('button',{on:{\"click\":_vm.deny}},[_vm._v(_vm._s(_vm.no))]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=template&id=1883e207&scoped=true&\"","import { render, staticRenderFns } from \"./dmsettings.vue?vue&type=template&id=b908e87c&scoped=true&\"\nimport script from \"./dmsettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./dmsettings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./dmsettings.vue?vue&type=style&index=0&id=b908e87c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b908e87c\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nimport Component from \"vue-class-component\";\n\nimport ContextMenu from \"@/core/components/contextmenu.vue\";\nimport ConfirmDialog from \"@/core/components/modals/confirm.vue\";\nimport Prompt from \"@/core/components/modals/prompt.vue\";\n\nimport { socket } from \"@/assetManager/socket\";\nimport { assetStore } from \"@/assetManager/store\";\nimport { getComponent, getRef } from \"@/core/utils\";\n\n@Component({\n    components: {\n        ContextMenu,\n    },\n})\nexport default class AssetContextMenu extends Vue {\n    visible = false;\n    left = 0;\n    top = 0;\n    open(event: MouseEvent, inode: number) {\n        if (!assetStore.selected.includes(inode)) getComponent<any>().select(event, inode);\n\n        this.visible = true;\n        this.left = event.pageX;\n        this.top = event.pageY;\n        this.$nextTick(() => {\n            (<HTMLElement>this.$children[0].$el).focus();\n        });\n    }\n    close() {\n        this.visible = false;\n    }\n    rename() {\n        if (assetStore.selected.length !== 1) return;\n        const asset = assetStore.idMap.get(assetStore.selected[0])!;\n\n        getRef<Prompt>(\"prompt\")\n            .prompt(\"New name:\", `Renaming ${asset.name}`)\n            .then(\n                (name: string) => {\n                    socket.emit(\"Asset.Rename\", {\n                        asset: asset.id,\n                        name,\n                    });\n                    asset.name = name;\n                    getComponent().$forceUpdate();\n                },\n                () => {},\n            );\n        this.close();\n    }\n    remove() {\n        if (assetStore.selected.length === 0) return;\n        getRef<ConfirmDialog>(\"confirm\")\n            .open(\"Are you sure you wish to remove this?\")\n            .then(\n                (result: boolean) => {\n                    if (result) {\n                        for (const sel of assetStore.selected) {\n                            socket.emit(\"Asset.Remove\", sel);\n                            if (assetStore.files.includes(sel))\n                                assetStore.files.splice(assetStore.files.indexOf(sel), 1);\n                            else assetStore.folders.splice(assetStore.folders.indexOf(sel), 1);\n                        }\n                        assetStore.clearSelected();\n                    }\n                },\n                () => {},\n            );\n        this.close();\n    }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./select.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./select.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./filter.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./filter.vue?vue&type=style&index=0&lang=css&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport Modal from \"@/core/components/modals/modal.vue\";\n\nimport { uuidv4 } from \"@/core/utils\";\nimport { socket } from \"@/game/api/socket\";\nimport { EventBus } from \"@/game/event-bus\";\nimport { gameStore } from \"@/game/store\";\n\n@Component({\n    components: {\n        Modal,\n    },\n})\nexport default class LabelManager extends Vue {\n    visible = false;\n    newCategory = \"\";\n    newName = \"\";\n    search = \"\";\n\n    mounted() {\n        EventBus.$on(\"LabelManager.Open\", () => {\n            this.visible = true;\n            this.newCategory = \"\";\n            this.newName = \"\";\n            this.$nextTick(() => (<HTMLInputElement>this.$refs.search).focus());\n        });\n    }\n\n    beforeDestroy() {\n        EventBus.$off(\"LabelManager.Open\");\n    }\n\n    get labels() {\n        const cat: {[category: string]: Label[]} = {'': []};\n        for (const uuid of Object.keys(gameStore.labels)) {\n            const label = gameStore.labels[uuid];\n            if (this.search.length && `${label.category.toLowerCase()}${label.name.toLowerCase()}`.search(this.search.toLowerCase()) < 0) continue;\n            if (label.user !== gameStore.username) continue;\n            if (!label.category) cat[''].push(label);\n            else {\n                if (!(label.category in cat)) cat[label.category] = [];\n                cat[label.category].push(label);\n                cat[label.category].sort((a, b) => a.name.localeCompare(b.name));\n            }\n        }\n        return cat;\n    }\n\n    get categories() {\n        return Object.keys(this.labels).sort();\n    }\n\n    selectLabel(label: string) {\n        EventBus.$emit(\"EditDialog.AddLabel\", label);\n        this.visible = false;\n    }\n\n    toggleVisibility(label: Label) {\n        label.visible = !label.visible;\n        socket.emit(\"Label.Visibility.Set\", { uuid: label.uuid, visible: label.visible });\n    }\n\n    addLabel() {\n        if (this.newName === \"\") return;\n        const label = {\n            uuid: uuidv4(),\n            category: this.newCategory,\n            name: this.newName,\n            visible: false,\n            user: gameStore.username,\n        };\n        gameStore.addLabel(label);\n        socket.emit(\"Label.Add\", label);\n        this.newCategory = \"\";\n        this.newName = \"\";\n    }\n\n    deleteLabel(uuid: string) {\n        gameStore.deleteLabel({ uuid, user: gameStore.username });\n        socket.emit(\"Label.Delete\", uuid);\n    }\n}\n","import { ServerPolygon } from \"../comm/types/shapes\";\nimport { GlobalPoint, LocalPoint } from \"../geom\";\nimport { g2lx, g2ly, g2lz, l2g } from \"../units\";\nimport { getFogColour } from \"../utils\";\nimport { BoundingRect } from \"./boundingrect\";\nimport { Shape } from \"./shape\";\n\nexport class Polygon extends Shape {\n    type = \"polygon\";\n    _vertices: GlobalPoint[] = [];\n\n    constructor(\n        startPoint: GlobalPoint,\n        vertices: GlobalPoint[] = [],\n        fillColour?: string,\n        strokeColour?: string,\n        uuid?: string,\n    ) {\n        super(startPoint, fillColour, strokeColour, uuid);\n        this._vertices = vertices;\n    }\n\n    get refPoint() {\n        return this._refPoint;\n    }\n    set refPoint(point: GlobalPoint) {\n        const delta = point.subtract(this._refPoint);\n        this._refPoint = point;\n        for (let i = 0; i < this._vertices.length; i++) this._vertices[i] = this._vertices[i].add(delta);\n    }\n\n    get vertices() {\n        return [this._refPoint, ...this._vertices];\n    }\n\n    asDict() {\n        return Object.assign(this.getBaseDict(), {\n            vertices: this._vertices.map(p => ({ x: p.x, y: p.y })),\n        });\n    }\n\n    fromDict(data: ServerPolygon) {\n        super.fromDict(data);\n        this._vertices = data.vertices.map(v => new GlobalPoint(v.x, v.y));\n    }\n\n    get points() {\n        return this.vertices.map(point => [point.x, point.y]);\n    }\n\n    draw(ctx: CanvasRenderingContext2D) {\n        super.draw(ctx);\n        ctx.lineCap = \"round\";\n        ctx.lineJoin = \"round\";\n\n        if (this.strokeColour === \"fog\") ctx.strokeStyle = getFogColour();\n        else if (this.vertices.length === 2) ctx.strokeStyle = this.fillColour;\n        else ctx.strokeStyle = this.strokeColour;\n        if (this.fillColour === \"fog\") ctx.fillStyle = getFogColour();\n        else ctx.fillStyle = this.fillColour;\n        ctx.lineWidth = g2lz(2);\n\n        ctx.beginPath();\n        ctx.moveTo(g2lx(this.vertices[0].x), g2ly(this.vertices[0].y));\n        for (let i = 1; i <= this.vertices.length; i++) {\n            const vertex = this.vertices[i % this.vertices.length];\n            ctx.lineTo(g2lx(vertex.x), g2ly(vertex.y));\n        }\n        ctx.fill();\n        ctx.stroke();\n    }\n\n    contains(point: GlobalPoint): boolean {\n        return this.getBoundingBox().contains(point);\n    }\n\n    center(): GlobalPoint;\n    center(centerPoint: GlobalPoint): void;\n    center(centerPoint?: GlobalPoint): GlobalPoint | void {\n        return this.getBoundingBox().center();\n    }\n    visibleInCanvas(canvas: HTMLCanvasElement): boolean {\n        return this.getBoundingBox().visibleInCanvas(canvas);\n    } // TODO\n    snapToGrid(): void {}\n    resizeToGrid(): void {}\n    resize(resizePoint: number, point: LocalPoint): void {\n        if (resizePoint === 0) this._refPoint = l2g(point);\n        else this._vertices[resizePoint - 1] = l2g(point);\n    }\n    getBoundingBox(): BoundingRect {\n        let minx: number = this.refPoint.x;\n        let maxx: number = this.refPoint.x;\n        let miny: number = this.refPoint.y;\n        let maxy: number = this.refPoint.y;\n        for (const p of this._vertices) {\n            if (p.x < minx) minx = p.x;\n            if (p.x > maxx) maxx = p.x;\n            if (p.y < miny) miny = p.y;\n            if (p.y > maxy) maxy = p.y;\n        }\n        return new BoundingRect(new GlobalPoint(minx, miny), maxx - minx, maxy - miny);\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.selected)?_c('div',{staticClass:\"tool-detail\",style:({'--detailRight': _vm.detailRight, '--detailArrow': _vm.detailArrow})},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.IS_DM),expression:\"IS_DM\"}]},[_vm._v(\"Mode\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.IS_DM),expression:\"IS_DM\"}],staticClass:\"selectgroup\"},_vm._l((_vm.modes),function(mode){return _c('div',{key:mode,staticClass:\"option\",class:{'option-selected': _vm.modeSelect === mode},on:{\"click\":function($event){_vm.modeSelect = mode}}},[_vm._v(_vm._s(mode))])}),0),_c('div',[_vm._v(\"Shape\")]),_c('div',{staticClass:\"selectgroup\"},_vm._l((_vm.shapes),function(shape){return _c('div',{key:shape,staticClass:\"option\",class:{'option-selected': _vm.shapeSelect === shape},on:{\"click\":function($event){_vm.shapeSelect = shape}}},[_c('i',{staticClass:\"fas\",class:'fa-' + shape})])}),0),_c('div',[_vm._v(\"Colours\")]),_c('div',{staticClass:\"selectgroup\"},[_c('color-picker',{staticClass:\"option\",attrs:{\"color\":_vm.fillColour},on:{\"update:color\":function($event){_vm.fillColour=$event}}}),_c('color-picker',{staticClass:\"option\",attrs:{\"color\":_vm.borderColour},on:{\"update:color\":function($event){_vm.borderColour=$event}}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shapeSelect === 'paint-brush'),expression:\"shapeSelect === 'paint-brush'\"}]},[_vm._v(\"Brush size\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.brushSize),expression:\"brushSize\"},{name:\"show\",rawName:\"v-show\",value:(_vm.shapeSelect === 'paint-brush'),expression:\"shapeSelect === 'paint-brush'\"}],staticStyle:{\"max-width\":\"100px\"},attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.brushSize)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.brushSize=$event.target.value}}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./draw.vue?vue&type=template&id=639cd890&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=1&id=3d0578ba&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=1&id=3d0578ba&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.selected)?_c('div',{staticClass:\"tool-detail\",style:({'--detailRight': _vm.detailRight, '--detailArrow': _vm.detailArrow})},[_c('div',{attrs:{\"id\":\"accordion-container\"}},_vm._l((_vm.categories),function(category){return _c('accordion',{key:category,attrs:{\"title\":category === '' ? 'no category' : category,\"showArrow\":false,\"items\":_vm.labels[category],\"initialValues\":_vm.initalValues[category]},on:{\"selectionupdate\":_vm.updateSelection}})}),1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./filter.vue?vue&type=template&id=dca395d6&scoped=true&\"","import { render, staticRenderFns } from \"./manager.vue?vue&type=template&id=5b0def98&\"\nimport script from \"./manager.vue?vue&type=script&lang=ts&\"\nexport * from \"./manager.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./manager.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tools.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tools.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./tool.vue?vue&type=template&id=1e034b42&\"\nimport script from \"./tool.vue?vue&type=script&lang=ts&\"\nexport * from \"./tool.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./tool.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./initiative.vue?vue&type=style&index=0&id=07fc8ff2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./initiative.vue?vue&type=style&index=0&id=07fc8ff2&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"visible\":_vm.visible},on:{\"close\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(m){return _c('div',{staticClass:\"modal-header\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":m.dragStart,\"dragend\":m.dragEnd}},[_vm._v(_vm._s(_vm.title))])}}])},[_c('div',{staticClass:\"modal-body\"},[_vm._v(\"\\n    \"+_vm._s(_vm.question)+\"\\n    \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.answer),expression:\"answer\"}],ref:\"answer\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.answer)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.answer=$event.target.value}}})]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{on:{\"click\":_vm.submit}},[_vm._v(\"Submit\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./prompt.vue?vue&type=template&id=0602c2e6&scoped=true&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport draggable from \"vuedraggable\";\nVue.component(\"draggable\", draggable);\n\nimport Modal from \"@/core/components/modals/modal.vue\";\n\nimport { uuidv4 } from \"@/core/utils\";\nimport { socket } from \"@/game/api/socket\";\nimport { InitiativeData, InitiativeEffect } from \"@/game/comm/types/general\";\nimport { EventBus } from \"@/game/event-bus\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { gameStore } from \"@/game/store\";\nimport { gameManager } from '../manager';\n\n@Component({\n    components: {\n        Modal,\n        draggable,\n    },\n})\nexport default class Initiative extends Vue {\n    visible = false;\n    data: InitiativeData[] = [];\n    currentActor: string | null = null;\n    roundCounter = 0;\n    visionLock = false;\n    cameraLock = false;\n    _activeTokens: string[] = [];\n\n    mounted() {\n        EventBus.$on(\"Initiative.Clear\", this.clear);\n        EventBus.$on(\"Initiative.Remove\", (data: string) => this.removeInitiative(data));\n        EventBus.$on(\"Initiative.Show\", () => (this.visible = true));\n\n        socket.on(\"Initiative.Set\", (data: InitiativeData[]) => {\n            this.data = data;\n        });\n        socket.on(\"Initiative.Turn.Set\", (data: string) => this.setTurn(data));\n        socket.on(\"Initiative.Turn.Update\", (data: string) => this.updateTurn(data, false));\n        socket.on(\"Initiative.Round.Update\", (data: number) => this.setRound(data, false));\n        socket.on(\"Initiative.Effect.New\", (data: { actor: string; effect: InitiativeEffect }) => {\n            const actor = this.getActor(data.actor);\n            if (actor === undefined) return;\n            this.createEffect(actor, data.effect, false);\n        });\n        socket.on(\"Initiative.Effect.Update\", (data: { actor: string; effect: InitiativeEffect }) =>\n            this.updateEffect(data.actor, data.effect, false),\n        );\n    }\n\n    beforeDestroy() {\n        EventBus.$off(\"Initiative.Clear\");\n        EventBus.$off(\"Initiative.Remove\");\n        EventBus.$off(\"Initiative.Show\");\n    }\n\n    // Utilities\n    clear() {\n        this.data = [];\n        this.currentActor = null;\n    }\n    getActor(actorId: string) {\n        return this.data.find(a => a.uuid === actorId);\n    }\n    contains(uuid: string) {\n        return this.data.some(d => d.uuid === uuid);\n    }\n    owns(actor: InitiativeData): boolean {\n        if (gameStore.IS_DM) return true;\n        const shape = layerManager.UUIDMap.get(actor.uuid);\n        // Shapes that are unknown to this client are hidden from this client but owned by other clients\n        if (shape === undefined) return false;\n        return shape.owners.includes(gameStore.username);\n    }\n    getDefaultEffect() {\n        return { uuid: uuidv4(), name: \"New Effect\", turns: 10 };\n    }\n    fakeSetData(dataTransfer: DataTransfer) {\n        dataTransfer.setData(\"Hack\", \"\");\n    }\n    syncInitiative(data: InitiativeData | { uuid: string }) {\n        socket.emit(\"Initiative.Update\", data);\n    }\n    // Events\n    addInitiative(data: InitiativeData) {\n        const d = this.data.findIndex(a => a.uuid === data.uuid);\n        if (d >= 0) return;\n        if (data.initiative === undefined) data.initiative = 0;\n        this.syncInitiative(data);\n    }\n    removeInitiative(uuid: string) {\n        const d = this.data.findIndex(a => a.uuid === uuid);\n        if (d < 0 || this.data[d].group) return;\n        this.syncInitiative({ uuid });\n        // Remove highlight\n        const shape = layerManager.UUIDMap.get(uuid);\n        if (shape === undefined) return;\n        if (shape.showHighlight) {\n            shape.showHighlight = false;\n            layerManager.getLayer(shape.layer)!.invalidate(true);\n        }\n    }\n    updateOrder() {\n        if (!gameStore.IS_DM) return;\n        socket.emit(\"Initiative.Set\", this.data.map(d => d.uuid));\n    }\n    updateTurn(actorId: string | null, sync: boolean) {\n        if (!gameStore.IS_DM && sync) return;\n        this.currentActor = actorId;\n        const actor = this.data.find(a => a.uuid === actorId);\n        if (actor === undefined) return;\n        if (actor.effects) {\n            for (let e = actor.effects.length - 1; e >= 0; e--) {\n                if (actor.effects[e].turns <= 0) actor.effects.splice(e, 1);\n                else actor.effects[e].turns--;\n            }\n        }\n        if (this.visionLock) {\n            if (actorId !== null && gameStore.ownedtokens.includes(actorId)) gameStore.setActiveTokens([actorId]);\n            else gameStore.setActiveTokens([]);\n        }\n        if (this.cameraLock) {\n            if (actorId !== null) {\n                const shape = layerManager.UUIDMap.get(actorId);\n                if (shape !== undefined && shape.ownedBy()) {\n                    gameManager.setCenterPosition(shape.center());\n                }\n            }\n        }\n        if (sync) socket.emit(\"Initiative.Turn.Update\", actorId);\n    }\n    setRound(round: number, sync: boolean) {\n        if (!gameStore.IS_DM && sync) return;\n        this.roundCounter = round;\n        if (sync) socket.emit(\"Initiative.Round.Update\", round);\n    }\n    setTurn(actorId: string | null) {\n        this.currentActor = actorId;\n    }\n    nextTurn() {\n        if (!gameStore.IS_DM) return;\n        const order = this.data;\n        const next = order[(order.findIndex(a => a.uuid === this.currentActor) + 1) % order.length];\n        if (this.data[0].uuid === next.uuid) this.setRound(this.roundCounter + 1, true);\n        this.updateTurn(next.uuid, true);\n    }\n    toggleHighlight(actor: InitiativeData, show: boolean) {\n        const shape = layerManager.UUIDMap.get(actor.uuid);\n        if (shape === undefined) return;\n        shape.showHighlight = show;\n        layerManager.getLayer(shape.layer)!.invalidate(true);\n    }\n    toggleOption(actor: InitiativeData, option: \"visible\" | \"group\") {\n        if (!this.owns(actor)) return;\n        actor[option] = !actor[option];\n        this.syncInitiative(actor);\n    }\n    createEffect(actor: InitiativeData, effect: InitiativeEffect, sync: boolean) {\n        if (!this.owns(actor)) return;\n        actor.effects.push(effect);\n        if (sync) socket.emit(\"Initiative.Effect.New\", { actor: actor.uuid, effect });\n    }\n    syncEffect(actor: InitiativeData, effect: InitiativeEffect) {\n        if (!this.owns(actor)) return;\n        socket.emit(\"Initiative.Effect.Update\", { actor: actor.uuid, effect });\n    }\n    updateEffect(actorId: string, effect: InitiativeEffect, sync: boolean) {\n        const actor = this.data.find(a => a.uuid === actorId);\n        if (actor === undefined) return;\n        const effectIndex = actor.effects.findIndex(e => e.uuid === effect.uuid);\n        if (effectIndex === undefined) return;\n        actor.effects[effectIndex] = effect;\n        if (sync) this.syncEffect(actor, effect);\n        else this.$forceUpdate();\n    }\n    toggleVisionLock() {\n        this.visionLock = !this.visionLock;\n        if (this.visionLock) {\n            this._activeTokens = [...gameStore._activeTokens];\n            if (this.currentActor !== null && gameStore.ownedtokens.includes(this.currentActor)) gameStore.setActiveTokens([this.currentActor]);\n        } else {\n            gameStore.setActiveTokens(this._activeTokens);\n        }\n    }\n}\n","import { render, staticRenderFns } from \"./selection_info.vue?vue&type=template&id=674cf937&scoped=true&\"\nimport script from \"./selection_info.vue?vue&type=script&lang=ts&\"\nexport * from \"./selection_info.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./selection_info.vue?vue&type=style&index=0&id=674cf937&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"674cf937\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\n\nimport { Action, getModule, Module, Mutation, VuexModule } from \"vuex-module-decorators\";\n\nimport { AssetList } from \"@/core/comm/types\";\nimport { socket } from \"@/game/api/socket\";\nimport { sendClientOptions } from \"@/game/api/utils\";\nimport { Note } from \"@/game/comm/types/general\";\nimport { ServerShape } from \"@/game/comm/types/shapes\";\nimport { GlobalPoint } from \"@/game/geom\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { g2l, l2g } from \"@/game/units\";\nimport { zoomValue } from \"@/game/utils\";\nimport { BoundingVolume } from \"@/game/visibility/bvh/bvh\";\nimport { triangulate } from \"@/game/visibility/te/pa\";\nimport { rootStore } from \"@/store\";\n\nexport interface GameState {\n    boardInitialized: boolean;\n}\n\n@Module({ dynamic: true, store: rootStore, name: \"game\", namespaced: true })\nclass GameStore extends VuexModule implements GameState {\n    // This is a limited view of selectable layers that is used to generate the layer selection UI and ability to switch layers\n    // See the layerManager for proper layer management tools\n    layers: string[] = [];\n    selectedLayerIndex = -1;\n    boardInitialized = false;\n\n    locations: string[] = [];\n\n    assets: AssetList = {};\n\n    notes: Note[] = [];\n\n    IS_DM = false;\n    FAKE_PLAYER = false;\n    isLocked = false;\n    gridSize = 50;\n    username = \"\";\n    roomName = \"\";\n    roomCreator = \"\";\n    invitationCode = \"\";\n    players: { id: number; name: string; }[] = [];\n\n    gridColour = \"rgba(0, 0, 0, 1)\";\n    fowColour = \"rgba(0, 0, 0, 1)\";\n    rulerColour = \"rgba(255, 0, 0, 1)\";\n    panX = 0;\n    panY = 0;\n\n    zoomDisplay = 0.5;\n    // zoomFactor = 1;\n\n    unitSize = 5;\n    useGrid = true;\n    fullFOW = false;\n    fowOpacity = 0.3;\n    fowLOS = false;\n    locationName = \"\";\n\n    visionSources: { shape: string; aura: string }[] = [];\n    visionBlockers: string[] = [];\n    annotations: string[] = [];\n    movementblockers: string[] = [];\n    ownedtokens: string[] = [];\n    _activeTokens: string[] = [];\n\n    BV = Object.freeze(new BoundingVolume([]));\n\n    visionMode: \"bvh\" | \"triangle\" = \"bvh\";\n    drawTEContour = false;\n    visionRangeMin = 1640;\n    visionRangeMax = 3281;\n\n    clipboard: ServerShape[] = [];\n\n    // Maps are not yet supported in Vue untill 3.X, so for now we're using a plain old object\n    labels: { [uuid: string]: Label } = {};\n\n    filterNoLabel = false;\n    labelFilters: string[] = [];\n\n    showUI = true;\n\n    get selectedLayer() {\n        return this.layers[this.selectedLayerIndex];\n    }\n\n    get zoomFactor() {\n        return zoomValue(this.zoomDisplay);\n    }\n\n    get activeTokens() {\n        if (this._activeTokens.length === 0) return this.ownedtokens;\n        return this._activeTokens;\n    }\n\n    @Mutation\n    setFakePlayer(value: boolean) {\n        this.FAKE_PLAYER = value;\n        this.IS_DM = !value;\n        layerManager.invalidate();\n    }\n\n    @Mutation\n    setZoomDisplay(zoom: number) {\n        if (zoom === this.zoomDisplay) return;\n        if (zoom < 0) zoom = 0;\n        if (zoom > 1) zoom = 1;\n        this.zoomDisplay = zoom;\n        layerManager.invalidate();\n    }\n\n    @Mutation\n    setVisionMode(data: { mode: \"bvh\" | \"triangle\"; sync: boolean }) {\n        this.visionMode = data.mode;\n        if (data.sync) socket.emit(\"Location.Options.Set\", { vision_mode: data.mode });\n    }\n\n    @Mutation\n    setBoardInitialized(boardInitialized: boolean) {\n        this.boardInitialized = boardInitialized;\n    }\n\n    @Mutation\n    toggleUnlabeledFilter() {\n        this.filterNoLabel = !this.filterNoLabel;\n    }\n\n    @Mutation\n    addLabel(label: Label) {\n        Vue.set(this.labels, label.uuid, label);\n    }\n\n    @Mutation\n    setLabelFilters(filters: string[]) {\n        this.labelFilters = filters;\n    }\n\n    @Mutation\n    setLabelVisibility(data: { user: string; uuid: string; visible: boolean }) {\n        if (!(data.uuid in this.labels)) return;\n        this.labels[data.uuid].visible = data.visible;\n    }\n\n    @Mutation\n    deleteLabel(data: { uuid: string; user: string }) {\n        if (!(data.uuid in this.labels)) return;\n        const label = this.labels[data.uuid];\n        const updatedLayers: Set<string> = new Set();\n        for (const shape of layerManager.UUIDMap.values()) {\n            const i = shape.labels.indexOf(label);\n            if (i >= 0) {\n                shape.labels.splice(i, 1);\n                updatedLayers.add(shape.layer);\n            }\n        }\n        for (const layer of updatedLayers) layerManager.getLayer(layer)!.invalidate(false);\n        Vue.delete(this.labels, data.uuid);\n    }\n\n    @Mutation\n    setDM(isDM: boolean) {\n        this.IS_DM = isDM;\n    }\n\n    @Mutation\n    setUsername(username: string) {\n        this.username = username;\n    }\n\n    @Mutation\n    setRoomName(name: string) {\n        this.roomName = name;\n    }\n\n    @Mutation\n    setRoomCreator(name: string) {\n        this.roomCreator = name;\n    }\n\n    @Mutation\n    setInvitationCode(code: string) {\n        this.invitationCode = code;\n    }\n\n    @Mutation\n    addLayer(name: string) {\n        this.layers.push(name);\n        if (this.selectedLayerIndex === -1) this.selectedLayerIndex = this.layers.indexOf(name);\n    }\n\n    @Mutation\n    selectLayer(data: { name: string; sync: boolean }) {\n        const index = this.layers.indexOf(data.name);\n        if (index >= 0) this.selectedLayerIndex = index;\n        if (data.sync) socket.emit(\"Client.ActiveLayer.Set\", data.name);\n    }\n\n    @Mutation\n    newNote(data: { note: Note; sync: boolean }) {\n        this.notes.push(data.note);\n        if (data.sync) socket.emit(\"Note.New\", data.note);\n    }\n\n    @Mutation\n    setAssets(assets: AssetList) {\n        this.assets = assets;\n    }\n\n    @Mutation\n    setLocations(locations: string[]) {\n        this.locations = locations;\n    }\n\n    @Mutation\n    resetLayerInfo() {\n        this.layers = [];\n        this.selectedLayerIndex = -1;\n    }\n\n    @Mutation\n    recalculateVision(partial = false) {\n        if (this.boardInitialized) {\n            if (this.visionMode === \"triangle\") triangulate(\"vision\", partial);\n            else this.BV = Object.freeze(new BoundingVolume(this.visionBlockers));\n        }\n    }\n\n    @Mutation\n    recalculateMovement(partial = false) {\n        if (this.boardInitialized && this.visionMode === \"triangle\") triangulate(\"movement\", partial);\n    }\n\n    @Mutation\n    updateZoom(data: { newZoomDisplay: number; zoomLocation: GlobalPoint }) {\n        if (data.newZoomDisplay === this.zoomDisplay) return;\n        if (data.newZoomDisplay < 0) data.newZoomDisplay = 0;\n        if (data.newZoomDisplay > 1) data.newZoomDisplay = 1;\n        const oldLoc = g2l(data.zoomLocation);\n        this.zoomDisplay = data.newZoomDisplay;\n        const newLoc = l2g(oldLoc);\n        // Change the pan settings to keep the zoomLocation in the same exact location before and after the zoom.\n        const diff = newLoc.subtract(data.zoomLocation);\n        this.panX += diff.x;\n        this.panY += diff.y;\n        layerManager.invalidate();\n        sendClientOptions();\n    }\n\n    @Mutation\n    setGridColour(data: { colour: string; sync: boolean }) {\n        this.gridColour = data.colour;\n        layerManager.getGridLayer()!.drawGrid();\n        if (data.sync) socket.emit(\"Client.Options.Set\", { gridColour: data.colour });\n    }\n\n    @Mutation\n    setFOWColour(data: { colour: string; sync: boolean }) {\n        this.fowColour = data.colour;\n        layerManager.invalidate();\n        if (data.sync) socket.emit(\"Client.Options.Set\", { fowColour: data.colour });\n    }\n\n    @Mutation\n    setRulerColour(data: { colour: string; sync: boolean }) {\n        this.rulerColour = data.colour;\n        if (data.sync) socket.emit(\"Client.Options.Set\", { rulerColour: data.colour });\n    }\n\n    @Mutation\n    setPanX(x: number) {\n        this.panX = x;\n    }\n\n    @Mutation\n    setPanY(y: number) {\n        this.panY = y;\n    }\n\n    @Mutation\n    increasePanX(increase: number) {\n        this.panX += increase;\n    }\n\n    @Mutation\n    increasePanY(increase: number) {\n        this.panY += increase;\n    }\n\n    @Mutation\n    setUnitSize(data: { unitSize: number; sync: boolean }) {\n        if (this.unitSize !== data.unitSize && data.unitSize > 0 && data.unitSize < Infinity) {\n            this.unitSize = data.unitSize;\n            layerManager.invalidate();\n            if (data.sync) socket.emit(\"Location.Options.Set\", { unit_size: data.unitSize });\n        }\n    }\n\n    @Mutation\n    setUseGrid(data: { useGrid: boolean; sync: boolean }) {\n        if (this.useGrid !== data.useGrid) {\n            this.useGrid = data.useGrid;\n            const gridLayer = layerManager.getGridLayer()!;\n            if (data.useGrid) gridLayer.canvas.style.display = \"block\";\n            else gridLayer.canvas.style.display = \"none\";\n            if (data.sync) socket.emit(\"Location.Options.Set\", { use_grid: data.useGrid });\n        }\n    }\n\n    @Mutation\n    setGridSize(data: { gridSize: number; sync: boolean }): void {\n        if (this.gridSize !== data.gridSize && data.gridSize > 0) {\n            this.gridSize = data.gridSize;\n            const gridLayer = layerManager.getGridLayer();\n            if (gridLayer !== undefined) gridLayer.drawGrid();\n            if (data.sync) socket.emit(\"Gridsize.Set\", data.gridSize);\n        }\n    }\n\n    @Mutation\n    setVisionRangeMin(data: { value: number; sync: boolean }): void {\n        this.visionRangeMin = data.value;\n        layerManager.invalidateLight();\n        if (data.sync) socket.emit(\"Location.Options.Set\", { vision_min_range: data.value });\n    }\n\n    @Mutation\n    setVisionRangeMax(data: { value: number; sync: boolean }): void {\n        this.visionRangeMax = Math.max(data.value, this.visionRangeMin);\n        layerManager.invalidateLight();\n        if (data.sync) socket.emit(\"Location.Options.Set\", { vision_max_range: this.visionRangeMax });\n    }\n\n    @Mutation\n    setFullFOW(data: { fullFOW: boolean; sync: boolean }) {\n        if (this.fullFOW !== data.fullFOW) {\n            this.fullFOW = data.fullFOW;\n            layerManager.invalidateLight();\n            if (data.sync) socket.emit(\"Location.Options.Set\", { full_fow: data.fullFOW });\n        }\n    }\n\n    @Mutation\n    setFOWOpacity(data: { fowOpacity: number; sync: boolean }) {\n        this.fowOpacity = data.fowOpacity;\n        layerManager.invalidateLight();\n        if (data.sync) socket.emit(\"Location.Options.Set\", { fow_opacity: data.fowOpacity });\n    }\n\n    @Mutation\n    setLineOfSight(data: { fowLOS: boolean; sync: boolean }) {\n        if (this.fowLOS !== data.fowLOS) {\n            this.fowLOS = data.fowLOS;\n            layerManager.invalidate();\n            if (data.sync) socket.emit(\"Location.Options.Set\", { fow_los: data.fowLOS });\n        }\n    }\n\n    @Mutation\n    setLocationName(name: string) {\n        this.locationName = name;\n    }\n\n    @Mutation\n    updateNote(data: { note: Note; sync: boolean }) {\n        const actualNote = this.notes.find(n => n.uuid === data.note.uuid);\n        if (actualNote === undefined) return;\n        actualNote.title = data.note.title;\n        actualNote.text = data.note.text;\n        if (data.sync) socket.emit(\"Note.Update\", actualNote);\n    }\n\n    @Mutation\n    removeNote(data: { note: Note; sync: boolean }) {\n        this.notes = this.notes.filter(n => n.uuid !== data.note.uuid);\n        if (data.sync) socket.emit(\"Note.Remove\", data.note.uuid);\n    }\n\n    @Mutation\n    toggleUI() {\n        this.showUI = !this.showUI;\n    }\n\n    @Mutation\n    setClipboard(clipboard: ServerShape[]) {\n        this.clipboard = clipboard;\n    }\n\n    @Mutation\n    setActiveTokens(tokens: string[]) {\n        this._activeTokens = tokens;\n        layerManager.invalidateLight();\n    }\n\n    @Mutation\n    addActiveToken(token: string) {\n        this._activeTokens.push(token);\n        layerManager.invalidateLight();\n    }\n\n    @Mutation\n    removeActiveToken(token: string) {\n        if (this._activeTokens.length === 0) {\n            this._activeTokens = [...this.ownedtokens];\n        }\n        this._activeTokens.splice(this._activeTokens.indexOf(token), 1);\n        layerManager.invalidateLight();\n    }\n\n    @Mutation\n    setPlayers(players: { id: number; name: string; }[]) {\n        this.players = players;\n    }\n\n    @Mutation\n    addPlayer(player: { id: number; name: string }) {\n        this.players.push(player);\n    }\n\n    @Mutation\n    kickPlayer(playerId: number) {\n        this.players = this.players.filter(p => p.id !== playerId);\n    }\n\n    @Mutation\n    setIsLocked(data: {isLocked: boolean, sync: boolean}) {\n        this.isLocked = data.isLocked;\n        if (data.sync) {\n            socket.emit(\"Room.Info.Set.Locked\", this.isLocked);\n        }\n    }\n\n    @Action\n    clear() {\n        (<any>this.context.state).visionSources = [];\n        (<any>this.context.state).visionBlockers = [];\n        (<any>this.context.state).ownedtokens = [];\n        (<any>this.context.state).annotations = [];\n        (<any>this.context.state).movementblockers = [];\n        (<any>this.context.state).notes = [];\n        this.context.commit(\"recalculateVision\");\n        this.context.commit(\"recalculateMovement\");\n    }\n}\n\nexport const gameStore = getModule(GameStore);\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=script&lang=ts&\"","import { ServerAura } from \"@/game/comm/types/shapes\";\n\nexport const aurasFromServer = (auras: ServerAura[]): Aura[] => {\n    const result = [];\n    for (const aura of auras) {\n        result.push({\n            uuid: aura.uuid,\n            visionSource: aura.vision_source,\n            visible: aura.visible,\n            name: aura.name,\n            value: aura.value,\n            dim: aura.dim,\n            colour: aura.colour,\n        });\n    }\n    return result;\n};\n\nexport const aurasToServer = (auras: Aura[]): ServerAura[] => {\n    const result = [];\n    for (const aura of auras) {\n        result.push({\n            uuid: aura.uuid,\n            vision_source: aura.visionSource,\n            visible: aura.visible,\n            name: aura.name,\n            value: aura.value,\n            dim: aura.dim,\n            colour: aura.colour,\n        });\n    }\n    return result;\n};\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./contextMenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./contextMenu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./note.vue?vue&type=template&id=7a3669fd&scoped=true&\"\nimport script from \"./note.vue?vue&type=script&lang=ts&\"\nexport * from \"./note.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./note.vue?vue&type=style&index=0&id=7a3669fd&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a3669fd\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./initiative.vue?vue&type=template&id=07fc8ff2&scoped=true&\"\nimport script from \"./initiative.vue?vue&type=script&lang=ts&\"\nexport * from \"./initiative.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./initiative.vue?vue&type=style&index=0&id=07fc8ff2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"07fc8ff2\",\n  null\n  \n)\n\nexport default component.exports","import { ServerLayer } from \"@/game/comm/types/general\";\nimport { FOWLayer } from \"@/game/layers/fow\";\nimport { FOWPlayersLayer } from \"@/game/layers/fowplayers\";\nimport { GridLayer } from \"@/game/layers/grid\";\nimport { Layer } from \"@/game/layers/layer\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { gameStore } from \"@/game/store\";\n\nexport function createLayer(layerInfo: ServerLayer) {\n    // Create canvas element\n    const canvas = document.createElement(\"canvas\");\n    canvas.style.zIndex = layerManager.layers.length.toString();\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n\n    // Create the Layer instance\n    let layer: Layer;\n    if (layerInfo.type_ === \"grid\") layer = new GridLayer(canvas, layerInfo.name);\n    else if (layerInfo.type_ === \"fow\") layer = new FOWLayer(canvas, layerInfo.name);\n    else if (layerInfo.type_ === \"fow-players\") layer = new FOWPlayersLayer(canvas, layerInfo.name);\n    else layer = new Layer(canvas, layerInfo.name);\n    layer.selectable = layerInfo.selectable;\n    layer.playerEditable = layerInfo.player_editable;\n    layerManager.addLayer(layer);\n\n    // Add the element to the DOM\n    const layers = document.getElementById(\"layers\");\n    if (layers === null) {\n        console.warn(\"Layers div is missing, this will prevent the main game board from loading!\");\n        return;\n    }\n    if (layerInfo.name !== \"fow-players\") layers.appendChild(canvas);\n\n    if (layerInfo.type_ === \"grid\" && layerInfo.size) gameStore.setGridSize({ gridSize: layerInfo.size, sync: false });\n    // Load layer shapes\n    layer.setShapes(layerInfo.shapes);\n}\n","import { render, staticRenderFns } from \"./labels.vue?vue&type=template&id=e477c214&scoped=true&\"\nimport script from \"./labels.vue?vue&type=script&lang=ts&\"\nexport * from \"./labels.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./labels.vue?vue&type=style&index=0&id=e477c214&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e477c214\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_dialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_dialog.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"toolselect\"}},[_c('ul',_vm._l((_vm.visibleTools),function(tool){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.toolVisible(tool)),expression:\"toolVisible(tool)\"}],key:tool,ref:tool + '-selector',refInFor:true,class:{'tool-selected': _vm.currentTool === tool},on:{\"mousedown\":function($event){_vm.currentTool = tool}}},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(tool))])])}),0)]),_c('div',[[_c('select-tool',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTool === 'Select'),expression:\"currentTool === 'Select'\"}],ref:\"selectTool\"}),_c('pan-tool',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTool === 'Pan'),expression:\"currentTool === 'Pan'\"}]}),_c('keep-alive',[_c('draw-tool',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTool === 'Draw'),expression:\"currentTool === 'Draw'\"}]})],1),_c('ruler-tool',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTool === 'Ruler'),expression:\"currentTool === 'Ruler'\"}]}),_c('map-tool',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTool === 'Map'),expression:\"currentTool === 'Map'\"}]}),_c('filter-tool',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTool === 'Filter'),expression:\"currentTool === 'Filter'\"}]}),_c('vision-tool',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTool === 'Vision'),expression:\"currentTool === 'Vision'\"}]}),_c('shape-menu',{ref:\"shapecontext\"}),_c('createtoken-dialog',{ref:\"createtokendialog\"})]],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tools.vue?vue&type=template&id=b6e1f51c&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"focusin\":_vm.focusin,\"focusout\":_vm.focusout,\"submit\":function($event){$event.preventDefault();return _vm.login($event)}}},[_c('fieldset',[_c('legend',{staticClass:\"legend\"},[_vm._v(\"PlanarAlly\")]),_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],attrs:{\"type\":\"text\",\"name\":\"username\",\"placeholder\":\"Username\",\"autocomplete\":\"username\",\"required\":\"\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}}),_vm._m(0)]),_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\",\"name\":\"password\",\"placeholder\":\"Password\",\"autocomplete\":\"current-password\",\"required\":\"\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_vm._m(1)]),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('button',{staticStyle:{\"visibility\":\"hidden\",\"display\":\"none\"},attrs:{\"type\":\"submit\",\"name\":\"login\"}}),_c('button',{staticClass:\"submit\",attrs:{\"type\":\"button\",\"name\":\"register\",\"title\":\"Register\"},on:{\"click\":_vm.register}},[_c('i',{staticClass:\"fas fa-plus\"})]),_vm._m(2)])]),(_vm.error)?_c('div',{staticClass:\"feedback\"},[_c('p',{staticClass:\"error\"},[_c('strong',[_vm._v(\"Error:\")]),_vm._v(\"\\n      \"+_vm._s(_vm.error)+\"\\n    \")])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"fas fa-user-circle\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"fas fa-lock\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"submit\",attrs:{\"type\":\"submit\",\"name\":\"login\",\"title\":\"Login\"}},[_c('i',{staticClass:\"fas fa-arrow-right\"})])}]\n\nexport { render, staticRenderFns }","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"17a953f2-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=template&id=bc30fc14&scoped=true&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport Prompt from \"@/core/components/modals/prompt.vue\";\nimport EditDialog from \"@/game/ui/selection/edit_dialog.vue\";\n\nimport { getRef } from \"@/core/utils\";\nimport { socket } from \"@/game/api/socket\";\nimport { EventBus } from \"@/game/event-bus\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { Shape } from \"@/game/shapes/shape\";\n\n@Component({\n    components: {\n        \"edit-dialog\": EditDialog,\n    },\n})\nexport default class SelectionInfo extends Vue {\n    shape: Shape | null = null;\n\n    mounted() {\n        EventBus.$on(\"SelectionInfo.Shape.Set\", (shape: Shape | null) => {\n            this.shape = shape;\n        });\n    }\n\n    beforeDestroy() {\n        EventBus.$off(\"SelectionInfo.Shape.Set\");\n    }\n\n    openEditDialog() {\n        (<any>this.$refs.editDialog).visible = true;\n    }\n    changeValue(object: Tracker | Aura, redraw: boolean) {\n        if (this.shape === null) return;\n        getRef<Prompt>(\"prompt\")\n            .prompt(`New  ${object.name} value:`, `Updating ${object.name}`)\n            .then(\n                (value: string) => {\n                    if (this.shape === null) return;\n                    const ogValue = object.value;\n                    if (value[0] === \"+\" || value[0] === \"-\") object.value += parseInt(value, 10);\n                    else object.value = parseInt(value, 10);\n                    if (isNaN(object.value)) object.value = ogValue;\n                    socket.emit(\"Shape.Update\", { shape: this.shape.asDict(), redraw, temporary: false });\n                    if (redraw) layerManager.invalidate();\n                },\n                () => {},\n            );\n    }\n}\n","import { AssetList } from \"@/core/comm/types\";\nimport { socket } from \"@/game/api/socket\";\nimport { BoardInfo, Note, ServerClient, ServerLocation } from \"@/game/comm/types/general\";\nimport { ServerShape } from \"@/game/comm/types/shapes\";\nimport { EventBus } from \"@/game/event-bus\";\nimport { GlobalPoint } from \"@/game/geom\";\nimport { layerManager } from \"@/game/layers/manager\";\nimport { createLayer } from \"@/game/layers/utils\";\nimport { gameManager } from \"@/game/manager\";\nimport { gameStore } from \"@/game/store\";\nimport { router } from \"@/router\";\nimport { zoomDisplay } from \"../utils\";\n\nsocket.on(\"connect\", () => {\n    console.log(\"Connected\");\n});\nsocket.on(\"disconnect\", () => {\n    console.log(\"Disconnected\");\n});\nsocket.on(\"connect_error\", (error: any) => {\n    console.error(\"Could not connect to game session.\");\n    router.push(\"/dashboard\");\n});\nsocket.on(\"error\", (error: any) => {\n    console.error(\"Game session does not exist.\");\n    router.push(\"/dashboard\");\n});\nsocket.on(\"redirect\", (destination: string) => {\n    console.log(\"redirecting\");\n    router.push(destination);\n});\nsocket.on(\"Room.Info.Set\", (data: { name: string; creator: string; invitationCode: string, isLocked: boolean, players: { id: number; name: string }[] }) => {\n    gameStore.setRoomName(data.name);\n    gameStore.setRoomCreator(data.creator);\n    gameStore.setInvitationCode(data.invitationCode);\n    gameStore.setIsLocked({isLocked: data.isLocked, sync: false});\n    gameStore.setPlayers(data.players);\n});\nsocket.on(\"Room.Info.InvitationCode.Set\", (invitationCode: string) => {\n    gameStore.setInvitationCode(invitationCode);\n    EventBus.$emit(\"DmSettings.RefreshedInviteCode\");\n});\nsocket.on(\"Room.Info.Players.Add\", (data: {id: number, name: string}) => {\n    gameStore.addPlayer(data);\n});\nsocket.on(\"Username.Set\", (username: string) => {\n    gameStore.setUsername(username);\n    gameStore.setDM(username === decodeURIComponent(window.location.pathname.split(\"/\")[2]));\n});\nsocket.on(\"Client.Options.Set\", (options: ServerClient) => {\n    gameStore.setGridColour({ colour: options.grid_colour, sync: false });\n    gameStore.setFOWColour({ colour: options.fow_colour, sync: false });\n    gameStore.setRulerColour({ colour: options.ruler_colour, sync: false });\n    gameStore.setPanX(options.pan_x);\n    gameStore.setPanY(options.pan_y);\n    gameStore.setZoomDisplay(zoomDisplay(options.zoom_factor));\n    // gameStore.setZoomDisplay(0.5);\n    if (options.active_layer) layerManager.selectLayer(options.active_layer, false);\n    if (layerManager.getGridLayer() !== undefined) layerManager.getGridLayer()!.invalidate();\n});\nsocket.on(\"Location.Set\", (data: Partial<ServerLocation>) => {\n    if (data.name !== undefined) gameStore.setLocationName(data.name);\n    if (data.unit_size !== undefined) gameStore.setUnitSize({ unitSize: data.unit_size, sync: false });\n    if (data.use_grid !== undefined) gameStore.setUseGrid({ useGrid: data.use_grid, sync: false });\n    if (data.full_fow !== undefined) gameStore.setFullFOW({ fullFOW: data.full_fow, sync: false });\n    if (data.fow_opacity !== undefined) gameStore.setFOWOpacity({ fowOpacity: data.fow_opacity, sync: false });\n    if (data.fow_los !== undefined) gameStore.setLineOfSight({ fowLOS: data.fow_los, sync: false });\n    if (data.vision_min_range !== undefined) gameStore.setVisionRangeMin({ value: data.vision_min_range, sync: false });\n    if (data.vision_max_range !== undefined) gameStore.setVisionRangeMax({ value: data.vision_max_range, sync: false });\n    if (data.vision_mode !== undefined) {\n        gameStore.setVisionMode({ mode: data.vision_mode, sync: false });\n        gameStore.recalculateVision();\n        gameStore.recalculateMovement();\n    }\n});\nsocket.on(\"Position.Set\", (data: { x: number; y: number }) => {\n    gameManager.setCenterPosition(new GlobalPoint(data.x, data.y));\n});\nsocket.on(\"Notes.Set\", (notes: Note[]) => {\n    for (const note of notes) gameStore.newNote({ note, sync: false });\n});\nsocket.on(\"Asset.List.Set\", (assets: AssetList) => {\n    gameStore.setAssets(assets);\n});\nsocket.on(\"Board.Set\", (locationInfo: BoardInfo) => {\n    gameStore.clear();\n    gameStore.setLocations(locationInfo.locations);\n    document.getElementById(\"layers\")!.innerHTML = \"\";\n    gameStore.resetLayerInfo();\n    layerManager.reset();\n    for (const layer of locationInfo.layers) createLayer(layer);\n    // Force the correct opacity render on other layers.\n    layerManager.selectLayer(layerManager.getLayer()!.name, false);\n    EventBus.$emit(\"Initiative.Clear\");\n    gameStore.recalculateVision();\n    gameStore.recalculateMovement();\n    gameStore.setBoardInitialized(true);\n});\nsocket.on(\"Gridsize.Set\", (gridSize: number) => {\n    gameStore.setGridSize({ gridSize, sync: false });\n});\nsocket.on(\"Shape.Add\", (shape: ServerShape) => {\n    gameManager.addShape(shape);\n});\nsocket.on(\"Shape.Remove\", (shape: ServerShape) => {\n    if (!layerManager.UUIDMap.has(shape.uuid)) {\n        console.log(`Attempted to remove an unknown shape`);\n        return;\n    }\n    if (!layerManager.hasLayer(shape.layer)) {\n        console.log(`Attempted to remove shape from an unknown layer ${shape.layer}`);\n        return;\n    }\n    const layer = layerManager.getLayer(shape.layer)!;\n    layer.removeShape(layerManager.UUIDMap.get(shape.uuid)!, false);\n    layer.invalidate(false);\n});\nsocket.on(\"Shape.Order.Set\", (data: { shape: ServerShape; index: number }) => {\n    if (!layerManager.UUIDMap.has(data.shape.uuid)) {\n        console.log(`Attempted to move the shape order of an unknown shape`);\n        return;\n    }\n    if (!layerManager.hasLayer(data.shape.layer)) {\n        console.log(`Attempted to remove shape from an unknown layer ${data.shape.layer}`);\n        return;\n    }\n    const shape = layerManager.UUIDMap.get(data.shape.uuid)!;\n    const layer = layerManager.getLayer(shape.layer)!;\n    layer.moveShapeOrder(shape, data.index, false);\n});\nsocket.on(\"Shape.Layer.Change\", (data: { uuid: string; layer: string }) => {\n    const shape = layerManager.UUIDMap.get(data.uuid);\n    if (shape === undefined) return;\n    shape.moveLayer(data.layer, false);\n});\nsocket.on(\"Shape.Update\", (data: { shape: ServerShape; redraw: boolean; move: boolean, temporary: boolean }) => {\n    gameManager.updateShape(data);\n});\nsocket.on(\"Temp.Clear\", (shapes: ServerShape[]) => {\n    shapes.forEach(shape => {\n        if (!layerManager.UUIDMap.has(shape.uuid)) {\n            console.log(\"Attempted to remove an unknown temporary shape\");\n            return;\n        }\n        if (!layerManager.hasLayer(shape.layer)) {\n            console.log(`Attempted to remove shape from an unknown layer ${shape.layer}`);\n            return;\n        }\n        const realShape = layerManager.UUIDMap.get(shape.uuid)!;\n        layerManager.getLayer(shape.layer)!.removeShape(realShape, false);\n    });\n});\nsocket.on(\"Labels.Set\", (labels: Label[]) => {\n    for (const label of labels) gameStore.addLabel(label);\n});\nsocket.on(\"Label.Visibility.Set\", (data: { user: string; uuid: string; visible: boolean }) => {\n    gameStore.setLabelVisibility(data);\n});\nsocket.on(\"Label.Add\", (data: Label) => {\n    gameStore.addLabel(data);\n});\nsocket.on(\"Label.Delete\", (data: { user: string; uuid: string }) => {\n    gameStore.deleteLabel(data);\n});\nsocket.on(\"Labels.Filter.Add\", (uuid: string) => {\n    gameStore.labelFilters.push(uuid);\n    layerManager.invalidate();\n})\nsocket.on(\"Labels.Filter.Remove\", (uuid: string) => {\n    const idx = gameStore.labelFilters.indexOf(uuid);\n    if (idx >= 0) {\n        gameStore.labelFilters.splice(idx, 1);\n        layerManager.invalidate();\n    }\n})\nsocket.on(\"Labels.Filters.Set\", (filters: string[]) => {\n    gameStore.setLabelFilters(filters);\n})\n"],"sourceRoot":""}