{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/core/components/colorpicker.vue?1c78","webpack:///./src/game/ui/tools/tool.vue?5b17","webpack:///./src/game/ui/initiative.vue?e80a","webpack:///./src/game/ui/tools/tools.vue?7eab","webpack:///./src/game/ui/note.vue?a110","webpack:///./src/game/game.vue?5550","webpack:///./src/game/ui/selection/edit_dialog.vue?022f","webpack:///./src/core/components/modals/prompt.vue?9eac","webpack:///./src/auth/login.vue?0150","webpack:///./src/core/components/contextmenu.vue?a0a2","webpack:///./src/game/ui/menu/asset_node.vue?53fd","webpack:///./src/game/ui/selection/selection_info.vue?284c","webpack:///./src/game/ui/selection/shapecontext.vue?5969","webpack:///./src/game/ui/tools/selectcontext.vue?49ed","webpack:///./src/core/components/modals/modal.vue?09bc","webpack:///./src/game/ui/tools/draw.vue?d35e","webpack:///./src/App.vue?d4a7","webpack:///./src/App.vue","webpack:///./src/auth/login.vue?3aeb","webpack:///./src/auth/login.vue?283c","webpack:///./src/auth/login.vue?c159","webpack:///./src/auth/login.vue","webpack:///./src/store.ts","webpack:///./src/auth/logout.ts","webpack:///./src/core/components/load.vue?fcce","webpack:///./src/core/components/load.vue?8cd0","webpack:///./src/core/components/load.vue?18c2","webpack:///./src/core/components/load.vue","webpack:///./src/core/store.ts","webpack:///./src/dashboard/main.vue?983b","webpack:///./src/dashboard/main.vue?3f72","webpack:///./src/dashboard/main.vue?d5a9","webpack:///./src/dashboard/main.vue","webpack:///./src/game/game.vue?d710","webpack:///./src/core/components/modals/confirm.vue?fb91","webpack:///./src/core/components/modals/modal.vue?7e76","webpack:///./src/core/components/modals/modal.vue?44ae","webpack:///./src/core/components/modals/modal.vue?09d2","webpack:///./src/core/components/modals/modal.vue","webpack:///src/core/components/modals/confirm.vue","webpack:///./src/core/components/modals/confirm.vue?0f8a","webpack:///./src/core/components/modals/confirm.vue","webpack:///./src/core/components/modals/prompt.vue?a198","webpack:///src/core/components/modals/prompt.vue","webpack:///./src/core/components/modals/prompt.vue?130d","webpack:///./src/core/components/modals/prompt.vue","webpack:///./src/game/geom.ts","webpack:///./src/game/shapes/boundingrect.ts","webpack:///./src/game/api/socket.ts","webpack:///./src/core/utils.ts","webpack:///./src/game/bvh/node.ts","webpack:///./src/game/units.ts","webpack:///./src/game/bvh/bvh.ts","webpack:///./src/game/api/utils.ts","webpack:///./src/game/store.ts","webpack:///./src/game/comm/conversion/aura.ts","webpack:///./src/game/shapes/shape.ts","webpack:///./src/game/ui/tools/utils.ts","webpack:///./src/game/shapes/baserect.ts","webpack:///./src/game/shapes/asset.ts","webpack:///./src/game/layers/manager.ts","webpack:///./src/game/ui/initiative.vue?bc7e","webpack:///./src/game/ui/initiative.vue?36c8","webpack:///./src/game/ui/initiative.vue?c7e1","webpack:///./src/game/ui/initiative.vue","webpack:///./src/game/ui/menu/menu.vue?bdcd","webpack:///./src/core/components/colorpicker.vue?c009","webpack:///./src/core/components/colorpicker.vue?4d88","webpack:///./src/core/components/colorpicker.vue?1682","webpack:///./src/core/components/colorpicker.vue","webpack:///./src/game/ui/menu/asset_node.vue?774f","webpack:///./src/game/ui/menu/asset_node.vue?f519","webpack:///./src/game/ui/menu/asset_node.vue?1f27","webpack:///./src/game/ui/menu/asset_node.vue","webpack:///./src/game/ui/menu/menu.vue?ae57","webpack:///./src/game/ui/menu/menu.vue?8b23","webpack:///./src/game/ui/menu/menu.vue","webpack:///./src/game/ui/note.vue?723c","webpack:///./src/game/ui/note.vue?f9bd","webpack:///./src/game/ui/note.vue?49b7","webpack:///./src/game/ui/note.vue","webpack:///./src/game/ui/selection/selection_info.vue?a3c3","webpack:///./src/game/ui/selection/edit_dialog.vue?1a9f","webpack:///./src/game/ui/selection/edit_dialog.vue?9a84","webpack:///./src/game/ui/selection/edit_dialog.vue?3800","webpack:///./src/game/ui/selection/edit_dialog.vue","webpack:///./src/game/ui/selection/selection_info.vue?5d62","webpack:///./src/game/ui/selection/selection_info.vue?2310","webpack:///./src/game/ui/selection/selection_info.vue","webpack:///./src/game/ui/tools/tools.vue?e8f4","webpack:///./src/game/utils.ts","webpack:///./src/game/shapes/rect.ts","webpack:///./src/game/shapes/text.ts","webpack:///./src/game/ui/annotation.ts","webpack:///./src/game/shapes/circle.ts","webpack:///./src/game/shapes/circulartoken.ts","webpack:///./src/game/shapes/line.ts","webpack:///./src/game/shapes/multiline.ts","webpack:///./src/game/shapes/utils.ts","webpack:///./src/game/manager.ts","webpack:///./src/game/ui/selection/shapecontext.vue?2b96","webpack:///./src/core/components/contextmenu.vue?e03f","webpack:///src/core/components/contextmenu.vue","webpack:///./src/core/components/contextmenu.vue?93cd","webpack:///./src/core/components/contextmenu.vue","webpack:///./src/game/ui/selection/shapecontext.vue?1cf6","webpack:///./src/game/ui/selection/shapecontext.vue?aac0","webpack:///./src/game/ui/selection/shapecontext.vue","webpack:///./src/game/ui/tools/createtoken_modal.vue?4c9e","webpack:///./src/game/ui/tools/createtoken_modal.vue?d0df","webpack:///./src/game/ui/tools/createtoken_modal.vue?f918","webpack:///./src/game/ui/tools/createtoken_modal.vue","webpack:///./src/game/ui/tools/draw.vue?c1fd","webpack:///./src/game/ui/tools/tool.vue?ed64","webpack:///./src/game/ui/tools/tool.vue?d136","webpack:///./src/game/ui/tools/tool.vue?8ce3","webpack:///./src/game/ui/tools/tool.vue","webpack:///./src/game/ui/tools/draw.vue?b96d","webpack:///./src/game/ui/tools/draw.vue?1261","webpack:///./src/game/ui/tools/draw.vue","webpack:///./src/game/ui/tools/map.vue?4f7d","webpack:///./src/game/ui/tools/map.vue?a3ab","webpack:///./src/game/ui/tools/map.vue?284a","webpack:///./src/game/ui/tools/map.vue","webpack:///./src/game/ui/tools/pan.vue?de66","webpack:///./src/game/ui/tools/pan.vue?5197","webpack:///./src/game/ui/tools/pan.vue?a055","webpack:///./src/game/ui/tools/pan.vue","webpack:///./src/game/ui/tools/ruler.vue?8677","webpack:///./src/game/ui/tools/ruler.vue?cb99","webpack:///./src/game/ui/tools/ruler.vue?f684","webpack:///./src/game/ui/tools/ruler.vue","webpack:///./src/game/ui/tools/select.vue?7f33","webpack:///./src/game/ui/tools/selectcontext.vue?45b6","webpack:///./src/game/ui/tools/selectcontext.vue?d61f","webpack:///./src/game/ui/tools/selectcontext.vue?6f66","webpack:///./src/game/ui/tools/selectcontext.vue","webpack:///./src/game/ui/tools/select.vue?49f9","webpack:///./src/game/ui/tools/select.vue?b7fd","webpack:///./src/game/ui/tools/select.vue","webpack:///./src/game/ui/tools/tools.vue?25b2","webpack:///./src/game/ui/tools/tools.vue?fa4a","webpack:///./src/game/ui/tools/tools.vue","webpack:///./src/game/settings.ts","webpack:///./src/game/layers/layer.ts","webpack:///./src/game/layers/fow.ts","webpack:///./src/game/layers/fowplayers.ts","webpack:///./src/game/layers/grid.ts","webpack:///./src/game/layers/utils.ts","webpack:///./src/game/api/events.ts","webpack:///./src/game/game.vue?5592","webpack:///./src/game/game.vue?d01c","webpack:///./src/game/game.vue","webpack:///./src/router.ts","webpack:///./src/main.ts","webpack:///./src/auth/login.vue?834a","webpack:///./src/dashboard/main.vue?0298","webpack:///./src/core/components/modals/confirm.vue?41c5","webpack:///./src/game/ui/tools/createtoken_modal.vue?46a4","webpack:///./src/game/ui/menu/menu.vue?fe8b"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_colorpicker_vue_vue_type_style_index_0_id_2c377313_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_colorpicker_vue_vue_type_style_index_0_id_2c377313_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tool_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tool_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_initiative_vue_vue_type_style_index_0_id_942876ae_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_initiative_vue_vue_type_style_index_0_id_942876ae_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tools_vue_vue_type_style_index_0_id_69cbb9be_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tools_vue_vue_type_style_index_0_id_69cbb9be_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_note_vue_vue_type_style_index_0_id_3ac7fb3c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_note_vue_vue_type_style_index_0_id_3ac7fb3c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_game_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_game_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_dialog_vue_vue_type_style_index_0_id_16427a8e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_dialog_vue_vue_type_style_index_0_id_16427a8e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_prompt_vue_vue_type_style_index_0_id_619acb01_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_prompt_vue_vue_type_style_index_0_id_619acb01_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_1_id_af17832e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_1_id_af17832e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_contextmenu_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_contextmenu_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_asset_node_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_asset_node_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_selection_info_vue_vue_type_style_index_0_id_75b524c1_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_selection_info_vue_vue_type_style_index_0_id_75b524c1_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_shapecontext_vue_vue_type_style_index_0_id_e2ea3ef2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_shapecontext_vue_vue_type_style_index_0_id_e2ea3ef2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_selectcontext_vue_vue_type_style_index_0_id_9e129ee8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_selectcontext_vue_vue_type_style_index_0_id_9e129ee8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modal_vue_vue_type_style_index_0_id_0f7d191f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modal_vue_vue_type_style_index_0_id_0f7d191f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_draw_vue_vue_type_style_index_0_id_04c29104_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_draw_vue_vue_type_style_index_0_id_04c29104_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","attrs","id","ref","staticRenderFns","script","component","componentNormalizer","options","__file","App","loginvue_type_template_id_af17832e_scoped_true_render","on","focusin","focusout","submit","$event","preventDefault","login","staticClass","_v","directives","rawName","expression","type","placeholder","required","domProps","input","target","composing","username","_m","password","staticStyle","display","visibility","title","click","register","_s","error","_e","loginvue_type_template_id_af17832e_scoped_true_staticRenderFns","loginvue_type_script_lang_ts_Login","vue_runtime_esm","[object Object]","axios_default","a","post","then","response","$store","commit","$router","$route","query","redirect","catch","statusText","event","nextElementSibling","span","style","opacity","tslib_es6","vue_class_component_common_default","loginvue_type_script_lang_ts_","auth_loginvue_type_script_lang_ts_","login_component","use","vuex_esm","store","Store","logout_Logout","to","from","next","path","logout","loadvue_type_template_id_09531baa_render","message","loadvue_type_template_id_09531baa_staticRenderFns","loadvue_type_script_lang_ts_","components_loadvue_type_script_lang_ts_","load_component","load","store_CoreStore","esm","authenticated","initialized","auth","init","dynamic","core_store","mainvue_type_template_id_79d5db09_render","owned","joined","_l","room","createRoom","tag","mainvue_type_template_id_79d5db09_staticRenderFns","registerHooks","mainvue_type_script_lang_ts_Dashboard","vm","err","mainvue_type_script_lang_ts_","dashboard_mainvue_type_script_lang_ts_","main_component","main","gamevue_type_template_id_034f5e8d_render","mouseleave","ready","mousedown","mouseup","mousemove","contextmenu","stopPropagation","dragover","drop","layers","layer","class","layer-selected","selectedLayer","selectLayer","href","height","width","min","max","interval","dot-width","dot-height","tooltip-dir","tooltip","formatter","zoomFactor","toFixed","slider-style","border-radius","bg-style","background-color","box-shadow","process-style","model","callback","$$v","gamevue_type_template_id_034f5e8d_staticRenderFns","confirmvue_type_template_id_7c994a10_scoped_true_render","visible","close","scopedSlots","_u","fn","draggable","dragstart","dragStart","dragend","dragEnd","confirm","yes","no","deny","confirmvue_type_template_id_7c994a10_scoped_true_staticRenderFns","modalvue_type_template_id_0f7d191f_scoped_true_render","modal-mask","mask","dialog-mask","dragOver","_t","modalvue_type_template_id_0f7d191f_scoped_true_staticRenderFns","modalvue_type_script_lang_ts_","extend","props","Boolean","default","positioned","offsetX","offsetY","screenX","screenY","dragging","updatePosition","methods","$emit","container","$refs","offsetWidth","offsetHeight","left","innerWidth","top","innerHeight","dataTransfer","setData","setDragImage","clientX","clientY","pageX","pageY","parseInt","modals_modalvue_type_script_lang_ts_","modal_component","modal","confirmvue_type_script_lang_js_","components","resolve","reject","undefined","$nextTick","focus","Promise","modals_confirmvue_type_script_lang_js_","confirm_component","modals_confirm","promptvue_type_template_id_619acb01_scoped_true_render","question","keyup","_k","keyCode","answer","promptvue_type_template_id_619acb01_scoped_true_staticRenderFns","promptvue_type_script_lang_js_","modals_promptvue_type_script_lang_js_","prompt_component","modals_prompt","Point","x","y","vec","other","Vector","dimension","GlobalPoint","super","add","subtract","clone","LocalPoint","Math","sqrt","pow","scale","Ray","origin","direction","tMax","Infinity","p1","p2","maxT","abs","t1","t2","distance","boundingrect_BoundingRect","topleft","w","h","topLeft","topRight","botRight","botLeft","point","vector","xmin","xmax","ymin","ymax","botright","ray","invDir","dirIsNeg","txmin","getDiagCorner","txmax","tymin","tymax","hit","centerPoint","corner","sw","inCorner","socket","lib_default","location","protocol","host","autoConnect","createConnection","route","io","opts","params","creator","connect","api_socket","uuidv4","replace","random","v","toString","alphSort","b","toLowerCase","partition","arr","predicate","ret","forEach","calcFontScale","ctx","text","points","Number","font","split","fontWidth","measureText","getRef","active","src_main","$children","activeComponent","BoundingNode","nPrimitives","bbox","children","LeafNode","first","firstPrimOffset","InteriorNode","c1","c2","union","g2l","obj","z","game_store","panX","panY","g2lx","g2ly","g2lz","getUnitDistance","unitSize","gridSize","g2lr","l2g","multiply","l2gx","l2gy","l2gz","bvh_BoundingVolume","shapes","totalNodes","buildData","orderedPrims","nodes","offset","root","shape","manager","UUIDMap","index","getBoundingBox","center","recursiveBuild","compact","getLayer","node","strokeRect","start","end","createLeaf","centroidBbox","getMaxExtent","pMid","partitionedData","flattened","concat","console","log","mid","stopOnFirstHit","intersect","tMin","todoOffset","nodeNum","todo","inverse","dirIsNegative","intersectP","secondChildOffset","flatten","myOffset","secondOffset","primitivesOffset","size","bvh","sendClientOptions","store_GameStore","selectedLayerIndex","boardInitialized","locations","assets","notes","IS_DM","roomName","roomCreator","invitationCode","gridColour","fowColour","rulerColour","useGrid","fullFOW","fowOpacity","fowLOS","locationName","visionSources","visionBlockers","annotations","movementblockers","ownedtokens","BV","isDM","code","indexOf","sync","emit","note","newZoomValue","zoomLocation","oldLoc","newLoc","diff","invalidate","colour","getGridLayer","drawGrid","increase","unit_size","gridLayer","canvas","use_grid","invalidateLight","full_fow","fow_opacity","fow_los","actualNote","find","uuid","filter","context","getters","namespaced","aurasFromServer","auras","aura","visionSource","vision_source","dim","aurasToServer","shape_Shape","refPoint","fillColour","strokeColour","trackers","owners","visionObstruction","movementObstruction","isToken","showHighlight","annotation","globalCompositeOperation","Map","skipLightUpdate","self","obstructionIndex","changeBV","recalculateBV","au","ls","findIndex","some","blocksMovement","ownedBy","includes","type_","draw_operator","movement_obstruction","vision_obstruction","fill_colour","stroke_colour","is_token","JSON","stringify","parse","strokeStyle","beginPath","loc","innerRange","fillStyle","gradient","createRadialGradient","tc","tinycolor_default","addColorStop","setAlpha","toRgbString","lastPath","fill","e","arc","PI","warn","group","source","has_img","effects","oldLayer","newLayer","calculateDelta","delta","sel","done","ogSelBBox","newSelBBox","refine","movementBlocker","blocker","blockerBBox","found","intersectsWithInner","fromPoints","normalize","bCenter","sCenter","ux","uy","dx","dot","dy","baserect_BaseRect","assign","getBaseDict","visibleInCanvas","coreVisible","gs","mx","my","targetX","targetY","round","resizedir","asset_Asset","img","src","fromDict","draw","drawImage","manager_LayerManager","lm","setInterval","playerEditable","selectable","addLayer","globalAlpha","clearSelection","selection","getSelection","isVisionLayer","image","document","createElement","getData","asset","URL","pathname","addShape","initiativevue_type_template_id_942876ae_scoped_true_render","fakeSetData","disabled","state","game","change","updateOrder","actor","flex-direction","align-items","initiative-selected","currentActor","cursor","mouseenter","toggleHighlight","modifiers","lazy","number","notAllowed","owns","$set","_n","syncInitiative","blur","$forceUpdate","createEffect","getDefaultEffect","toggleOption","removeInitiative","effect","updateEffect","turns","roundCounter","setRound","setTurn","nextTurn","initiativevue_type_template_id_942876ae_scoped_true_staticRenderFns","vuedraggable_default","initiativevue_type_script_lang_ts_","actorId","initiative","map","order","show","option","effectIndex","syncEffect","ui_initiativevue_type_script_lang_ts_","initiative_component","ui_initiative","menuvue_type_template_id_4bb01ba9_scoped_true_render","settings","rm-list-dm","enter","rm","transition","settingsClick","overflow-y","overflow-x","createNote","openNote","for","checked","Array","isArray","_i","$$a","$$el","$$c","$$i","step","readonly","color","update:color","text-decoration","position","bottom","changeLocation","createLocation","menuvue_type_template_id_4bb01ba9_scoped_true_staticRenderFns","colorpickervue_type_template_id_2c377313_scoped_true_render","currentTarget","open","transparent","closePicker","z-index","tabindex","updateColor","colorpickervue_type_template_id_2c377313_scoped_true_staticRenderFns","colorpickervue_type_script_lang_ts_","chrome-picker","vue_color_min","chromePicker","val","rgba","setPosition","$el","newColor","rect","getBoundingClientRect","right","components_colorpickervue_type_script_lang_ts_","colorpicker_component","colorpicker","asset_nodevue_type_template_id_1c906569_render","folder","toggle","file","mouseover","showImage","hash","mouseout","asset_nodevue_type_template_id_1c906569_staticRenderFns","asset_nodevue_type_script_lang_ts_","computed","keys","el","sort","__files","imageSource","querySelector","menu_asset_nodevue_type_script_lang_ts_","asset_node_component","asset_node","menuvue_type_script_lang_ts_","color-picker","asset-node","classList","contains","prompt","menu_menuvue_type_script_lang_ts_","menu_component","menu","notevue_type_template_id_3ac7fb3c_scoped_true_render","select","font-size","updateNote","calcHeight","removeNote","notevue_type_template_id_3ac7fb3c_scoped_true_staticRenderFns","notevue_type_script_lang_ts_","textarea","scrollHeight","ui_notevue_type_script_lang_ts_","note_component","ui_note","selection_infovue_type_template_id_75b524c1_scoped_true_render","openEditDialog","tracker","changeValue","maxvalue","selection_infovue_type_template_id_75b524c1_scoped_true_staticRenderFns","edit_dialogvue_type_template_id_16427a8e_scoped_true_render","grid-column","updateShape","grid-column-start","setToken","setVisionBlocker","setMovementBlocker","owner","updateOwner","removeOwner","removeTracker","updateAuraColour","updateAuraVisionSource","removeAura","updateAnnotation","edit_dialogvue_type_template_id_16427a8e_scoped_true_staticRenderFns","edit_dialogvue_type_script_lang_ts_","addEmpty","redraw","asDict","temporary","setIsToken","checkVisionSources","setMovementBlock","hadAnnotation","an","hasLayer","oldValue","ownerIndex","tr","selection_edit_dialogvue_type_script_lang_ts_","edit_dialog_component","edit_dialog","selection_infovue_type_script_lang_ts_","edit-dialog","editDialog","ogValue","isNaN","selection_selection_infovue_type_script_lang_ts_","selection_info_component","selection_info","toolsvue_type_template_id_69cbb9be_scoped_true_render","tool","dmTools","refInFor","tool-selected","currentTool","toolsvue_type_template_id_69cbb9be_scoped_true_staticRenderFns","getMouse","getFogColour","opposite","rect_Rect","fillRect","lineWidth","text_Text","angle","save","dest","translate","rotate","textAlign","getLines","line","fillText","restore","resizeDir","lines","lineHeight","widths","allLines","maxWidth","targetLine","words","word","testLine","metrics","testWidth","annotation_AnnotationManager","shown","annotationText","annotationRect","getMaxWidth","getMaxHeight","circle_Circle","radius","stroke","circulartoken_CircularToken","textBaseline","xs","ys","transform","tinycolor","toHexString","line_Line","startPoint","endPoint","x2","y2","moveTo","lineTo","multiline_MultiLine","minx","maxx","miny","maxy","lineCap","lineJoin","createShapeFromDict","dummy","has","sh","circ","token","multiline","Image","startsWith","onload","manager_GameManager","selectedTool","annotationManager","oldShape","redrawInitiative","move","gameManager","game_manager","shapecontextvue_type_template_id_e2ea3ef2_scoped_true_render","getActiveLayer","getLayers","setLayer","moveToBack","moveToFront","addInitiative","getInitiativeWord","shapecontextvue_type_template_id_e2ea3ef2_scoped_true_staticRenderFns","contextmenuvue_type_template_id_128fccc8_render","contextmenuvue_type_template_id_128fccc8_staticRenderFns","contextmenuvue_type_script_lang_js_","components_contextmenuvue_type_script_lang_js_","contextmenu_component","shapecontextvue_type_script_lang_ts_","activeLayer","moveLayer","moveShapeOrder","getInitiativeRepr","selection_shapecontextvue_type_script_lang_ts_","shapecontext_component","shapecontext","createtoken_modalvue_type_template_id_2ebb16e9_scoped_true_render","borderColour","createtoken_modalvue_type_template_id_2ebb16e9_scoped_true_staticRenderFns","createtoken_modalvue_type_script_lang_ts_","watch","newValue","updatePreview","getContext","clearRect","tools_createtoken_modalvue_type_script_lang_ts_","createtoken_modal_component","createtoken_modal","drawvue_type_template_id_04c29104_scoped_true_render","--detailRight","detailRight","--detailArrow","detailArrow","option-selected","modeSelect","shapeSelect","max-width","brushSize","drawvue_type_template_id_04c29104_scoped_true_staticRenderFns","toolvue_type_template_id_22bcb02a_render","toolvue_type_template_id_22bcb02a_staticRenderFns","toolvue_type_script_lang_ts_","selected","$parent","$on","onMouseDown","onMouseUp","onMouseMove","onContextMenu","onDeselect","onSelect","tools_toolvue_type_script_lang_ts_","tool_component","drawvue_type_script_lang_ts_","brushHelper","modes","onModeChange","set","delete","fowLayer","normalLayer","setupBrush","removeShape","helperSize","altKey","resizeToGrid","tools_drawvue_type_script_lang_ts_","draw_component","mapvue_type_template_id_46457c2f_render","xCount","yCount","mapvue_type_template_id_46457c2f_staticRenderFns","mapvue_type_script_lang_ts_","tools_mapvue_type_script_lang_ts_","map_component","panvue_type_template_id_f2a859bc_render","panvue_type_template_id_f2a859bc_staticRenderFns","panvue_type_script_lang_ts_","panStart","mouse","increasePanX","increasePanY","tools_panvue_type_script_lang_ts_","pan_component","pan","rulervue_type_template_id_db85240c_render","rulervue_type_template_id_db85240c_staticRenderFns","rulervue_type_script_lang_ts_","ruler","diffsign","sign","xdiff","ydiff","label","atan2","xmid","ymid","tools_rulervue_type_script_lang_ts_","ruler_component","selectvue_type_template_id_e4054410_render","selectvue_type_template_id_e4054410_staticRenderFns","selectcontextvue_type_template_id_9e129ee8_scoped_true_render","bringPlayers","createToken","showInitiative","selectcontextvue_type_template_id_9e129ee8_scoped_true_staticRenderFns","selectcontextvue_type_script_lang_ts_","createtokendialog","$root","tools_selectcontextvue_type_script_lang_ts_","selectcontext_component","SelectOperations","selectcontext","selectvue_type_script_lang_ts_","ContextMenu","showContextMenu","Noop","resizeDirection","deltaChanged","dragRay","selectionStartPoint","selectionHelper","globalMouse","selectionStack","getCorner","selectionInfo","Resize","Drag","localRefPoint","GroupSelect","og","ogDelta","shiftKey","resize","bb","gm","body","snapToGrid","tools_selectvue_type_script_lang_ts_","select_component","tools_select","toolsvue_type_script_lang_ts_","select-tool","pan-tool","draw-tool","ruler-tool","map-tool","shape-menu","createtoken-dialog","tools","tagName","targetTool","button","buttons","setActiveText","tools_toolsvue_type_script_lang_ts_","tools_component","Settings","angleSteps","drawAngleLines","drawFirstLightHit","skipPlayerFOW","skipLightFOW","tempFill","layer_Layer","valid","selectionColor","selectionWidth","serverShape","lsI","lbI","mbI","anI","annotationIndex","ownedIndex","doClear","ogOP","clear","drawAuras","destinationIndex","oldIdx","fow_FOWLayer","preFogShapes","idx","originalOperation","dctx","lcenter","alm","light","auraLength","auraCircle","lastArcAngle","Path2D","firstPoint","anglePoint","cos","sin","lightRay","hitResult","preShape","ogComposite","fowplayers_FOWPlayersLayer","maxLength","tokenId","closePath","grid_GridLayer","createLayer","layerInfo","zIndex","player_editable","getElementById","appendChild","setShapes","destination","setRoomName","setRoomCreator","setInvitationCode","setUsername","setDM","setGridColour","grid_colour","setFOWColour","fow_colour","setRulerColour","ruler_colour","setPanX","pan_x","setPanY","pan_y","setZoomFactor","zoom_factor","active_layer","setLocationName","setUnitSize","setUseGrid","setFullFOW","setFOWOpacity","setLineOfSight","setCenterPosition","newNote","setAssets","locationInfo","setLocations","innerHTML","resetLayerInfo","setBoardInitialized","setGridSize","getActor","realShape","gamevue_type_script_lang_ts_","tool-bar","selection-info","prompt-dialog","confirm-dialog","menu-bar","initiative-dialog","zoom-slider","dist_default","note-dialog","updateZoom","files","dropAsset","game_gamevue_type_script_lang_ts_","game_component","vue_router_esm","router","base","routes","template","meta","beforeEach","matched","record","setAuthenticated","setInitialized","src_router","config","productionTip","$mount","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_confirm_vue_vue_type_style_index_0_id_7c994a10_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_confirm_vue_vue_type_style_index_0_id_7c994a10_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_createtoken_modal_vue_vue_type_style_index_0_id_2ebb16e9_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_createtoken_modal_vue_vue_type_style_index_0_id_2ebb16e9_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_menu_vue_vue_type_style_index_0_id_4bb01ba9_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_menu_vue_vue_type_style_index_0_id_4bb01ba9_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.e05fb360.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./colorpicker.vue?vue&type=style&index=0&id=2c377313&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./colorpicker.vue?vue&type=style&index=0&id=2c377313&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./initiative.vue?vue&type=style&index=0&id=942876ae&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./initiative.vue?vue&type=style&index=0&id=942876ae&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tools.vue?vue&type=style&index=0&id=69cbb9be&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tools.vue?vue&type=style&index=0&id=69cbb9be&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=style&index=0&id=3ac7fb3c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=style&index=0&id=3ac7fb3c&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_dialog.vue?vue&type=style&index=0&id=16427a8e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_dialog.vue?vue&type=style&index=0&id=16427a8e&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./prompt.vue?vue&type=style&index=0&id=619acb01&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./prompt.vue?vue&type=style&index=0&id=619acb01&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=1&id=af17832e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=1&id=af17832e&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset_node.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset_node.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selection_info.vue?vue&type=style&index=0&id=75b524c1&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selection_info.vue?vue&type=style&index=0&id=75b524c1&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shapecontext.vue?vue&type=style&index=0&id=e2ea3ef2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shapecontext.vue?vue&type=style&index=0&id=e2ea3ef2&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectcontext.vue?vue&type=style&index=0&id=9e129ee8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectcontext.vue?vue&type=style&index=0&id=9e129ee8&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=style&index=0&id=0f7d191f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=style&index=0&id=0f7d191f&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./draw.vue?vue&type=style&index=0&id=04c29104&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./draw.vue?vue&type=style&index=0&id=04c29104&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view',{ref:\"activeComponent\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3f062bf2&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"focusin\":_vm.focusin,\"focusout\":_vm.focusout,\"submit\":function($event){$event.preventDefault();return _vm.login($event)}}},[_c('fieldset',[_c('legend',{staticClass:\"legend\"},[_vm._v(\"PlanarAlly\")]),_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],attrs:{\"type\":\"text\",\"name\":\"username\",\"placeholder\":\"Username\",\"required\":\"\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}}),_vm._m(0)]),_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\",\"name\":\"password\",\"placeholder\":\"Password\",\"required\":\"\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_vm._m(1)]),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('button',{staticStyle:{\"visibility\":\"hidden\",\"display\":\"none\"},attrs:{\"type\":\"submit\",\"name\":\"login\"}}),_c('button',{staticClass:\"submit\",attrs:{\"type\":\"button\",\"name\":\"register\",\"title\":\"Register\"},on:{\"click\":_vm.register}},[_c('i',{staticClass:\"fas fa-plus\"})]),_vm._m(2)])]),(_vm.error)?_c('div',{staticClass:\"feedback\"},[_c('p',{staticClass:\"error\"},[_c('strong',[_vm._v(\"Error:\")]),_vm._v(_vm._s(_vm.error))])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"fas fa-user-circle\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"fas fa-lock\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"submit\",attrs:{\"type\":\"submit\",\"name\":\"login\",\"title\":\"Login\"}},[_c('i',{staticClass:\"fas fa-arrow-right\"})])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport axios, { AxiosError, AxiosResponse } from \"axios\";\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\n@Component\nexport default class Login extends Vue {\n    username = \"\";\n    password = \"\";\n    error = \"\";\n\n    login() {\n        axios\n            .post(\"/api/login\", {\n                username: this.username,\n                password: this.password,\n            })\n            .then((response: AxiosResponse) => {\n                this.$store.commit(\"setAuthenticated\", true);\n                this.$router.push(<string>this.$route.query.redirect || \"/\");\n            })\n            .catch((error: AxiosError) => {\n                if (error.response) this.error = error.response.statusText;\n                else this.error = \"Unknown error occured\";\n            });\n    }\n\n    register() {\n        axios\n            .post(\"/api/register\", {\n                username: this.username,\n                password: this.password,\n            })\n            .then((response: AxiosResponse) => {\n                this.$store.commit(\"setAuthenticated\", true);\n            })\n            .catch((error: AxiosError) => {\n                if (error.response) this.error = error.response.statusText;\n                else this.error = \"Unknown error occured\";\n            });\n    }\n\n    focusin(event: { target?: { nextElementSibling?: HTMLElement } }) {\n        if (event.target && event.target.nextElementSibling) {\n            const span = event.target.nextElementSibling;\n            span.style.opacity = \"0\";\n        }\n    }\n\n    focusout(event: { target?: { nextElementSibling?: HTMLElement } }) {\n        if (event.target && event.target.nextElementSibling) {\n            const span = event.target.nextElementSibling;\n            span.style.opacity = \"1\";\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=af17832e&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=ts&\"\nexport * from \"./login.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./login.vue?vue&type=style&index=1&id=af17832e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"af17832e\",\n  null\n  \n)\n\ncomponent.options.__file = \"login.vue\"\nexport default component.exports","import Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nimport { CoreState } from \"@/core/store\";\nimport { GameState } from \"@/game/store\";\n\nVue.use(Vuex);\n\nexport interface RootState {\n    core: CoreState;\n    game: GameState;\n}\n\nexport default new Vuex.Store<RootState>({});\n","import Axios from \"axios\";\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport store from \"@/store\";\nimport { Route } from \"vue-router\";\n\n@Component\nexport default class Logout extends Vue {\n    beforeRouteEnter(to: Route, from: Route, next: ({}) => {}) {\n        Axios.post(\"/api/logout\").then(() => {\n            store.commit(\"setAuthenticated\", false);\n            next({ path: \"/auth/login\" });\n        });\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\" \"+_vm._s(_vm.message)+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\nimport Vue from \"vue\";\n\nexport default Vue.component(\"Load\", {\n    data: () => ({\n        message: \"Loading...\",\n    }),\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./load.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./load.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./load.vue?vue&type=template&id=09531baa&\"\nimport script from \"./load.vue?vue&type=script&lang=ts&\"\nexport * from \"./load.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"load.vue\"\nexport default component.exports","import store from \"@/store\";\n\nimport { getModule, Module, Mutation, VuexModule } from \"vuex-module-decorators\";\n\nexport interface CoreState {\n    authenticated: boolean;\n    initialized: boolean;\n}\n\n@Module({ dynamic: true, store, name: \"core\" })\nclass CoreStore extends VuexModule {\n    authenticated = false;\n    initialized = false;\n\n    @Mutation\n    setAuthenticated(auth: boolean) {\n        this.authenticated = auth;\n    }\n\n    @Mutation\n    setInitialized(init: boolean) {\n        this.initialized = init;\n    }\n}\n\nexport default getModule(CoreStore);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"formcontainer\"}},[(_vm.owned || _vm.joined)?_c('form',[_c('fieldset',[_c('legend',{staticClass:\"legend\"},[_vm._v(\"Your sessions\")]),_c('div',{staticClass:\"input\"},[_vm._l((_vm.owned),function(room,i){return _c('router-link',{key:'o-'+i,attrs:{\"to\":'/game/' + room[1] + '/' + room[0]}},[_vm._v(_vm._s(room[0]))])}),_vm._l((_vm.joined),function(room,i){return _c('router-link',{key:'j-'+i,attrs:{\"to\":'/game/' + room[1] + '/' + room[0]}},[_vm._v(_vm._s(room[1])+\"/\"+_vm._s(room[0]))])})],2)])]):_vm._e(),_vm._m(0),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createRoom($event)}}},[_c('fieldset',[(!_vm.owned && !_vm.joined)?_c('legend',{staticClass:\"legend\"},[_vm._v(\"Create a session\")]):_c('div',{staticClass:\"input\"},[_vm._v(\"Create a new session\")]),_vm._m(1),_vm._m(2)])]),_c('div',{attrs:{\"id\":\"account-options\"}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('router-link',{staticClass:\"submit\",attrs:{\"tag\":\"button\",\"title\":\"Account Settings\",\"to\":\"/account\"}},[_c('i',{staticClass:\"fas fa-cog\"})])],1),_c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('router-link',{staticClass:\"submit\",attrs:{\"tag\":\"button\",\"title\":\"Logout\",\"to\":\"/auth/logout\"}},[_c('i',{staticClass:\"fas fa-sign-out-alt\"})])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h4',[_c('span',[_vm._v(\"OR\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input\"},[_c('input',{attrs:{\"type\":\"text\",\"name\":\"room_name\",\"placeholder\":\"Session Name\"}}),_c('span',[_c('i',{staticClass:\"fab fa-d-and-d\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"submit\",attrs:{\"type\":\"submit\",\"title\":\"Create\"}},[_c('i',{staticClass:\"fas fa-arrow-right\"})])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport axios, { AxiosError, AxiosResponse } from \"axios\";\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Route } from \"vue-router\";\n\nComponent.registerHooks([\"beforeRouteEnter\"]);\n\n@Component\nexport default class Dashboard extends Vue {\n    owned = [];\n    joined = [];\n    error = \"\";\n\n    beforeRouteEnter(to: Route, from: Route, next: ({}) => {}) {\n        axios\n            .get(\"/api/rooms\")\n            .then((response: AxiosResponse) => {\n                next((vm: this) => {\n                    vm.owned = response.data.owned;\n                    vm.joined = response.data.joined;\n                });\n            })\n            .catch((err: AxiosError) => {\n                next((vm: this) => {\n                    vm.error = err.message;\n                });\n            });\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=79d5db09&\"\nimport script from \"./main.vue?vue&type=script&lang=ts&\"\nexport * from \"./main.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"main.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"main\"},on:{\"mouseleave\":_vm.mouseleave}},[_c('menu-bar'),_c('div',{attrs:{\"id\":\"board\"}},[(_vm.ready.manager)?[_c('tool-bar',{ref:\"tools\"})]:_vm._e(),_c('div',{attrs:{\"id\":\"layers\"},on:{\"mousedown\":_vm.mousedown,\"mouseup\":_vm.mouseup,\"mousemove\":_vm.mousemove,\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.contextmenu($event)},\"dragover\":function($event){$event.preventDefault();},\"drop\":_vm.drop}}),(_vm.layers.length > 1)?_c('div',{attrs:{\"id\":\"layerselect\"}},[_c('ul',_vm._l((_vm.layers),function(layer){return _c('li',{key:layer.name,class:{ 'layer-selected': layer === _vm.selectedLayer },on:{\"click\":function($event){_vm.selectLayer(layer)}}},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(layer))])])}))]):_vm._e()],2),_c('selection-info',{ref:\"selectionInfo\"}),_c('initiative-dialog',{ref:\"initiative\",attrs:{\"id\":\"initiativedialog\"}}),_c('note-dialog',{ref:\"note\"}),_c('zoom-slider',{attrs:{\"id\":\"zoomer\",\"height\":6,\"width\":200,\"min\":0.1,\"max\":5.0,\"interval\":0.1,\"dot-width\":8,\"dot-height\":20,\"tooltip-dir\":'bottom',\"tooltip\":'hover',\"formatter\":_vm.zoomFactor.toFixed(1),\"slider-style\":{'border-radius': '15%'},\"bg-style\":{'background-color': '#fff', 'box-shadow': '0.5px 0.5px 3px 1px rgba(0, 0, 0, .36)'},\"process-style\":{'background-color': '#fff'}},model:{value:(_vm.zoomFactor),callback:function ($$v) {_vm.zoomFactor=$$v},expression:\"zoomFactor\"}}),_c('prompt-dialog',{ref:\"prompt\"}),_c('confirm-dialog',{ref:\"confirm\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"visible\":_vm.visible},on:{\"close\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(m){return _c('div',{staticClass:\"modal-header\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":m.dragStart,\"dragend\":m.dragEnd}},[_vm._v(\"\\n        \"+_vm._s(_vm.title)+\"\\n    \")])}}])},[_c('div',{staticClass:\"modal-body\"},[_c('button',{ref:\"confirm\",on:{\"click\":_vm.confirm}},[_vm._v(_vm._s(_vm.yes))]),(!!_vm.no)?_c('button',{on:{\"click\":_vm.deny}},[_vm._v(_vm._s(_vm.no))]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"modal\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"mask\",class:{'modal-mask': _vm.mask, 'dialog-mask': !_vm.mask},on:{\"click\":_vm.close,\"dragover\":function($event){$event.preventDefault();return _vm.dragOver($event)}}},[_c('div',{ref:\"container\",staticClass:\"modal-container\",on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._t(\"header\",null,{dragStart:_vm.dragStart,dragEnd:_vm.dragEnd}),_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nexport default Vue.extend({\n    props: {\n        visible: Boolean,\n        mask: {\n            type: Boolean,\n            default: true,\n        },\n    },\n    data: () => ({\n        positioned: false,\n        offsetX: 0,\n        offsetY: 0,\n        screenX: 0,\n        screenY: 0,\n        dragging: false,\n    }),\n    // Example of mounted required: opening note\n    mounted() {\n        this.updatePosition();\n    },\n    // Example of updated required: opening initiative\n    updated() {\n        this.updatePosition();\n    },\n    methods: {\n        close(event: MouseEvent) {\n            this.$emit(\"close\");\n        },\n        updatePosition() {\n            if (!this.positioned) {\n                const container = <any>this.$refs.container;\n                if (container.offsetWidth === 0 && container.offsetHeight === 0) return;\n                (<any>this.$refs.container).style.left = (window.innerWidth - container.offsetWidth) / 2 + \"px\";\n                (<any>this.$refs.container).style.top = (window.innerHeight - container.offsetHeight) / 2 + \"px\";\n                this.positioned = true;\n            }\n        },\n        dragStart(event: DragEvent) {\n            if (event === null || event.dataTransfer === null) return;\n            event.dataTransfer.setData(\"Hack\", \"\");\n            // Because the drag event is happening on the header, we have to change the drag image\n            // in order to give the impression that the entire modal is dragged.\n            event.dataTransfer.setDragImage(<Element>this.$refs.container, event.offsetX, event.offsetY);\n            this.offsetX = event.offsetX;\n            this.offsetY = event.offsetY;\n            this.screenX = event.screenX;\n            this.screenY = event.screenY;\n            this.dragging = true;\n        },\n        dragEnd(event: DragEvent) {\n            this.dragging = false;\n            let left = event.clientX - this.offsetX;\n            let top = event.clientY - this.offsetY;\n            if (event.clientX === 0 && event.clientY === 0 && event.pageX === 0 && event.pageY === 0) {\n                left = parseInt((<any>this.$refs.container).style.left, 10) - (this.screenX - event.screenX);\n                top = parseInt((<any>this.$refs.container).style.top, 10) - (this.screenY - event.screenY);\n            }\n            if (left < 0) left = 0;\n            if (left > window.innerWidth - 100) left = window.innerWidth - 100;\n            if (top < 0) top = 0;\n            if (top > window.innerHeight - 100) top = window.innerHeight - 100;\n            (<any>this.$refs.container).style.left = left + \"px\";\n            (<any>this.$refs.container).style.top = top + \"px\";\n            (<any>this.$refs.container).style.display = \"block\";\n        },\n        dragOver(event: DragEvent) {\n            if (this.dragging) (<any>this.$refs.container).style.display = \"none\";\n        },\n    },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./modal.vue?vue&type=template&id=0f7d191f&scoped=true&\"\nimport script from \"./modal.vue?vue&type=script&lang=ts&\"\nexport * from \"./modal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./modal.vue?vue&type=style&index=0&id=0f7d191f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f7d191f\",\n  null\n  \n)\n\ncomponent.options.__file = \"modal.vue\"\nexport default component.exports","<template>\n    <modal :visible=\"visible\" @close=\"close\">\n        <div\n            class='modal-header'\n            slot='header'\n            slot-scope='m'\n            draggable=\"true\"\n            @dragstart=\"m.dragStart\"\n            @dragend=\"m.dragEnd\"\n        >\n            {{ title }}\n        </div>\n        <div class='modal-body'>\n            <button @click=\"confirm\" ref=\"confirm\">{{ yes }}</button>\n            <button @click=\"deny\" v-if=\"!!no\">{{ no }}</button>\n        </div>\n    </modal>\n</template>\n\n<script>\nimport modal from \"@/core/components/modals/modal.vue\";\nexport default {\n    components: {\n        modal,\n    },\n    data: () => ({\n        visible: false,\n        yes: \"Yes\",\n        no: \"No\",\n        title: \"\",\n    }),\n    methods: {\n        confirm() {\n            this.resolve(true);\n            this.close();\n        },\n        deny() {\n            this.resolve(false);\n            this.close();\n        },\n        close() {\n            this.reject();\n            this.visible = false;\n            this.title = \"\";\n        },\n        open(title, yes, no) {\n            this.yes = yes === undefined ? \"Yes\" : yes;\n            this.no = no === undefined ? \"No\" : no;\n            this.title = title;\n\n            this.visible = true;\n            this.$nextTick(\n                function() {\n                    this.$refs.confirm.focus();\n                }.bind(this),\n            );\n\n            return new Promise((resolve, reject) => {\n                this.resolve = resolve;\n                this.reject = reject;\n            });\n        },\n    },\n};\n</script>\n\n<style scoped>\n.modal-header {\n    background-color: #ff7052;\n    padding: 10px;\n    font-size: 20px;\n    font-weight: bold;\n    cursor: move;\n}\n\n.modal-body {\n    padding: 10px;\n    display: flex;\n    justify-content: flex-end;\n}\n\nbutton:first-of-type {\n    margin-right: 10px;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./confirm.vue?vue&type=template&id=7c994a10&scoped=true&\"\nimport script from \"./confirm.vue?vue&type=script&lang=js&\"\nexport * from \"./confirm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./confirm.vue?vue&type=style&index=0&id=7c994a10&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c994a10\",\n  null\n  \n)\n\ncomponent.options.__file = \"confirm.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"visible\":_vm.visible},on:{\"close\":_vm.close},scopedSlots:_vm._u([{key:\"header\",fn:function(m){return _c('div',{staticClass:\"modal-header\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":m.dragStart,\"dragend\":m.dragEnd}},[_vm._v(\"\\n        \"+_vm._s(_vm.title)+\"\\n    \")])}}])},[_c('div',{staticClass:\"modal-body\"},[_vm._v(\"\\n        \"+_vm._s(_vm.question)+\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.answer),expression:\"answer\"}],ref:\"answer\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.answer)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.answer=$event.target.value}}})]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{on:{\"click\":_vm.submit}},[_vm._v(\"Submit\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <modal :visible=\"visible\" @close=\"close\">\n        <div\n            class='modal-header'\n            slot='header'\n            slot-scope='m'\n            draggable=\"true\"\n            @dragstart=\"m.dragStart\"\n            @dragend=\"m.dragEnd\"\n        >\n            {{ title }}\n        </div>\n        <div class='modal-body'>\n            {{ question }} <input type='text' ref='answer' v-model=\"answer\" @keyup.enter=\"submit\">\n        </div>\n        <div class='modal-footer'>\n            <button @click=\"submit\">Submit</button>\n        </div>\n    </modal>\n</template>\n\n<script>\nimport modal from \"@/core/components/modals/modal.vue\";\nexport default {\n    components: {\n        modal,\n    },\n    data: () => ({\n        visible: false,\n        question: \"\",\n        answer: \"\",\n        title: \"\",\n    }),\n    methods: {\n        submit() {\n            this.resolve(this.answer);\n            this.close();\n        },\n        close() {\n            this.reject();\n            this.visible = false;\n            this.question = \"\";\n            this.answer = \"\";\n            this.title = \"\";\n        },\n        prompt(question, title) {\n            this.question = question;\n            this.title = title;\n            this.visible = true;\n            this.$nextTick(\n                function() {\n                    this.$refs.answer.focus();\n                }.bind(this),\n            );\n            return new Promise((resolve, reject) => {\n                this.resolve = resolve;\n                this.reject = reject;\n            });\n        },\n    },\n};\n</script>\n\n<style scoped>\n.modal-header {\n    background-color: #ff7052;\n    padding: 10px;\n    font-size: 20px;\n    font-weight: bold;\n    cursor: move;\n}\n\n.modal-body {\n    padding: 10px;\n    padding-bottom: 0;\n    display: flex;\n    justify-content: space-between;\n}\n\n.modal-footer {\n    padding-top: 0;\n    padding: 10px;\n    text-align: right;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./prompt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./prompt.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./prompt.vue?vue&type=template&id=619acb01&scoped=true&\"\nimport script from \"./prompt.vue?vue&type=script&lang=js&\"\nexport * from \"./prompt.vue?vue&type=script&lang=js&\"\nimport style0 from \"./prompt.vue?vue&type=style&index=0&id=619acb01&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"619acb01\",\n  null\n  \n)\n\ncomponent.options.__file = \"prompt.vue\"\nexport default component.exports","/*\nThis module defines some Point classes.\nA strong focus is made to ensure that at no time a global and a local point are mixed up with each other.\nAt first glance this adds weird looking hacks as ts does not support nominal typing.\n*/\n\nexport function getPointDistance(p1: Point, p2: Point) {\n    const a = p1.x - p2.x;\n    const b = p1.y - p2.y;\n    return Math.sqrt(a * a + b * b);\n}\n\nexport class Point {\n    x: number;\n    y: number;\n    constructor(x: number, y: number) {\n        this.x = x;\n        this.y = y;\n    }\n    add(vec: Vector) {\n        return new Point(this.x + vec.x, this.y + vec.y);\n    }\n    subtract(other: Point) {\n        return new Vector(this.x - other.x, this.y - other.y);\n    }\n    clone(): Point {\n        return new Point(this.x, this.y);\n    }\n    get(dimension: 0 | 1) {\n        if (dimension === 0) return this.x;\n        return this.y;\n    }\n}\nexport class GlobalPoint extends Point {\n    // This is to differentiate with LocalPoint, is actually never used\n    // We do ! to prevent errors that it never gets initialized\n    // tslint:disable-next-line:variable-name\n    _GlobalPoint!: string;\n    add(vec: Vector): GlobalPoint {\n        return <GlobalPoint>super.add(vec);\n    }\n    subtract(other: GlobalPoint): Vector {\n        return super.subtract(other);\n    }\n    clone(): GlobalPoint {\n        return <GlobalPoint>super.clone();\n    }\n}\n\nexport class LocalPoint extends Point {\n    // This is to differentiate with GlobalPoint, is actually never used\n    // We do ! to prevent errors that it never gets initialized\n    // tslint:disable-next-line:variable-name\n    _LocalPoint!: string;\n    add(vec: Vector): LocalPoint {\n        return <LocalPoint>super.add(vec);\n    }\n    subtract(other: LocalPoint): Vector {\n        return super.subtract(other);\n    }\n    clone(): LocalPoint {\n        return <LocalPoint>super.clone();\n    }\n}\n\nexport class Vector {\n    readonly x: number;\n    readonly y: number;\n    constructor(x: number, y: number) {\n        this.x = x;\n        this.y = y;\n    }\n    dot(other: Vector) {\n        return this.x * other.x + this.y * other.y;\n    }\n    inverse() {\n        return new Vector(1 / this.x, 1 / this.y);\n    }\n    length() {\n        return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));\n    }\n    normalize() {\n        const l = this.length();\n        return new Vector(this.x / l, this.y / l);\n    }\n    reverse() {\n        return new Vector(-this.x, -this.y);\n    }\n    multiply(scale: number) {\n        return new Vector(this.x * scale, this.y * scale);\n    }\n}\n\nexport class Ray<T extends Point> {\n    readonly direction: Vector;\n    readonly origin: T;\n    tMax: number;\n    constructor(origin: T, direction: Vector, tMax?: number) {\n        this.direction = direction;\n        this.origin = origin;\n        if (tMax === undefined) tMax = Infinity;\n        this.tMax = tMax;\n    }\n    static fromPoints<T extends Point>(p1: T, p2: T): Ray<T> {\n        const vec = new Vector(p2.x - p1.x, p2.y - p1.y);\n        let maxT;\n        if (Math.abs(vec.x) > 0.01) maxT = (p2.x - p1.x) / vec.x;\n        else maxT = (p2.y - p1.y) / vec.y;\n        return new Ray(p1, vec, maxT);\n    }\n    get(t: number): T {\n        return <T>new Point(this.origin.x + t * this.direction.x, this.origin.y + t * this.direction.y);\n    }\n    getDistance(t1: number, t2: number) {\n        return Math.sqrt(Math.pow(t2 - t1, 2) * (Math.pow(this.direction.x, 2) + Math.pow(this.direction.y, 2)));\n    }\n    getT(t1: number, distance: number) {\n        return t1 + Math.sqrt(Math.pow(distance, 2) / (Math.pow(this.direction.x, 2) + Math.pow(this.direction.y, 2)));\n    }\n}\n","import { GlobalPoint, Point, Ray, Vector } from \"@/game/geom\";\n\nexport default class BoundingRect {\n    readonly w: number;\n    readonly h: number;\n    readonly topLeft: GlobalPoint;\n    readonly topRight: GlobalPoint;\n    readonly botRight: GlobalPoint;\n    readonly botLeft: GlobalPoint;\n\n    constructor(topleft: GlobalPoint, w: number, h: number) {\n        this.w = w;\n        this.h = h;\n        this.topLeft = topleft;\n        this.topRight = new GlobalPoint(topleft.x + w, topleft.y);\n        this.botRight = new GlobalPoint(topleft.x + w, topleft.y + h);\n        this.botLeft = new GlobalPoint(topleft.x, topleft.y + h);\n    }\n\n    contains(point: GlobalPoint): boolean {\n        return (\n            this.topLeft.x <= point.x &&\n            this.topRight.x >= point.x &&\n            this.topLeft.y <= point.y &&\n            this.botLeft.y >= point.y\n        );\n    }\n\n    offset(vector: Vector): BoundingRect {\n        return new BoundingRect(this.topLeft.add(vector), this.w, this.h);\n    }\n\n    union(other: BoundingRect): BoundingRect {\n        const xmin = Math.min(this.topLeft.x, other.topLeft.x);\n        const xmax = Math.max(this.topRight.x, other.topRight.x);\n        const ymin = Math.min(this.topLeft.y, other.topLeft.y);\n        const ymax = Math.max(this.botLeft.y, other.botLeft.y);\n        return new BoundingRect(new GlobalPoint(xmin, ymin), xmax - xmin, ymax - ymin);\n    }\n\n    getDiagCorner(botright: boolean) {\n        return botright ? this.botRight : this.topLeft;\n    }\n\n    intersectsWith(other: BoundingRect): boolean {\n        return !(\n            other.topLeft.x > this.topRight.x ||\n            other.topRight.x < this.topLeft.x ||\n            other.topLeft.y > this.botLeft.y ||\n            other.botLeft.y < this.topLeft.y\n        );\n    }\n\n    intersectsWithInner(other: BoundingRect): boolean {\n        return !(\n            other.topLeft.x >= this.topRight.x ||\n            other.topRight.x <= this.topLeft.x ||\n            other.topLeft.y >= this.botLeft.y ||\n            other.botLeft.y <= this.topLeft.y\n        );\n    }\n\n    intersectP(ray: Ray<Point>, invDir: Vector, dirIsNeg: boolean[]) {\n        let txmin = invDir.x * (this.getDiagCorner(dirIsNeg[0]).x - ray.origin!.x);\n        let txmax = invDir.x * (this.getDiagCorner(!dirIsNeg[0]).x - ray.origin!.x);\n        const tymin = invDir.y * (this.getDiagCorner(dirIsNeg[1]).y - ray.origin!.y);\n        const tymax = invDir.y * (this.getDiagCorner(!dirIsNeg[1]).y - ray.origin!.y);\n        if (txmin > tymax || tymin > txmax) return { hit: false, min: txmin, max: txmax };\n        if (tymin > txmin) txmin = tymin;\n        if (tymax < txmax) txmax = tymax;\n        return { hit: txmin < ray.tMax! && txmax > 0, min: txmin, max: txmax };\n    }\n\n    center(): GlobalPoint;\n    center(centerPoint: GlobalPoint): void;\n    center(centerPoint?: GlobalPoint): GlobalPoint | void {\n        if (centerPoint === undefined) return this.topLeft.add(new Vector(this.w / 2, this.h / 2));\n        this.topLeft.x = centerPoint.x - this.w / 2;\n        this.topLeft.y = centerPoint.y - this.h / 2;\n    }\n    inCorner(point: GlobalPoint, corner: string) {\n        const sw = Math.min(6, this.w / 2) / 2;\n        switch (corner) {\n            case \"ne\":\n                return (\n                    this.topRight.x - sw <= point.x &&\n                    point.x <= this.topRight.x + sw &&\n                    this.topLeft.y - sw <= point.y &&\n                    point.y <= this.topLeft.y + sw\n                );\n            case \"nw\":\n                return (\n                    this.topLeft.x - sw <= point.x &&\n                    point.x <= this.topLeft.x + sw &&\n                    this.topLeft.y - sw <= point.y &&\n                    point.y <= this.topLeft.y + sw\n                );\n            case \"sw\":\n                return (\n                    this.topLeft.x - sw <= point.x &&\n                    point.x <= this.topLeft.x + sw &&\n                    this.botLeft.y - sw <= point.y &&\n                    point.y <= this.botLeft.y + sw\n                );\n            case \"se\":\n                return (\n                    this.topRight.x - sw <= point.x &&\n                    point.x <= this.topRight.x + sw &&\n                    this.botLeft.y - sw <= point.y &&\n                    point.y <= this.botLeft.y + sw\n                );\n            default:\n                return false;\n        }\n    }\n    getCorner(point: GlobalPoint): string | undefined {\n        if (this.inCorner(point, \"ne\")) return \"ne\";\n        else if (this.inCorner(point, \"nw\")) return \"nw\";\n        else if (this.inCorner(point, \"se\")) return \"se\";\n        else if (this.inCorner(point, \"sw\")) return \"sw\";\n    }\n\n    getMaxExtent() {\n        return this.w > this.h ? 0 : 1;\n    }\n}\n","import io from \"socket.io-client\";\nimport { Route } from \"vue-router\";\n\nconst socket = io(location.protocol + \"//\" + location.host + \"/planarally\", { autoConnect: false });\n\nexport function createConnection(route: Route) {\n    socket.io.opts.query = `user=${route.params.creator}&room=${route.params.room}`;\n    socket.connect();\n}\n\nexport default socket;\n","import Vue from \"vue\";\n\nimport vm from \"@/main\";\n\n// Reference: https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\nexport function uuidv4() {\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, c => {\n        const r = (Math.random() * 16) | 0;\n        const v = c === \"x\" ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\n\nexport function capitalize(text: string) {\n    return text.charAt(0).toUpperCase() + text.slice(1);\n}\n\nexport function alphSort(a: string, b: string) {\n    if (a.toLowerCase() < b.toLowerCase()) return -1;\n    else return 1;\n}\n\nexport function getHTMLFont(element: HTMLElement) {\n    let font = element.style.font;\n    while (font === null && element.parentElement !== null) {\n        element = element.parentElement;\n        font = element.style.font;\n    }\n    if (font === null) font = window.getComputedStyle(document.body).getPropertyValue(\"font\");\n    return font;\n}\n\nexport function getHTMLTextWidth(text: string, font: string): number {\n    let fakeElement = <HTMLCanvasElement>document.getElementById(\"emptycanvas\");\n    if (fakeElement === null) {\n        fakeElement = document.createElement(\"canvas\");\n        fakeElement.id = \"emptycanvas\";\n        fakeElement.style.display = \"\";\n        document.body.appendChild(fakeElement);\n    }\n    const ctx = fakeElement.getContext(\"2d\")!;\n    ctx.font = font;\n    return Math.ceil(ctx.measureText(text).width);\n}\n\nexport function partition<T>(arr: T[], predicate: (n: T) => boolean) {\n    const ret: T[][] = [[], []];\n    arr.forEach(n => (predicate(n) ? ret[1].push(n) : ret[0].push(n)));\n    return ret;\n}\n\nexport function calcFontScale(ctx: CanvasRenderingContext2D, text: string, width: number, height: number) {\n    const points = Number(ctx.font.split(\"px\")[0]) * 0.2;\n    const fontWidth = ctx.measureText(text).width;\n    return Math.min(width / fontWidth, height / points);\n}\n\nexport function fixedEncodeURIComponent(str: string) {\n    return encodeURIComponent(str).replace(/[!'()*]/g, c => {\n        return \"%\" + c.charCodeAt(0).toString(16);\n    });\n}\n\nexport class OrderedMap<K, V> {\n    keys: K[] = [];\n    values: V[] = [];\n    get(key: K) {\n        return this.values[this.keys.indexOf(key)];\n    }\n    getIndexValue(idx: number) {\n        return this.values[idx];\n    }\n    getIndexKey(idx: number) {\n        return this.keys[idx];\n    }\n    set(key: K, value: V) {\n        this.keys.push(key);\n        this.values.push(value);\n    }\n    indexOf(element: K) {\n        return this.keys.indexOf(element);\n    }\n    remove(element: K) {\n        const idx = this.indexOf(element);\n        this.keys.splice(idx, 1);\n        this.values.splice(idx, 1);\n    }\n}\n\nexport function getRef(ref: string): any {\n    const active = <Vue>vm.$children[0].$refs.activeComponent;\n    return active.$refs[ref];\n}\n","import BoundingRect from \"@/game/shapes/boundingrect\";\n\nexport class BoundingNode {\n    bbox: BoundingRect;\n    nPrimitives: number;\n    children: BoundingNode[] = [];\n    constructor(nPrimitives: number, bbox: BoundingRect) {\n        this.nPrimitives = nPrimitives;\n        this.bbox = bbox;\n    }\n}\n\nexport class LeafNode extends BoundingNode {\n    firstPrimOffset: number;\n    constructor(first: number, n: number, bbox: BoundingRect) {\n        super(n, bbox);\n        this.firstPrimOffset = first;\n    }\n}\n\nexport class InteriorNode extends BoundingNode {\n    dimension: number;\n    constructor(dimension: number, c1: BoundingNode, c2: BoundingNode) {\n        super(0, c1.bbox.union(c2.bbox));\n        this.dimension = dimension;\n        this.children.push(c1);\n        this.children.push(c2);\n    }\n}\n","import store from \"@/game/store\";\n\nimport { GlobalPoint, LocalPoint, Ray } from \"@/game/geom\";\n\nexport function g2l(obj: GlobalPoint): LocalPoint {\n    const z = store.zoomFactor;\n    const panX = store.panX;\n    const panY = store.panY;\n    return new LocalPoint((obj.x + panX) * z, (obj.y + panY) * z);\n}\n\nexport function g2lx(x: number) {\n    return g2l(new GlobalPoint(x, 0)).x;\n}\n\nexport function g2ly(y: number) {\n    return g2l(new GlobalPoint(0, y)).y;\n}\n\nexport function g2lz(z: number) {\n    return z * store.zoomFactor;\n}\n\nexport function getUnitDistance(r: number) {\n    return (r / store.unitSize) * store.gridSize;\n}\n\nexport function g2lr(r: number) {\n    return g2lz(getUnitDistance(r));\n}\n\nexport function l2g(obj: LocalPoint): GlobalPoint;\nexport function l2g(obj: Ray<LocalPoint>): Ray<GlobalPoint>;\nexport function l2g(obj: LocalPoint | Ray<LocalPoint>): GlobalPoint | Ray<GlobalPoint> {\n    const z = store.zoomFactor;\n    const panX = store.panX;\n    const panY = store.panY;\n    if (obj instanceof LocalPoint) {\n        return new GlobalPoint(obj.x / z - panX, obj.y / z - panY);\n    } else {\n        return new Ray<GlobalPoint>(l2g(obj.origin), obj.direction.multiply(1 / z), obj.tMax);\n    }\n}\n\nexport function l2gx(x: number) {\n    return l2g(new LocalPoint(x, 0)).x;\n}\n\nexport function l2gy(y: number) {\n    return l2g(new LocalPoint(0, y)).y;\n}\n\nexport function l2gz(z: number) {\n    return z / store.zoomFactor;\n}\n\nexport function l2gr(r: number) {\n    return l2gz(getUnitDistance(r));\n}\n","import layerManager from \"@/game/layers/manager\";\nimport BoundingRect from \"@/game/shapes/boundingrect\";\n\nimport { partition } from \"@/core/utils\";\nimport { BoundingNode, InteriorNode, LeafNode } from \"@/game/bvh/node\";\nimport { GlobalPoint, Ray } from \"@/game/geom\";\nimport { g2lx, g2ly, g2lz } from \"@/game/units\";\n\ninterface BuildInfo {\n    index: number;\n    bbox: BoundingRect;\n    center: BoundingRect;\n}\ninterface LinearBHVNode {\n    bbox: BoundingRect;\n    nPrimitives: number;\n}\ninterface LinearLeafNode extends LinearBHVNode {\n    primitivesOffset: number;\n}\ninterface LinearInternalNode extends LinearBHVNode {\n    secondChildOffset: number;\n    dimension: number;\n}\n\nclass BoundingVolume {\n    totalNodes = 0;\n    buildData: BuildInfo[] = [];\n    shapes: string[];\n    orderedPrims: string[] = [];\n    root: BoundingNode | null;\n    nodes: LinearBHVNode[] = [];\n\n    offset = 0;\n\n    constructor(shapes: string[]) {\n        this.shapes = shapes;\n        if (this.shapes.length === 0) {\n            this.root = null;\n            this.nodes = [];\n            return;\n        }\n        for (let i = 0; i < shapes.length; i++) {\n            const shape = layerManager.UUIDMap.get(shapes[i])!;\n            this.buildData.push({\n                index: i,\n                bbox: shape.getBoundingBox(),\n                center: new BoundingRect(shape.center(), 0, 0),\n            });\n        }\n        this.root = this.recursiveBuild(0, shapes.length);\n        this.compact();\n    }\n\n    draw() {\n        const ctx = layerManager.getLayer(\"draw\")!.ctx;\n        for (const node of this.nodes) {\n            const b = node.bbox;\n            ctx.strokeRect(g2lx(b.topLeft.x), g2ly(b.topLeft.y), g2lz(b.w), g2lz(b.h));\n        }\n    }\n\n    recursiveBuild(start: number, end: number): BoundingNode {\n        this.totalNodes++;\n        let bbox = this.buildData[start].bbox;\n        for (let i = start + 1; i < end; i++) bbox = bbox.union(this.buildData[i].bbox);\n        const nPrimitives = end - start;\n        if (nPrimitives === 1) {\n            return this.createLeaf(start, end, nPrimitives, bbox);\n        } else {\n            let centroidBbox = this.buildData[start].center;\n            for (let i = start; i < end; i++) centroidBbox = centroidBbox.union(this.buildData[i].center);\n            const dimension = centroidBbox.getMaxExtent();\n            if (centroidBbox.botRight.get(dimension) === centroidBbox.topLeft.get(dimension)) {\n                return this.createLeaf(start, end, nPrimitives, bbox);\n            }\n            // Use shitty Middle thingy until an introselect js algo is added\n            const pMid = 0.5 * (centroidBbox.topLeft.get(dimension) + centroidBbox.botRight.get(dimension));\n            const partitionedData = partition(\n                this.buildData.slice(start, end),\n                (n: BuildInfo) => n.center.center().get(dimension) < pMid,\n            );\n            const flattened = [].concat.apply([], partitionedData);\n            if (partitionedData[0].length === 0 || partitionedData[1].length === 0) console.log(\"EMPTY\");\n            this.buildData.splice(start, flattened.length, ...flattened);\n            const mid = partitionedData[0].length + start;\n            return new InteriorNode(dimension, this.recursiveBuild(start, mid), this.recursiveBuild(mid, end));\n        }\n    }\n\n    intersect(ray: Ray<GlobalPoint>, stopOnFirstHit?: boolean) {\n        if (this.nodes.length === 0) return { hit: false, intersect: ray.get(0), tMin: 0, tMax: ray.tMax };\n        if (stopOnFirstHit === undefined) stopOnFirstHit = false;\n        // Initialize return values\n        let hit = false;\n        let tMin = 0;\n        let tMax = ray.tMax;\n\n        // Initialize work variables\n        let todoOffset = 0;\n        let nodeNum = 0;\n        const todo: number[] = [];\n\n        // Precalculate intersection vectors\n        const invDir = ray.direction.inverse();\n        const dirIsNegative = [invDir.x < 0, invDir.y < 0];\n\n        while (true) {\n            const node = this.nodes[nodeNum];\n\n            const i = node.bbox.intersectP(ray, invDir, dirIsNegative);\n            if (i.hit) {\n                if (node.nPrimitives > 0) {\n                    // TODO: nPrimitives is currently always 1 , this could be generalised\n                    // for (let i=0; i < node.nPrimitives; i++) {\n                    //     if (this.shapes[(<LinearLeafNode>node).primitivesOffset + i])\n                    // }\n                    hit = true;\n                    tMin = ray.tMax = i.min;\n                    tMax = i.max;\n                    if (todoOffset === 0 || stopOnFirstHit) break;\n                    nodeNum = todo[--todoOffset];\n                } else {\n                    if (dirIsNegative[(<LinearInternalNode>node).dimension]) {\n                        todo[todoOffset++] = nodeNum + 1;\n                        nodeNum = (<LinearInternalNode>node).secondChildOffset;\n                    } else {\n                        todo[todoOffset++] = (<LinearInternalNode>node).secondChildOffset;\n                        nodeNum++;\n                    }\n                }\n            } else {\n                if (todoOffset === 0) break;\n                nodeNum = todo[--todoOffset];\n            }\n        }\n        return { hit, intersect: ray.get(tMin), tMin, tMax };\n    }\n\n    private compact() {\n        this.offset = 0;\n        if (this.root !== null) this.flatten(this.root);\n    }\n\n    private flatten(node: BoundingNode) {\n        const index = this.offset;\n        const myOffset = this.offset++;\n        if (node.nPrimitives === 0) {\n            this.flatten(node.children[0]);\n            const secondOffset = this.flatten(node.children[1]);\n            this.nodes[index] = <LinearInternalNode>{\n                bbox: node.bbox,\n                dimension: (<InteriorNode>node).dimension,\n                nPrimitives: 0,\n                secondChildOffset: secondOffset,\n            };\n        } else {\n            this.nodes[index] = <LinearLeafNode>{\n                bbox: node.bbox,\n                primitivesOffset: (<LeafNode>node).firstPrimOffset,\n                nPrimitives: node.nPrimitives,\n            };\n        }\n        return myOffset;\n    }\n\n    private createLeaf(start: number, end: number, nPrimitives: number, bbox: BoundingRect) {\n        const size = this.orderedPrims.length;\n        for (let i = start; i < end; i++) this.orderedPrims.push(this.shapes[this.buildData[i].index]);\n        return new LeafNode(size, nPrimitives, bbox);\n    }\n}\n\nexport default BoundingVolume;\n","import socket from \"@/game/api/socket\";\n\nexport function sendClientOptions() {\n    // socket.emit(\"Client.Options.Set\", {\n    //     locationOptions: {\n    //         panX: store.state.game.panX,\n    //         panY: store.state.game.panY,\n    //         zoomFactor: store.state.game.zoomFactor,\n    //     },\n    // });\n}\n","// import Vuex from \"vuex\";\nimport { Action, getModule, Module, Mutation, VuexModule } from \"vuex-module-decorators\";\n\nimport socket from \"@/game/api/socket\";\nimport BoundingVolume from \"@/game/bvh/bvh\";\nimport layerManager from \"@/game/layers/manager\";\nimport store from \"@/store\";\n\nimport { AssetList } from \"@/core/comm/types\";\nimport { sendClientOptions } from \"@/game/api/utils\";\nimport { Note } from \"@/game/comm/types/general\";\nimport { GlobalPoint } from \"@/game/geom\";\nimport { g2l, l2g } from \"@/game/units\";\n\nexport interface GameState {\n    boardInitialized: boolean;\n}\n\n@Module({ dynamic: true, store, name: \"game\", namespaced: true })\nclass GameStore extends VuexModule {\n    // This is a limited view of selectable layers that is used to generate the layer selection UI and ability to switch layers\n    // See the layerManager for proper layer management tools\n    layers: string[] = [];\n    selectedLayerIndex = -1;\n    boardInitialized = false;\n\n    locations: string[] = [];\n\n    assets: AssetList = {};\n\n    notes: Note[] = [];\n\n    IS_DM = false;\n    gridSize = 50;\n    username = \"\";\n    roomName = \"\";\n    roomCreator = \"\";\n    invitationCode = \"\";\n\n    gridColour = \"rgba(0, 0, 0, 1)\";\n    fowColour = \"rgba(0, 0, 0, 1)\";\n    rulerColour = \"rgba(255, 0, 0, 1)\";\n    panX = 0;\n    panY = 0;\n    zoomFactor = 1;\n\n    unitSize = 5;\n    useGrid = true;\n    fullFOW = false;\n    fowOpacity = 0.3;\n    fowLOS = false;\n    locationName = \"\";\n\n    visionSources: { shape: string; aura: string }[] = [];\n    visionBlockers: string[] = [];\n    annotations: string[] = [];\n    movementblockers: string[] = [];\n    ownedtokens: string[] = [];\n\n    BV = new BoundingVolume([]);\n\n    get selectedLayer() {\n        return this.layers[this.selectedLayerIndex];\n    }\n\n    @Mutation\n    setBoardInitialized(boardInitialized: boolean) {\n        this.boardInitialized = boardInitialized;\n    }\n\n    @Mutation\n    setDM(isDM: boolean) {\n        this.IS_DM = isDM;\n    }\n\n    @Mutation\n    setUsername(username: string) {\n        this.username = username;\n    }\n\n    @Mutation\n    setRoomName(name: string) {\n        this.roomName = name;\n    }\n\n    @Mutation\n    setRoomCreator(name: string) {\n        this.roomCreator = name;\n    }\n\n    @Mutation\n    setInvitationCode(code: string) {\n        this.invitationCode = code;\n    }\n\n    @Mutation\n    addLayer(name: string) {\n        this.layers.push(name);\n        if (this.selectedLayerIndex === -1) this.selectedLayerIndex = this.layers.indexOf(name);\n    }\n\n    @Mutation\n    selectLayer(name: string, sync: boolean) {\n        const index = this.layers.indexOf(name);\n        if (index >= 0) this.selectedLayerIndex = index;\n        if (sync) socket.emit(\"Client.ActiveLayer.Set\", name);\n    }\n\n    @Mutation\n    newNote(note: Note, sync: boolean) {\n        this.notes.push(note);\n        if (sync) socket.emit(\"Note.New\", note);\n    }\n\n    @Mutation\n    setAssets(assets: AssetList) {\n        this.assets = assets;\n    }\n\n    @Mutation\n    setLocations(locations: string[]) {\n        this.locations = locations;\n    }\n\n    @Mutation\n    resetLayerInfo() {\n        this.layers = [];\n        this.selectedLayerIndex = -1;\n    }\n\n    @Mutation\n    recalculateBV() {\n        if (this.boardInitialized) this.BV = new BoundingVolume(this.visionBlockers);\n    }\n\n    @Mutation\n    updateZoom(newZoomValue: number, zoomLocation: GlobalPoint) {\n        if (newZoomValue === this.zoomFactor) return;\n        if (newZoomValue < 0.1) newZoomValue = 0.1;\n        if (newZoomValue > 5) newZoomValue = 5;\n\n        const oldLoc = g2l(zoomLocation);\n\n        this.zoomFactor = newZoomValue;\n\n        const newLoc = l2g(oldLoc);\n\n        // Change the pan settings to keep the zoomLocation in the same exact location before and after the zoom.\n        const diff = newLoc.subtract(zoomLocation);\n        this.panX += diff.x;\n        this.panY += diff.y;\n\n        layerManager.invalidate();\n        sendClientOptions();\n    }\n\n    @Mutation\n    setGridColour(colour: string, sync: boolean) {\n        this.gridColour = colour;\n        layerManager.getGridLayer()!.drawGrid();\n        if (sync) socket.emit(\"Client.Options.Set\", { gridColour: colour });\n    }\n\n    @Mutation\n    setFOWColour(colour: string, sync: boolean) {\n        this.fowColour = colour;\n        layerManager.invalidate();\n        if (sync) socket.emit(\"Client.Options.Set\", { fowColour: colour });\n    }\n\n    @Mutation\n    setRulerColour(colour: string, sync: boolean) {\n        this.rulerColour = colour;\n        if (sync) socket.emit(\"Client.Options.Set\", { rulerColour: colour });\n    }\n\n    @Mutation\n    setPanX(x: number) {\n        this.panX = x;\n    }\n\n    @Mutation\n    setPanY(y: number) {\n        this.panY = y;\n    }\n\n    @Mutation\n    setZoomFactor(zoomFactor: number) {\n        this.zoomFactor = zoomFactor;\n    }\n\n    @Mutation\n    increasePanX(increase: number) {\n        this.panX += increase;\n    }\n\n    @Mutation\n    increasePanY(increase: number) {\n        this.panY += increase;\n    }\n\n    @Mutation\n    setUnitSize(unitSize: number, sync: boolean) {\n        if (this.unitSize !== unitSize) {\n            this.unitSize = unitSize;\n            if (layerManager.getGridLayer() !== undefined) layerManager.getGridLayer()!.drawGrid();\n            if (sync) socket.emit(\"Location.Options.Set\", { unit_size: unitSize });\n        }\n    }\n\n    @Mutation\n    setUseGrid(useGrid: boolean, sync: boolean) {\n        if (this.useGrid !== useGrid) {\n            this.useGrid = useGrid;\n            const gridLayer = layerManager.getGridLayer()!;\n            if (useGrid) gridLayer.canvas.style.display = \"block\";\n            else gridLayer.canvas.style.display = \"none\";\n            if (sync) socket.emit(\"Location.Options.Set\", { use_grid: useGrid });\n        }\n    }\n\n    @Mutation\n    setGridSize(gridSize: number, sync: boolean): void {\n        if (this.gridSize !== gridSize && gridSize > 0) {\n            this.gridSize = gridSize;\n            const gridLayer = layerManager.getGridLayer();\n            if (gridLayer !== undefined) gridLayer.drawGrid();\n            if (sync) socket.emit(\"Gridsize.Set\", gridSize);\n        }\n    }\n\n    @Mutation\n    setFullFOW(fullFOW: boolean, sync: boolean) {\n        if (this.fullFOW !== fullFOW) {\n            this.fullFOW = fullFOW;\n            layerManager.invalidateLight();\n            if (sync) socket.emit(\"Location.Options.Set\", { full_fow: fullFOW });\n        }\n    }\n\n    @Mutation\n    setFOWOpacity(fowOpacity: number, sync: boolean) {\n        this.fowOpacity = fowOpacity;\n        layerManager.invalidateLight();\n        if (sync) socket.emit(\"Location.Options.Set\", { fow_opacity: fowOpacity });\n    }\n\n    @Mutation\n    setLineOfSight(fowLOS: boolean, sync: boolean) {\n        if (this.fowLOS !== fowLOS) {\n            this.fowLOS = fowLOS;\n            layerManager.invalidate();\n            if (sync) socket.emit(\"Location.Options.Set\", { fow_los: fowLOS });\n        }\n    }\n\n    @Mutation\n    setLocationName(name: string) {\n        this.locationName = name;\n    }\n\n    @Mutation\n    updateNote(note: Note, sync: boolean) {\n        const actualNote = this.notes.find(n => n.uuid === note.uuid);\n        if (actualNote === undefined) return;\n        actualNote.title = note.title;\n        actualNote.text = note.text;\n        if (sync) socket.emit(\"Note.Update\", actualNote);\n    }\n\n    @Mutation\n    removeNote(note: Note, sync: boolean) {\n        this.notes = this.notes.filter(n => n.uuid !== note.uuid);\n        if (sync) socket.emit(\"Note.Remove\", note.uuid);\n    }\n\n    @Action\n    clear() {\n        this.context.getters.visionSources = [];\n        this.context.getters.visionBlockers = [];\n        this.context.getters.ownedtokens = [];\n        this.context.getters.annotations = [];\n        this.context.getters.movementblockers = [];\n        this.context.commit(\"recalculateBV\");\n    }\n}\n\nexport default getModule(GameStore);\n","import { ServerAura } from \"@/game/comm/types/shapes\";\n\nexport const aurasFromServer = (auras: ServerAura[]): Aura[] => {\n    const result = [];\n    for (const aura of auras) {\n        result.push({\n            uuid: aura.uuid,\n            visionSource: aura.vision_source,\n            visible: aura.visible,\n            name: aura.name,\n            value: aura.value,\n            dim: aura.dim,\n            colour: aura.colour,\n        });\n    }\n    return result;\n};\n\nexport const aurasToServer = (auras: Aura[]): ServerAura[] => {\n    const result = [];\n    for (const aura of auras) {\n        result.push({\n            uuid: aura.uuid,\n            vision_source: aura.visionSource,\n            visible: aura.visible,\n            name: aura.name,\n            value: aura.value,\n            dim: aura.dim,\n            colour: aura.colour,\n        });\n    }\n    return result;\n};\n","import tinycolor from \"tinycolor2\";\n\nimport socket from \"@/game/api/socket\";\nimport layerManager from \"@/game/layers/manager\";\nimport BoundingRect from \"@/game/shapes/boundingrect\";\nimport store from \"@/game/store\";\n\nimport { uuidv4 } from \"@/core/utils\";\nimport { aurasFromServer, aurasToServer } from \"@/game/comm/conversion/aura\";\nimport { InitiativeData } from \"@/game/comm/types/general\";\nimport { ServerShape } from \"@/game/comm/types/shapes\";\nimport { GlobalPoint, LocalPoint } from \"@/game/geom\";\nimport { g2l, g2lr, g2lx, g2ly, g2lz } from \"@/game/units\";\n\nexport default abstract class Shape {\n    // Used to create class instance from server shape data\n    protected abstract type: string;\n    // The unique ID of this shape\n    uuid: string;\n    // The layer the shape is currently on\n    layer!: string;\n\n    // A reference point regarding that specific shape's structure\n    refPoint: GlobalPoint;\n\n    // Fill colour of the shape\n    fillColour: string = \"#000\";\n    strokeColour: string = \"rgba(0,0,0,0)\";\n    // The optional name associated with the shape\n    name = \"Unknown shape\";\n\n    // Associated trackers/auras/owners\n    trackers: Tracker[] = [];\n    auras: Aura[] = [];\n    owners: string[] = [];\n\n    // Block light sources\n    visionObstruction = false;\n    // Prevent shapes from overlapping with this shape\n    movementObstruction = false;\n    // Does this shape represent a playable token\n    isToken = false;\n    // Show a highlight box\n    showHighlight = false;\n\n    // Mouseover annotation\n    annotation: string = \"\";\n\n    // Draw modus to use\n    globalCompositeOperation: string = \"source-over\";\n\n    // Additional options for specialized uses\n    options: Map<string, any> = new Map();\n\n    constructor(refPoint: GlobalPoint, fillColour?: string, strokeColour?: string, uuid?: string) {\n        this.refPoint = refPoint;\n        this.uuid = uuid || uuidv4();\n        if (fillColour !== undefined) this.fillColour = fillColour;\n        if (strokeColour !== undefined) this.strokeColour = strokeColour;\n    }\n\n    abstract getBoundingBox(): BoundingRect;\n\n    // If inWorldCoord is\n    abstract contains(point: GlobalPoint): boolean;\n\n    abstract center(): GlobalPoint;\n    abstract center(centerPoint: GlobalPoint): void;\n    abstract getCorner(point: GlobalPoint): string | undefined;\n    visibleInCanvas(canvas: HTMLCanvasElement): boolean {\n        // for (const aura of this.auras) {\n        //     if (aura.value > 0) {\n        //         const auraCircle = new Circle(this.center(), aura.value);\n        //         if (auraCircle.visibleInCanvas(canvas)) return true;\n        //     }\n        // }\n        return false;\n    }\n\n    // Code to snap a shape to the grid\n    // This is shape dependent as the shape refPoints are shape specific in\n    abstract snapToGrid(): void;\n    abstract resizeToGrid(): void;\n    abstract resize(resizeDir: string, point: LocalPoint): void;\n\n    invalidate(skipLightUpdate: boolean) {\n        const l = layerManager.getLayer(this.layer);\n        if (l) l.invalidate(skipLightUpdate);\n    }\n\n    checkVisionSources() {\n        const self = this;\n        const obstructionIndex = store.visionBlockers.indexOf(this.uuid);\n        let changeBV = false;\n        if (this.visionObstruction && obstructionIndex === -1) {\n            store.visionBlockers.push(this.uuid);\n            changeBV = true;\n        } else if (!this.visionObstruction && obstructionIndex >= 0) {\n            store.visionBlockers.splice(obstructionIndex, 1);\n            changeBV = true;\n        }\n        if (changeBV) store.recalculateBV();\n\n        // Check if the visionsource auras are in the gameManager\n        this.auras.forEach(au => {\n            const ls = store.visionSources;\n            const i = ls.findIndex(o => o.aura === au.uuid);\n            if (au.visionSource && i === -1) {\n                ls.push({ shape: self.uuid, aura: au.uuid });\n            } else if (!au.visionSource && i >= 0) {\n                ls.splice(i, 1);\n            }\n        });\n        // Check if anything in the gameManager referencing this shape is in fact still a visionsource\n        for (let i = store.visionSources.length - 1; i >= 0; i--) {\n            const ls = store.visionSources[i];\n            if (ls.shape === self.uuid) {\n                if (!self.auras.some(a => a.uuid === ls.aura && a.visionSource)) store.visionSources.splice(i, 1);\n            }\n        }\n    }\n\n    setMovementBlock(blocksMovement: boolean) {\n        this.movementObstruction = blocksMovement || false;\n        const obstructionIndex = store.movementblockers.indexOf(this.uuid);\n        if (this.movementObstruction && obstructionIndex === -1) store.movementblockers.push(this.uuid);\n        else if (!this.movementObstruction && obstructionIndex >= 0) store.movementblockers.splice(obstructionIndex, 1);\n    }\n\n    setIsToken(isToken: boolean) {\n        this.isToken = isToken;\n        if (this.ownedBy()) {\n            const i = store.ownedtokens.indexOf(this.uuid);\n            if (this.isToken && i === -1) store.ownedtokens.push(this.uuid);\n            else if (!this.isToken && i >= 0) store.ownedtokens.splice(i, 1);\n        }\n    }\n\n    ownedBy(username?: string) {\n        if (username === undefined) username = store.username;\n        return store.IS_DM || this.owners.includes(username);\n    }\n\n    abstract asDict(): ServerShape;\n    getBaseDict(): ServerShape {\n        return {\n            type_: this.type,\n            uuid: this.uuid,\n            x: this.refPoint.x,\n            y: this.refPoint.y,\n            layer: this.layer,\n            draw_operator: this.globalCompositeOperation,\n            movement_obstruction: this.movementObstruction,\n            vision_obstruction: this.visionObstruction,\n            auras: aurasToServer(this.auras),\n            trackers: this.trackers,\n            owners: this.owners,\n            fill_colour: this.fillColour,\n            stroke_colour: this.strokeColour,\n            name: this.name,\n            annotation: this.annotation,\n            is_token: this.isToken,\n            options: JSON.stringify([...this.options]),\n        };\n    }\n    fromDict(data: ServerShape) {\n        this.layer = data.layer;\n        this.globalCompositeOperation = data.draw_operator;\n        this.movementObstruction = data.movement_obstruction;\n        this.visionObstruction = data.vision_obstruction;\n        this.auras = aurasFromServer(data.auras);\n        this.trackers = data.trackers;\n        this.owners = data.owners;\n        this.isToken = data.is_token;\n        if (data.annotation) this.annotation = data.annotation;\n        if (data.name) this.name = data.name;\n        if (data.options) this.options = new Map(JSON.parse(data.options));\n    }\n\n    draw(ctx: CanvasRenderingContext2D) {\n        if (this.globalCompositeOperation !== undefined) ctx.globalCompositeOperation = this.globalCompositeOperation;\n        else ctx.globalCompositeOperation = \"source-over\";\n        if (this.showHighlight) {\n            const bbox = this.getBoundingBox();\n            ctx.strokeStyle = \"red\";\n            ctx.strokeRect(g2lx(bbox.topLeft.x) - 5, g2ly(bbox.topLeft.y) - 5, g2lz(bbox.w) + 10, g2lz(bbox.h) + 10);\n        }\n    }\n\n    drawAuras(ctx: CanvasRenderingContext2D) {\n        for (const aura of this.auras) {\n            if (aura.value === 0 && aura.dim === 0) return;\n            ctx.beginPath();\n\n            const loc = g2l(this.center());\n            const innerRange = g2lr(aura.value + aura.dim);\n\n            if (aura.dim === 0) ctx.fillStyle = aura.colour;\n            else {\n                const gradient = ctx.createRadialGradient(\n                    loc.x,\n                    loc.y,\n                    g2lr(aura.value),\n                    loc.x,\n                    loc.y,\n                    g2lr(aura.value + aura.dim),\n                );\n                const tc = tinycolor(aura.colour);\n                ctx.fillStyle = gradient;\n                gradient.addColorStop(0, aura.colour);\n                gradient.addColorStop(1, tc.setAlpha(0).toRgbString());\n            }\n            if (!aura.visionSource || aura.lastPath === undefined) {\n                ctx.arc(loc.x, loc.y, innerRange, 0, 2 * Math.PI);\n                ctx.fill();\n            } else {\n                try {\n                    ctx.fill(aura.lastPath);\n                } catch (e) {\n                    ctx.arc(loc.x, loc.y, innerRange, 0, 2 * Math.PI);\n                    ctx.fill();\n                    console.warn(e);\n                }\n            }\n        }\n    }\n\n    getInitiativeRepr(): InitiativeData {\n        return {\n            uuid: this.uuid,\n            visible: !store.IS_DM,\n            group: false,\n            source: this.name,\n            has_img: false,\n            effects: [],\n            index: Infinity,\n        };\n    }\n\n    moveLayer(layer: string, sync: boolean) {\n        const oldLayer = layerManager.getLayer(this.layer);\n        const newLayer = layerManager.getLayer(layer);\n        if (oldLayer === undefined || newLayer === undefined) return;\n        this.layer = layer;\n        // Update layer shapes\n        oldLayer.shapes.splice(oldLayer.shapes.indexOf(this), 1);\n        newLayer.shapes.push(this);\n        // Revalidate layers  (light should at most be redone once)\n        oldLayer.invalidate(true);\n        newLayer.invalidate(false);\n        // Sync!\n        if (sync) socket.emit(\"Shape.Layer.Change\", { uuid: this.uuid, layer });\n    }\n}\n","import layerManager from \"@/game/layers/manager\";\nimport Shape from \"@/game/shapes/shape\";\nimport store from \"@/game/store\";\n\nimport { Ray, Vector } from \"@/game/geom\";\n\n// First go through each shape in the selection and see if the delta has to be truncated due to movement blockers\n\n// This is definitely super convoluted and inefficient but I was tired and really wanted the smooth wall sliding collision stuff to work\n// And it does now, so hey ¯\\_(ツ)_/¯\nexport function calculateDelta(delta: Vector, sel: Shape, done?: string[]) {\n    if (done === undefined) done = [];\n    const ogSelBBox = sel.getBoundingBox();\n    const newSelBBox = ogSelBBox.offset(delta);\n    let refine = false;\n    for (const movementBlocker of store.movementblockers) {\n        if (done.includes(movementBlocker)) continue;\n        const blocker = layerManager.UUIDMap.get(movementBlocker)!;\n        const blockerBBox = blocker.getBoundingBox();\n        let found = blockerBBox.intersectsWithInner(newSelBBox);\n        if (!found) {\n            // This is an edge case, precalculating the rays is not worth in this case.\n            const ray = Ray.fromPoints(ogSelBBox.topLeft.add(delta.normalize()), newSelBBox.topLeft);\n            const invDir = ray.direction.inverse();\n            const dirIsNegative = [invDir.x < 0, invDir.y < 0];\n            found = blockerBBox.intersectP(ray, invDir, dirIsNegative).hit;\n        }\n        // Check if the bounding box of our destination would intersect with the bounding box of the movementblocker\n        if (found) {\n            const bCenter = blockerBBox.center();\n            const sCenter = ogSelBBox.center();\n\n            const d = sCenter.subtract(bCenter);\n            const ux = new Vector(1, 0);\n            const uy = new Vector(0, 1);\n            let dx = d.dot(ux);\n            let dy = d.dot(uy);\n            if (dx > blockerBBox.w / 2) dx = blockerBBox.w / 2;\n            if (dx < -blockerBBox.w / 2) dx = -blockerBBox.w / 2;\n            if (dy > blockerBBox.h / 2) dy = blockerBBox.h / 2;\n            if (dy < -blockerBBox.h / 2) dy = -blockerBBox.h / 2;\n\n            // Closest point / intersection point between the two bboxes.  Not the delta intersect!\n            const p = bCenter.add(ux.multiply(dx)).add(uy.multiply(dy));\n\n            if (p.x === ogSelBBox.topLeft.x || p.x === ogSelBBox.topRight.x) delta = new Vector(0, delta.y);\n            else if (p.y === ogSelBBox.topLeft.y || p.y === ogSelBBox.botLeft.y) delta = new Vector(delta.x, 0);\n            else {\n                if (p.x < ogSelBBox.topLeft.x) delta = new Vector(p.x - ogSelBBox.topLeft.x, delta.y);\n                else if (p.x > ogSelBBox.topRight.x) delta = new Vector(p.x - ogSelBBox.topRight.x, delta.y);\n                else if (p.y < ogSelBBox.topLeft.y) delta = new Vector(delta.x, p.y - ogSelBBox.topLeft.y);\n                else if (p.y > ogSelBBox.botLeft.y) delta = new Vector(delta.x, p.y - ogSelBBox.botLeft.y);\n            }\n            refine = true;\n            done.push(movementBlocker);\n            break;\n        }\n    }\n    if (refine) delta = calculateDelta(delta, sel, done);\n    return delta;\n}\n","import BoundingRect from \"@/game/shapes/boundingrect\";\nimport Shape from \"@/game/shapes/shape\";\nimport store from \"@/game/store\";\n\nimport { GlobalPoint, LocalPoint, Vector } from \"@/game/geom\";\nimport { calculateDelta } from \"@/game/ui/tools/utils\";\nimport { g2lx, g2ly, l2g, l2gx, l2gy } from \"@/game/units\";\nexport default abstract class BaseRect extends Shape {\n    w: number;\n    h: number;\n    constructor(topleft: GlobalPoint, w: number, h: number, fillColour?: string, strokeColour?: string, uuid?: string) {\n        super(topleft, fillColour, strokeColour, uuid);\n        this.w = w;\n        this.h = h;\n    }\n    getBaseDict() {\n        return Object.assign(super.getBaseDict(), {\n            width: this.w,\n            height: this.h,\n        });\n    }\n    getBoundingBox() {\n        return new BoundingRect(this.refPoint, this.w, this.h);\n    }\n    contains(point: GlobalPoint): boolean {\n        return (\n            this.refPoint.x <= point.x &&\n            this.refPoint.x + this.w >= point.x &&\n            this.refPoint.y <= point.y &&\n            this.refPoint.y + this.h >= point.y\n        );\n    }\n    inCorner(point: GlobalPoint, corner: string) {\n        switch (corner) {\n            case \"ne\":\n                return (\n                    this.refPoint.x + this.w - 3 <= point.x &&\n                    point.x <= this.refPoint.x + this.w + 3 &&\n                    this.refPoint.y - 3 <= point.y &&\n                    point.y <= this.refPoint.y + 3\n                );\n            case \"nw\":\n                return (\n                    this.refPoint.x - 3 <= point.x &&\n                    point.x <= this.refPoint.x + 3 &&\n                    this.refPoint.y - 3 <= point.y &&\n                    point.y <= this.refPoint.y + 3\n                );\n            case \"sw\":\n                return (\n                    this.refPoint.x - 3 <= point.x &&\n                    point.x <= this.refPoint.x + 3 &&\n                    this.refPoint.y + this.h - 3 <= point.y &&\n                    point.y <= this.refPoint.y + this.h + 3\n                );\n            case \"se\":\n                return (\n                    this.refPoint.x + this.w - 3 <= point.x &&\n                    point.x <= this.refPoint.x + this.w + 3 &&\n                    this.refPoint.y + this.h - 3 <= point.y &&\n                    point.y <= this.refPoint.y + this.h + 3\n                );\n            default:\n                return false;\n        }\n    }\n    getCorner(point: GlobalPoint): string | undefined {\n        if (this.inCorner(point, \"ne\")) return \"ne\";\n        else if (this.inCorner(point, \"nw\")) return \"nw\";\n        else if (this.inCorner(point, \"se\")) return \"se\";\n        else if (this.inCorner(point, \"sw\")) return \"sw\";\n    }\n    center(): GlobalPoint;\n    center(centerPoint: GlobalPoint): void;\n    center(centerPoint?: GlobalPoint): GlobalPoint | void {\n        if (centerPoint === undefined) return this.refPoint.add(new Vector(this.w / 2, this.h / 2));\n        this.refPoint.x = centerPoint.x - this.w / 2;\n        this.refPoint.y = centerPoint.y - this.h / 2;\n    }\n\n    visibleInCanvas(canvas: HTMLCanvasElement): boolean {\n        if (super.visibleInCanvas(canvas)) return true;\n        const coreVisible = !(\n            g2lx(this.refPoint.x) > canvas.width ||\n            g2ly(this.refPoint.y) > canvas.height ||\n            g2lx(this.refPoint.x + this.w) < 0 ||\n            g2ly(this.refPoint.y + this.h) < 0\n        );\n        if (coreVisible) return true;\n        return false;\n    }\n    snapToGrid() {\n        const gs = store.gridSize;\n        const center = this.center();\n        const mx = center.x;\n        const my = center.y;\n\n        let targetX;\n        let targetY;\n\n        if ((this.w / gs) % 2 === 0) {\n            targetX = Math.round(mx / gs) * gs - this.w / 2;\n        } else {\n            targetX = (Math.round((mx + gs / 2) / gs) - 1 / 2) * gs - this.w / 2;\n        }\n        if ((this.h / gs) % 2 === 0) {\n            targetY = Math.round(my / gs) * gs - this.h / 2;\n        } else {\n            targetY = (Math.round((my + gs / 2) / gs) - 1 / 2) * gs - this.h / 2;\n        }\n\n        const delta = calculateDelta(new Vector(targetX - this.refPoint.x, targetY - this.refPoint.y), this);\n        this.refPoint = this.refPoint.add(delta);\n\n        this.invalidate(false);\n    }\n    resizeToGrid() {\n        const gs = store.gridSize;\n        this.refPoint.x = Math.round(this.refPoint.x / gs) * gs;\n        this.refPoint.y = Math.round(this.refPoint.y / gs) * gs;\n        this.w = Math.max(Math.round(this.w / gs) * gs, gs);\n        this.h = Math.max(Math.round(this.h / gs) * gs, gs);\n        this.invalidate(false);\n    }\n    resize(resizedir: string, point: LocalPoint) {\n        const z = store.zoomFactor;\n        if (resizedir === \"nw\") {\n            this.w = g2lx(this.refPoint.x) + this.w * z - point.x;\n            this.h = g2ly(this.refPoint.y) + this.h * z - point.y;\n            this.refPoint = l2g(point);\n        } else if (resizedir === \"ne\") {\n            this.w = point.x - g2lx(this.refPoint.x);\n            this.h = g2ly(this.refPoint.y) + this.h * z - point.y;\n            this.refPoint.y = l2gy(point.y);\n        } else if (resizedir === \"se\") {\n            this.w = point.x - g2lx(this.refPoint.x);\n            this.h = point.y - g2ly(this.refPoint.y);\n        } else if (resizedir === \"sw\") {\n            this.w = g2lx(this.refPoint.x) + this.w * z - point.x;\n            this.h = point.y - g2ly(this.refPoint.y);\n            this.refPoint.x = l2gx(point.x);\n        }\n        this.w /= z;\n        this.h /= z;\n\n        if (this.w < 0) {\n            this.refPoint.x += this.w;\n            this.w = Math.abs(this.w);\n        }\n        if (this.h < 0) {\n            this.refPoint.y += this.h;\n            this.h = Math.abs(this.h);\n        }\n    }\n}\n","import BaseRect from \"@/game/shapes/baserect\";\nimport store from \"@/game/store\";\n\nimport { InitiativeData } from \"@/game/comm/types/general\";\nimport { ServerAsset } from \"@/game/comm/types/shapes\";\nimport { GlobalPoint } from \"@/game/geom\";\nimport { g2lx, g2ly, g2lz } from \"@/game/units\";\n\nexport default class Asset extends BaseRect {\n    type = \"assetrect\";\n    img: HTMLImageElement;\n    src: string = \"\";\n    constructor(img: HTMLImageElement, topleft: GlobalPoint, w: number, h: number, uuid?: string) {\n        super(topleft, w, h);\n        if (uuid !== undefined) this.uuid = uuid;\n        this.img = img;\n    }\n    asDict() {\n        return Object.assign(this.getBaseDict(), {\n            src: this.src,\n        });\n    }\n    fromDict(data: ServerAsset) {\n        super.fromDict(data);\n        this.src = data.src;\n    }\n    draw(ctx: CanvasRenderingContext2D) {\n        super.draw(ctx);\n        try {\n            ctx.drawImage(this.img, g2lx(this.refPoint.x), g2ly(this.refPoint.y), g2lz(this.w), g2lz(this.h));\n        } catch (error) {\n            console.warn(`Shape ${this.uuid} could not load the image ${this.src}`);\n        }\n    }\n    getInitiativeRepr(): InitiativeData {\n        return {\n            uuid: this.uuid,\n            visible: !store.IS_DM,\n            group: false,\n            source: this.src,\n            has_img: true,\n            effects: [],\n            index: Infinity,\n        };\n    }\n}\n","import Asset from \"@/game/shapes/asset\";\nimport Shape from \"@/game/shapes/shape\";\nimport store from \"@/game/store\";\n\nimport { GlobalPoint } from \"@/game/geom\";\nimport { GridLayer } from \"@/game/layers/grid\";\nimport { Layer } from \"@/game/layers/layer\";\nimport { l2gx, l2gy, l2gz } from \"@/game/units\";\n\nclass LayerManager {\n    layers: Layer[] = [];\n    width = window.innerWidth;\n    height = window.innerHeight;\n\n    UUIDMap: Map<string, Shape> = new Map();\n\n    // Refresh interval and redraw setter.\n    interval = 30;\n\n    constructor() {\n        const lm = this;\n        setInterval(() => {\n            for (let i = lm.layers.length - 1; i >= 0; i--) {\n                lm.layers[i].draw();\n            }\n        }, this.interval);\n    }\n\n    setWidth(width: number): void {\n        this.width = width;\n        for (const layer of this.layers) {\n            layer.canvas.width = width;\n            layer.width = width;\n        }\n    }\n\n    setHeight(height: number): void {\n        this.height = height;\n        for (const layer of this.layers) {\n            layer.canvas.height = height;\n            layer.height = height;\n        }\n    }\n\n    addLayer(layer: Layer): void {\n        this.layers.push(layer);\n        if (!store.IS_DM && !layer.playerEditable) return;\n        if (layer.selectable) store.addLayer(layer.name);\n    }\n\n    hasLayer(name: string): boolean {\n        return this.layers.some(l => l.name === name);\n    }\n\n    getLayer(name?: string) {\n        name = name === undefined ? store.selectedLayer : name;\n        for (const layer of this.layers) {\n            if (layer.name === name) return layer;\n        }\n    }\n\n    selectLayer(name: string, sync: boolean = true): void {\n        let found = false;\n        for (const layer of this.layers) {\n            if (!layer.selectable) continue;\n            if (found && layer.name !== \"fow\") layer.ctx.globalAlpha = 0.3;\n            else layer.ctx.globalAlpha = 1.0;\n\n            if (name === layer.name) {\n                store.selectLayer(name, sync);\n                found = true;\n            }\n\n            layer.clearSelection();\n            layer.invalidate(true);\n        }\n    }\n\n    getGridLayer(): GridLayer | undefined {\n        return <GridLayer>this.getLayer(\"grid\");\n    }\n\n    hasSelection() {\n        const selection = this.getSelection();\n        return selection !== undefined && selection.length > 0;\n    }\n\n    // THIS INCLUDES POTENTIALLY THE SelectTool.SelectionHelper !!!\n    getSelection() {\n        const layer = this.getLayer();\n        if (layer === undefined) return undefined;\n        return layer.selection;\n    }\n\n    invalidate(): void {\n        for (let i = this.layers.length - 1; i >= 0; i--) {\n            this.layers[i].invalidate(true);\n        }\n    }\n\n    invalidateLight() {\n        for (let i = this.layers.length - 1; i >= 0; i--)\n            if (this.layers[i].isVisionLayer) this.layers[i].invalidate(true);\n    }\n\n    dropAsset(event: DragEvent) {\n        const layer = this.getLayer();\n        if (layer === undefined || event === null || event.dataTransfer === null) return;\n        const image = document.createElement(\"img\");\n        image.src = event.dataTransfer.getData(\"text/plain\");\n        const asset = new Asset(\n            image,\n            new GlobalPoint(l2gx(event.clientX), l2gy(event.clientY)),\n            l2gz(image.width),\n            l2gz(image.height),\n        );\n        asset.src = new URL(image.src).pathname;\n\n        if (store.useGrid) {\n            const gs = store.gridSize;\n            asset.refPoint.x = Math.round(asset.refPoint.x / gs) * gs;\n            asset.refPoint.y = Math.round(asset.refPoint.y / gs) * gs;\n            asset.w = Math.max(Math.round(asset.w / gs) * gs, gs);\n            asset.h = Math.max(Math.round(asset.h / gs) * gs, gs);\n        }\n\n        layer.addShape(asset, true);\n    }\n}\n\nexport default new LayerManager();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"visible\":_vm.visible,\"mask\":false},on:{\"close\":function($event){_vm.visible = false}},scopedSlots:_vm._u([{key:\"header\",fn:function(m){return _c('div',{staticClass:\"modal-header\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":m.dragStart,\"dragend\":m.dragEnd}},[_c('div',[_vm._v(\"Initiative\")]),_c('div',{staticClass:\"header-close\",on:{\"click\":function($event){_vm.visible = false}}},[_c('i',{staticClass:\"far fa-window-close\"})])])}}])},[_c('div',{staticClass:\"modal-body\"},[_c('draggable',{attrs:{\"id\":\"initiative-list\",\"options\":{setData: _vm.fakeSetData, disabled: !_vm.$store.state.game.IS_DM}},on:{\"change\":_vm.updateOrder},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}},[_vm._l((_vm.data),function(actor){return [_c('div',{key:actor.uuid,staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"align-items\":\"flex-end\"}},[_c('div',{staticClass:\"initiative-actor\",class:{'initiative-selected': _vm.currentActor === actor.uuid},style:({'cursor': _vm.$store.state.game.IS_DM && 'move'}),on:{\"mouseenter\":function($event){_vm.toggleHighlight(actor, true)},\"mouseleave\":function($event){_vm.toggleHighlight(actor, false)}}},[(actor.has_img)?[_c('img',{attrs:{\"src\":actor.source,\"width\":\"30px\",\"height\":\"30px\"}})]:[_c('span',{staticStyle:{\"width\":\"auto\"}},[_vm._v(_vm._s(actor.source))])],_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy.number\",value:(actor.initiative),expression:\"actor.initiative\",modifiers:{\"lazy\":true,\"number\":true}}],class:{'notAllowed': !_vm.owns(actor)},attrs:{\"type\":\"text\",\"placeholder\":\"value\",\"disabled\":!_vm.owns(actor)},domProps:{\"value\":(actor.initiative)},on:{\"change\":[function($event){_vm.$set(actor, \"initiative\", _vm._n($event.target.value))},function($event){_vm.syncInitiative(actor)}],\"blur\":function($event){_vm.$forceUpdate()}}}),_c('div',{staticClass:\"initiative-effects-icon\",class:{'notAllowed': !_vm.owns(actor)},staticStyle:{\"opacity\":\"0.6\"},on:{\"click\":function($event){_vm.createEffect(actor, _vm.getDefaultEffect(), true)}}},[_c('i',{staticClass:\"fas fa-stopwatch\"}),(actor.effects)?[_vm._v(_vm._s(actor.effects.length))]:[_vm._v(\"0\")]],2),_c('div',{class:{'notAllowed': !_vm.owns(actor)},style:({'opacity': actor.visible ? '1.0' : '0.3'}),on:{\"click\":function($event){_vm.toggleOption(actor, 'visible')}}},[_c('i',{staticClass:\"fas fa-eye\"})]),_c('div',{class:{'notAllowed': !_vm.owns(actor)},style:({'opacity': actor.group ? '1.0' : '0.3'}),on:{\"click\":function($event){_vm.toggleOption(actor, 'group')}}},[_c('i',{staticClass:\"fas fa-users\"})]),_c('div',{class:{'notAllowed': !_vm.owns(actor)},style:({'opacity': _vm.owns(actor) ? '1.0' : '0.3'}),on:{\"click\":function($event){_vm.removeInitiative(actor.uuid, true, true)}}},[_c('i',{staticClass:\"fas fa-trash-alt\"})])],2),(actor.effects)?_c('div',{staticClass:\"initiative-effect\"},_vm._l((actor.effects),function(effect){return _c('div',{key:effect.uuid},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(effect.name),expression:\"effect.name\"}],attrs:{\"type\":\"text\",\"size\":effect.name.length || 1},domProps:{\"value\":(effect.name)},on:{\"change\":function($event){_vm.updateEffect(actor.uuid, effect, true)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(effect, \"name\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(effect.turns),expression:\"effect.turns\"}],attrs:{\"type\":\"text\",\"size\":effect.turns.toString().length || 1},domProps:{\"value\":(effect.turns)},on:{\"change\":function($event){_vm.updateEffect(actor.uuid, effect, true)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(effect, \"turns\", $event.target.value)}}})])})):_vm._e()])]})],2),_c('div',{attrs:{\"id\":\"initiative-bar\"}},[_c('div',{attrs:{\"id\":\"initiative-round\"}},[_vm._v(\"Round \"+_vm._s(_vm.roundCounter))]),_c('div',{staticStyle:{\"display\":\"flex\"}}),_c('div',{staticClass:\"initiative-bar-button\",class:{'notAllowed': !_vm.$store.state.game.IS_DM},on:{\"click\":function($event){_vm.setRound(0, true); _vm.setTurn(_vm.data[0].uuid, true)}}},[_c('i',{staticClass:\"fas fa-sync-alt\"})]),_c('div',{staticClass:\"initiative-bar-button\",class:{'notAllowed': !_vm.$store.state.game.IS_DM},on:{\"click\":_vm.nextTurn}},[_c('i',{staticClass:\"fas fa-chevron-right\"})])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport draggable from \"vuedraggable\";\nVue.component(\"draggable\", draggable);\n\nimport modal from \"@/core/components/modals/modal.vue\";\nimport socket from \"@/game/api/socket\";\nimport layerManager from \"@/game/layers/manager\";\n\nimport { uuidv4 } from \"@/core/utils\";\nimport { InitiativeData, InitiativeEffect } from \"@/game/comm/types/general\";\n\nexport default Vue.component(\"initiative-dialog\", {\n    data: () => ({\n        visible: false,\n        data: <InitiativeData[]>[],\n        currentActor: <string | null>null,\n        roundCounter: 0,\n    }),\n    components: {\n        modal,\n        draggable,\n    },\n    methods: {\n        // Utilities\n        clear() {\n            this.data = [];\n            this.currentActor = null;\n        },\n        getActor(actorId: string) {\n            return this.data.find(a => a.uuid === actorId);\n        },\n        contains(uuid: string) {\n            return this.data.some(d => d.uuid === uuid);\n        },\n        owns(actor: InitiativeData): boolean {\n            if (this.$store.state.game.IS_DM) return true;\n            const shape = layerManager.UUIDMap.get(actor.uuid);\n            // Shapes that are unknown to this client are hidden from this client but owned by other clients\n            if (shape === undefined) return false;\n            return shape.owners.includes(this.$store.state.game.username);\n        },\n        getDefaultEffect() {\n            return { uuid: uuidv4(), name: \"New Effect\", turns: 10 };\n        },\n        fakeSetData(dataTransfer: DataTransfer) {\n            dataTransfer.setData(\"Hack\", \"\");\n        },\n        syncInitiative(data: InitiativeData | { uuid: string }) {\n            socket.emit(\"Initiative.Update\", data);\n        },\n        // Events\n        addInitiative(data: InitiativeData) {\n            const d = this.data.findIndex(a => a.uuid === data.uuid);\n            if (d >= 0) return;\n            if (data.initiative === undefined) data.initiative = 0;\n            this.syncInitiative(data);\n        },\n        removeInitiative(uuid: string) {\n            const d = this.data.findIndex(a => a.uuid === uuid);\n            if (d < 0 || this.data[d].group) return;\n            this.syncInitiative({ uuid });\n            // Remove highlight\n            const shape = layerManager.UUIDMap.get(uuid);\n            if (shape === undefined) return;\n            if (shape.showHighlight) {\n                shape.showHighlight = false;\n                layerManager.getLayer(shape.layer)!.invalidate(true);\n            }\n        },\n        updateOrder() {\n            if (!this.$store.state.game.IS_DM) return;\n            socket.emit(\"Initiative.Set\", this.data.map(d => d.uuid));\n        },\n        setTurn(actorId: string | null, sync: boolean) {\n            if (!this.$store.state.game.IS_DM && sync) return;\n            this.currentActor = actorId;\n            const actor = this.data.find(a => a.uuid === actorId);\n            if (actor === undefined) return;\n            if (actor.effects) {\n                for (let e = actor.effects.length - 1; e >= 0; e--) {\n                    if (actor.effects[e].turns <= 0) actor.effects.splice(e, 1);\n                    else actor.effects[e].turns--;\n                }\n            }\n            if (sync) socket.emit(\"Initiative.Turn.Update\", actorId);\n        },\n        setRound(round: number, sync: boolean) {\n            if (!this.$store.state.game.IS_DM && sync) return;\n            this.roundCounter = round;\n            if (sync) socket.emit(\"Initiative.Round.Update\", round);\n        },\n        nextTurn() {\n            if (!this.$store.state.game.IS_DM) return;\n            const order = this.data;\n            const next = order[(order.findIndex(a => a.uuid === this.currentActor) + 1) % order.length];\n            if (this.data[0].uuid === next.uuid) this.setRound(this.roundCounter + 1, true);\n            this.setTurn(next.uuid, true);\n        },\n        toggleHighlight(actor: InitiativeData, show: boolean) {\n            const shape = layerManager.UUIDMap.get(actor.uuid);\n            if (shape === undefined) return;\n            shape.showHighlight = show;\n            layerManager.getLayer(shape.layer)!.invalidate(true);\n        },\n        toggleOption(actor: InitiativeData, option: \"visible\" | \"group\") {\n            if (!this.owns(actor)) return;\n            actor[option] = !actor[option];\n            this.syncInitiative(actor);\n        },\n        createEffect(actor: InitiativeData, effect: InitiativeEffect, sync: boolean) {\n            if (!this.owns(actor)) return;\n            actor.effects.push(effect);\n            if (sync) socket.emit(\"Initiative.Effect.New\", { actor: actor.uuid, effect });\n        },\n        syncEffect(actor: InitiativeData, effect: InitiativeEffect) {\n            if (!this.owns(actor)) return;\n            socket.emit(\"Initiative.Effect.Update\", { actor: actor.uuid, effect });\n        },\n        updateEffect(actorId: string, effect: InitiativeEffect, sync: boolean) {\n            const actor = this.data.find(a => a.uuid === actorId);\n            if (actor === undefined) return;\n            const effectIndex = actor.effects.findIndex(e => e.uuid === effect.uuid);\n            if (effectIndex === undefined) return;\n            actor.effects[effectIndex] = effect;\n            if (sync) this.syncEffect(actor, effect);\n            else this.$forceUpdate();\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./initiative.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./initiative.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./initiative.vue?vue&type=template&id=942876ae&scoped=true&\"\nimport script from \"./initiative.vue?vue&type=script&lang=ts&\"\nexport * from \"./initiative.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./initiative.vue?vue&type=style&index=0&id=942876ae&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"942876ae\",\n  null\n  \n)\n\ncomponent.options.__file = \"initiative.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"menuContainer\"}},[_c('div',{ref:\"rm\",style:({\n              left: _vm.visible.settings ? '200px' : '0',\n              top: _vm.visible.locations ? '100px' : '0'\n          }),attrs:{\"id\":\"radialmenu\"}},[_c('div',{staticClass:\"rm-wrapper\"},[_c('div',{staticClass:\"rm-toggler\"},[_c('ul',{staticClass:\"rm-list\",class:{ 'rm-list-dm': _vm.IS_DM }},[(_vm.IS_DM)?_c('li',{staticClass:\"rm-item\",attrs:{\"id\":\"rm-locations\"},on:{\"click\":function($event){_vm.visible.locations = !_vm.visible.locations}}},[_vm._m(0)]):_vm._e(),_c('li',{staticClass:\"rm-item\",attrs:{\"id\":\"rm-settings\"},on:{\"click\":function($event){_vm.visible.settings = !_vm.visible.settings}}},[_vm._m(1)])])]),_vm._m(2)])]),_c('transition',{attrs:{\"name\":\"settings\"},on:{\"enter\":function($event){_vm.$refs.rm.style.transition = 'left 500ms'}}},[(_vm.visible.settings)?_c('div',{ref:\"settings\",attrs:{\"id\":\"menu\"},on:{\"click\":_vm.settingsClick}},[_c('div',{staticStyle:{\"width\":\"200px\",\"height\":\"90%\",\"overflow-y\":\"auto\",\"overflow-x\":\"hidden\"}},[(_vm.IS_DM)?[_c('button',{staticClass:\"accordion\"},[_vm._v(\"Assets\")]),_c('div',{staticClass:\"accordion-panel\"},[_c('a',{staticClass:\"actionButton\",attrs:{\"href\":\"/assets/\",\"target\":\"blank\"}},[_c('i',{staticClass:\"fas fa-external-link-alt\"})]),_c('div',{staticClass:\"directory\",attrs:{\"id\":\"menu-tokens\"}},[_c('asset-node',{attrs:{\"asset\":_vm.assets}})],1)]),_c('button',{staticClass:\"accordion\"},[_vm._v(\"Notes\")]),_c('div',{staticClass:\"accordion-panel\"},[_c('div',{staticClass:\"accordion-subpanel\",attrs:{\"id\":\"menu-notes\"}},[_c('a',{staticClass:\"actionButton\",on:{\"click\":_vm.createNote}},[_c('i',{staticClass:\"far fa-plus-square\"})]),_vm._l((_vm.notes),function(note){return _c('div',{key:note.uuid,staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.openNote(note)}}},[_vm._v(_vm._s(note.title || \"[?]\"))])}),(!_vm.notes.length)?_c('div',[_vm._v(\"No notes\")]):_vm._e()],2)]),_c('button',{staticClass:\"accordion\"},[_vm._v(\"DM Options\")]),_c('div',{staticClass:\"accordion-panel\"},[_c('div',{staticClass:\"accordion-subpanel\"},[_c('label',{attrs:{\"for\":\"useGridInput\"}},[_vm._v(\"Use grid:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.useGrid),expression:\"useGrid\"}],attrs:{\"id\":\"useGridInput\",\"type\":\"checkbox\",\"checked\":\"checked\"},domProps:{\"checked\":Array.isArray(_vm.useGrid)?_vm._i(_vm.useGrid,null)>-1:(_vm.useGrid)},on:{\"change\":function($event){var $$a=_vm.useGrid,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.useGrid=$$a.concat([$$v]))}else{$$i>-1&&(_vm.useGrid=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.useGrid=$$c}}}}),_c('label',{attrs:{\"for\":\"useFOWInput\"}},[_vm._v(\"Fill entire canvas with FOW:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fullFOW),expression:\"fullFOW\"}],attrs:{\"id\":\"useFOWInput\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.fullFOW)?_vm._i(_vm.fullFOW,null)>-1:(_vm.fullFOW)},on:{\"change\":function($event){var $$a=_vm.fullFOW,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.fullFOW=$$a.concat([$$v]))}else{$$i>-1&&(_vm.fullFOW=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.fullFOW=$$c}}}}),_c('label',{attrs:{\"for\":\"fowOpacity\"}},[_vm._v(\"FOW opacity:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.fowOpacity),expression:\"fowOpacity\",modifiers:{\"number\":true}}],attrs:{\"id\":\"fowOpacity\",\"type\":\"number\",\"min\":\"0\",\"max\":\"1\",\"step\":\"0.1\"},domProps:{\"value\":(_vm.fowOpacity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.fowOpacity=_vm._n($event.target.value)},\"blur\":function($event){_vm.$forceUpdate()}}}),_c('label',{attrs:{\"for\":\"fowLOS\"}},[_vm._v(\"Only show lights in LoS:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fowLOS),expression:\"fowLOS\"}],attrs:{\"id\":\"fowLOS\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.fowLOS)?_vm._i(_vm.fowLOS,null)>-1:(_vm.fowLOS)},on:{\"change\":function($event){var $$a=_vm.fowLOS,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.fowLOS=$$a.concat([$$v]))}else{$$i>-1&&(_vm.fowLOS=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.fowLOS=$$c}}}}),_c('label',{attrs:{\"for\":\"unitSizeInput\"}},[_vm._v(\"Unit Size (in ft.):\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.unitSize),expression:\"unitSize\",modifiers:{\"number\":true}}],attrs:{\"id\":\"unitSizeInput\",\"type\":\"number\"},domProps:{\"value\":(_vm.unitSize)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.unitSize=_vm._n($event.target.value)},\"blur\":function($event){_vm.$forceUpdate()}}}),_c('label',{attrs:{\"for\":\"gridSizeInput\"}},[_vm._v(\"Grid Size (in pixels):\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.gridSize),expression:\"gridSize\",modifiers:{\"number\":true}}],attrs:{\"id\":\"gridSizeInput\",\"type\":\"number\",\"min\":\"0\"},domProps:{\"value\":(_vm.gridSize)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.gridSize=_vm._n($event.target.value)},\"blur\":function($event){_vm.$forceUpdate()}}}),_c('label',{attrs:{\"for\":\"invitation\"}},[_vm._v(\"Invitation Code:\")]),_c('input',{attrs:{\"id\":\"invitation\",\"type\":\"text\",\"readonly\":\"readonly\"},domProps:{\"value\":_vm.invitationCode}})])])]:_vm._e(),_c('button',{staticClass:\"accordion\"},[_vm._v(\"Client Options\")]),_c('div',{staticClass:\"accordion-panel\"},[_c('div',{staticClass:\"accordion-subpanel\"},[_c('label',{attrs:{\"for\":\"gridColour\"}},[_vm._v(\"Grid Colour:\")]),_c('color-picker',{attrs:{\"id\":\"gridColour\",\"color\":_vm.gridColour},on:{\"update:color\":function($event){_vm.gridColour=$event}}}),_c('label',{attrs:{\"for\":\"fowColour\"}},[_vm._v(\"FOW Colour:\")]),_c('color-picker',{attrs:{\"id\":\"fowColour\",\"color\":_vm.fowColour},on:{\"update:color\":function($event){_vm.fowColour=$event}}}),_c('label',{attrs:{\"for\":\"rulerColour\"}},[_vm._v(\"Ruler Colour:\")]),_c('color-picker',{attrs:{\"id\":\"rulerColour\",\"color\":_vm.rulerColour},on:{\"update:color\":function($event){_vm.rulerColour=$event}}})],1)])],2),_c('a',{staticClass:\"accordion\",staticStyle:{\"text-decoration\":\"none\",\"display\":\"inline-block\",\"position\":\"absolute\",\"bottom\":\"0\"},attrs:{\"href\":\"/rooms\"}},[_vm._v(\"Exit\")])]):_vm._e()]),_c('transition',{attrs:{\"name\":\"locations\"},on:{\"enter\":function($event){_vm.$refs.rm.style.transition = 'top 500ms'}}},[(_vm.IS_DM && _vm.visible.locations)?_c('div',{attrs:{\"id\":\"locations-menu\"}},[_c('div',[_vm._l((_vm.locations),function(location){return _c('div',{key:location,on:{\"click\":function($event){_vm.changeLocation(location)}}},[_vm._v(_vm._s(location))])}),_c('div',{on:{\"click\":_vm.createLocation}},[_c('i',{staticClass:\"fas fa-plus\"})])],2)]):_vm._e()]),_c('img',{attrs:{\"id\":\"dragImage\"}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"far fa-compass\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fas fa-cog\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"rm-topper\"},[_c('i',{staticClass:\"icon-share-alt\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"outer\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.open($event)}}},[_c('div',{staticClass:\"current-color\",style:(_vm.transparent ? 'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)' : 'background-color:' + _vm.color),on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.open($event)}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.display),expression:\"display\"}],staticClass:\"mask\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.closePicker($event)}}}),_c('chrome-picker',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.display),expression:\"display\"}],ref:\"chromePicker\",style:({position: 'fixed', left:_vm.left + 'px', top:_vm.top + 'px', 'z-index': 9999}),attrs:{\"value\":_vm.color,\"tabindex\":\"-1\"},on:{\"input\":_vm.updateColor}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport tinycolor from \"tinycolor2\";\nimport Vue from \"vue\";\nimport { Chrome } from \"vue-color\";\n\nexport default Vue.component(\"colorpicker\", {\n    components: {\n        \"chrome-picker\": Chrome,\n    },\n    props: [\"color\"],\n    data: () => ({\n        display: false,\n        left: 0,\n        top: 0,\n        transparent: false,\n    }),\n    mounted() {\n        this.transparent = (<any>this.$refs.chromePicker).val.rgba.a === 0;\n        this.setPosition();\n    },\n    methods: {\n        open() {\n            if (this.display) return; // click on the picker itself\n            this.setPosition();\n            this.display = true;\n            this.$nextTick(() => this.$children[0].$el.focus());\n        },\n        updateColor(value: { rgba: { r: number; g: number; b: number; a: number } }) {\n            this.transparent = value.rgba.a === 0;\n            const newColor = tinycolor(value.rgba).toRgbString();\n            this.$emit(\"update:color\", newColor);\n            this.$emit(\"input\", newColor);\n        },\n        closePicker() {\n            this.display = false;\n            this.$emit(\"change\", this.color);\n        },\n        setPosition() {\n            const rect = this.$el.getBoundingClientRect();\n            // 224 is the width of the picker, 242 the height\n            if (rect.right + 224 > window.innerWidth) this.left = rect.left - 224;\n            else this.left = rect.right;\n            if (rect.bottom + 242 > window.innerHeight) this.top = rect.top - 242;\n            else this.top = rect.bottom;\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./colorpicker.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./colorpicker.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./colorpicker.vue?vue&type=template&id=2c377313&scoped=true&\"\nimport script from \"./colorpicker.vue?vue&type=script&lang=ts&\"\nexport * from \"./colorpicker.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./colorpicker.vue?vue&type=style&index=0&id=2c377313&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c377313\",\n  null\n  \n)\n\ncomponent.options.__file = \"colorpicker.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_vm._l((_vm.folders),function(folder){return _c('li',{key:folder,staticClass:\"folder\",on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle($event)}}},[_vm._v(\"\\n        \"+_vm._s(folder)+\"\\n        \"),_c('asset-node',{attrs:{\"asset\":_vm.asset[folder]}})],1)}),_vm._l((_vm.files),function(file){return _c('li',{key:file.name,staticClass:\"file draggable token\",attrs:{\"draggable\":\"true\"},on:{\"mouseover\":function($event){_vm.showImage = file.hash},\"mouseout\":function($event){_vm.showImage = null},\"dragstart\":function($event){_vm.dragStart($event, '/static/assets/' + file.hash)}}},[_vm._v(\"\\n        \"+_vm._s(file.name)+\"\\n        \"),(_vm.showImage == file.hash)?_c('div',{staticClass:\"preview\"},[_c('img',{staticClass:\"asset-preview-image\",attrs:{\"src\":\"/static/assets/\" + file.hash}})]):_vm._e()])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nimport { AssetFile } from \"@/core/comm/types\";\nimport { alphSort } from \"@/core/utils\";\n\nexport default Vue.component(\"asset-node\", {\n    props: [\"asset\", \"open\"],\n    data: () => ({\n        showImage: null,\n    }),\n    computed: {\n        folders(): string[] {\n            return Object.keys(this.asset)\n                .filter(el => ![\"__files\"].includes(el))\n                .sort(alphSort);\n        },\n        files(): AssetFile[] {\n            if (this.asset.__files)\n                return (<AssetFile[]>this.asset.__files)\n                    .concat()\n                    .sort((a, b) => (a.name.toLowerCase() > b.name.toLowerCase() ? 1 : -1));\n            return [];\n        },\n    },\n    methods: {\n        toggle(event: { target: HTMLElement }) {\n            // tslint:disable-next-line:prefer-for-of\n            for (let i = 0; i < event.target.children.length; i++) {\n                const el = <HTMLElement>event.target.children[i];\n                el.style.display = el.style.display === \"\" ? \"block\" : \"\";\n            }\n        },\n        dragStart(event: DragEvent, imageSource: string) {\n            if (event === null || event.dataTransfer === null) return;\n            const img = (<HTMLElement>event.target).querySelector(\".preview\")!;\n            event.dataTransfer.setDragImage(img, 0, 0);\n            event.dataTransfer.setData(\"text/plain\", imageSource);\n        },\n    },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset_node.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset_node.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./asset_node.vue?vue&type=template&id=1c906569&\"\nimport script from \"./asset_node.vue?vue&type=script&lang=ts&\"\nexport * from \"./asset_node.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./asset_node.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"asset_node.vue\"\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nimport { mapState } from \"vuex\";\n\nimport colorpicker from \"@/core/components/colorpicker.vue\";\nimport socket from \"@/game/api/socket\";\nimport game from \"@/game/game.vue\";\nimport Settings from \"@/game/settings\";\nimport assetNode from \"./asset_node.vue\";\n\nimport { uuidv4 } from \"@/core/utils\";\nimport { Note } from \"@/game/comm/types/general\";\n\nexport default Vue.component(\"menu-bar\", {\n    components: {\n        \"color-picker\": colorpicker,\n        \"asset-node\": assetNode,\n    },\n    data: () => ({\n        visible: {\n            settings: false,\n            locations: false,\n        },\n    }),\n    computed: {\n        ...mapState(\"game\", [\"invitationCode\", \"IS_DM\", \"locations\", \"assets\", \"notes\"]),\n        useGrid: {\n            get(): boolean {\n                return this.$store.state.game.useGrid;\n            },\n            set(value: boolean) {\n                this.$store.commit(\"setUseGrid\", { useGrid: value, sync: true });\n            },\n        },\n        fullFOW: {\n            get(): boolean {\n                return this.$store.state.game.fullFOW;\n            },\n            set(value: boolean) {\n                this.$store.commit(\"setFullFOW\", { fullFOW: value, sync: true });\n            },\n        },\n        fowOpacity: {\n            get(): number {\n                return this.$store.state.game.fowOpacity;\n            },\n            set(value: number) {\n                if (typeof value !== \"number\") return;\n                this.$store.commit(\"setFOWOpacity\", { fowOpacity: value, sync: true });\n            },\n        },\n        fowLOS: {\n            get(): boolean {\n                return this.$store.state.game.fowLOS;\n            },\n            set(value: boolean) {\n                this.$store.commit(\"setLineOfSight\", { fowLOS: value, sync: true });\n            },\n        },\n        unitSize: {\n            get(): number {\n                return this.$store.state.game.unitSize;\n            },\n            set(value: number) {\n                if (typeof value !== \"number\") return;\n                this.$store.commit(\"setUnitSize\", { unitSize: value, sync: true });\n            },\n        },\n        gridSize: {\n            get(): number {\n                return this.$store.state.game.gridSize;\n            },\n            set(value: number) {\n                if (typeof value !== \"number\") return;\n                this.$store.commit(\"setGridSize\", { gridSize: value, sync: true });\n            },\n        },\n        gridColour: {\n            get(): string {\n                return this.$store.state.game.gridColour;\n            },\n            set(value: string) {\n                this.$store.commit(\"setGridColour\", { colour: value, sync: true });\n            },\n        },\n        fowColour: {\n            get(): string {\n                return this.$store.state.game.fowColour;\n            },\n            set(value: string) {\n                this.$store.commit(\"setFOWColour\", { colour: value, sync: true });\n            },\n        },\n        rulerColour: {\n            get(): string {\n                return this.$store.state.game.rulerColour;\n            },\n            set(value: string) {\n                this.$store.commit(\"setRulerColour\", { colour: value, sync: true });\n            },\n        },\n    },\n    methods: {\n        settingsClick(event: { target: HTMLElement }) {\n            if (event.target.classList.contains(\"accordion\")) {\n                event.target.classList.toggle(\"accordion-active\");\n                const next = <HTMLElement>event.target.nextElementSibling!;\n                next.style.display = next.style.display === \"\" ? \"block\" : \"\";\n            }\n        },\n        changeLocation(name: string) {\n            socket.emit(\"Location.Change\", name);\n        },\n        createLocation() {\n            (<any>game).$refs.prompt.prompt(`New location name:`, `Create new location`).then(\n                (value: string) => {\n                    socket.emit(\"Location.New\", value);\n                },\n                () => {},\n            );\n        },\n        createNote() {\n            const note = { title: \"New note\", text: \"\", uuid: uuidv4() };\n            this.$store.commit(\"newNote\", { note, sync: true });\n            this.openNote(note);\n        },\n        openNote(note: Note) {\n            (<any>game).$refs.note.open(note);\n        },\n    },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./menu.vue?vue&type=template&id=4bb01ba9&scoped=true&\"\nimport script from \"./menu.vue?vue&type=script&lang=ts&\"\nexport * from \"./menu.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./menu.vue?vue&type=style&index=0&id=4bb01ba9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4bb01ba9\",\n  null\n  \n)\n\ncomponent.options.__file = \"menu.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.note !== null)?_c('modal',{attrs:{\"visible\":_vm.visible,\"mask\":false},on:{\"close\":function($event){_vm.visible = false}},scopedSlots:_vm._u([{key:\"header\",fn:function(m){return _c('div',{staticClass:\"modal-header\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":m.dragStart,\"dragend\":m.dragEnd}},[_c('span',{on:{\"click\":function($event){_vm.$refs.title.select()}}},[_c('i',{staticClass:\"fas fa-pencil-alt\",staticStyle:{\"font-size\":\"15px\"}})]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.note.title),expression:\"note.title\"}],ref:\"title\",domProps:{\"value\":(_vm.note.title)},on:{\"change\":_vm.updateNote,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.note, \"title\", $event.target.value)}}}),_c('div',{staticClass:\"header-close\",on:{\"click\":function($event){_vm.visible = false}}},[_c('i',{staticClass:\"far fa-window-close\"})])])}}])},[_c('div',{staticClass:\"modal-body\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.note.text),expression:\"note.text\"}],ref:\"textarea\",style:({'height': _vm.calcHeight()}),domProps:{\"value\":(_vm.note.text)},on:{\"change\":_vm.updateNote,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.note, \"text\", $event.target.value)}}})]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{on:{\"click\":_vm.removeNote}},[_c('i',{staticClass:\"far fa-trash-alt\"}),_vm._v(\" Remove\\n    \")])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nimport modal from \"@/core/components/modals/modal.vue\";\nimport game from \"@/game/game.vue\";\n\nimport { Note } from \"@/game/comm/types/general\";\n\nexport default Vue.component(\"initiative-dialog\", {\n    data: () => ({\n        visible: false,\n        note: <Note | null>null,\n    }),\n    components: {\n        modal,\n    },\n    methods: {\n        open(note: Note) {\n            this.visible = true;\n            this.note = note;\n        },\n        calcHeight() {\n            if (this.$refs.textarea) {\n                const el = <HTMLElement>this.$refs.textarea;\n                el.style.height = \"auto\";\n                el.style.height = el.scrollHeight + \"px\";\n                // Using the return value without the above did not achieve what I want, so hey /shrug\n                return el.scrollHeight + \"px\";\n            }\n            return \"100px\";\n        },\n        updateNote() {\n            this.$store.commit(\"updateNote\", { note: this.note, sync: true });\n        },\n        removeNote() {\n            (<any>game).$refs.confirm.open(\"Are you sure you wish to remove this?\").then(\n                (result: boolean) => {\n                    if (result) {\n                        this.$store.commit(\"removeNote\", { note: this.note, sync: true });\n                        this.visible = false;\n                    }\n                },\n                () => {},\n            );\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./note.vue?vue&type=template&id=3ac7fb3c&scoped=true&\"\nimport script from \"./note.vue?vue&type=script&lang=ts&\"\nexport * from \"./note.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./note.vue?vue&type=style&index=0&id=3ac7fb3c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ac7fb3c\",\n  null\n  \n)\n\ncomponent.options.__file = \"note.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.shape !== null)?_c('div',[_c('div',{attrs:{\"id\":\"selection-menu\"}},[_c('div',{attrs:{\"id\":\"selection-edit-button\"},on:{\"click\":_vm.openEditDialog}},[_c('i',{staticClass:\"fas fa-edit\"})]),_c('div',{attrs:{\"id\":\"selection-name\"}},[_vm._v(_vm._s(_vm.shape.name))]),_c('div',{attrs:{\"id\":\"selection-trackers\"}},[_vm._l((_vm.shape.trackers),function(tracker){return (tracker.name !== '' || tracker.value !== 0)?[_c('div',{key:'name-' + tracker.uuid},[_vm._v(_vm._s(tracker.name))]),_c('div',{key:'value-' + tracker.uuid,staticClass:\"selection-tracker-value\",on:{\"click\":function($event){_vm.changeValue(tracker, false)}}},[(tracker.maxvalue === 0)?[_vm._v(_vm._s(tracker.value))]:[_vm._v(_vm._s(tracker.value)+\" / \"+_vm._s(tracker.maxvalue))]],2)]:_vm._e()})],2),_c('div',{attrs:{\"id\":\"selection-auras\"}},[_vm._l((_vm.shape.auras),function(aura){return (aura.name !== '' || aura.value !== 0)?[_c('div',{key:'name-' + aura.uuid},[_vm._v(_vm._s(aura.name))]),_c('div',{key:'value-' + aura.uuid,staticClass:\"selection-tracker-value\",on:{\"click\":function($event){_vm.changeValue(aura, true)}}},[(aura.dim === 0)?[_vm._v(_vm._s(aura.value))]:[_vm._v(_vm._s(aura.value)+\" / \"+_vm._s(aura.dim))]],2)]:_vm._e()})],2)]),_c('edit-dialog',{ref:\"editDialog\",attrs:{\"shape\":_vm.shape}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"visible\":_vm.visible,\"mask\":false},on:{\"close\":function($event){_vm.visible = false}},scopedSlots:_vm._u([{key:\"header\",fn:function(m){return _c('div',{staticClass:\"modal-header\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":m.dragStart,\"dragend\":m.dragEnd}},[_c('div',[_vm._v(\"Edit asset\")]),_c('div',{staticClass:\"header-close\",on:{\"click\":function($event){_vm.visible = false}}},[_c('i',{staticClass:\"far fa-window-close\"})])])}}])},[_c('div',{staticClass:\"modal-body\"},[_c('label',{attrs:{\"for\":\"shapeselectiondialog-name\"}},[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.shape.name),expression:\"shape.name\"}],staticStyle:{\"grid-column\":\"numerator / end\"},attrs:{\"type\":\"text\",\"id\":\"shapeselectiondialog-name\"},domProps:{\"value\":(_vm.shape.name)},on:{\"change\":function($event){_vm.updateShape(false)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.shape, \"name\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"shapeselectiondialog-istoken\"}},[_vm._v(\"Is a token\")]),_c('input',{staticStyle:{\"grid-column-start\":\"remove\",\"width\":\"15px\",\"height\":\"15px\"},attrs:{\"type\":\"checkbox\",\"id\":\"shapeselectiondialog-istoken\"},domProps:{\"checked\":_vm.shape.isToken},on:{\"click\":_vm.setToken}}),_c('label',{attrs:{\"for\":\"shapeselectiondialog-visionblocker\"}},[_vm._v(\"Blocks vision/light\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.shape.visionObstruction),expression:\"shape.visionObstruction\"}],staticStyle:{\"grid-column-start\":\"remove\",\"width\":\"15px\",\"height\":\"15px\"},attrs:{\"type\":\"checkbox\",\"id\":\"shapeselectiondialog-visionblocker\"},domProps:{\"checked\":Array.isArray(_vm.shape.visionObstruction)?_vm._i(_vm.shape.visionObstruction,null)>-1:(_vm.shape.visionObstruction)},on:{\"change\":[function($event){var $$a=_vm.shape.visionObstruction,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.shape, \"visionObstruction\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.shape, \"visionObstruction\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.shape, \"visionObstruction\", $$c)}},_vm.setVisionBlocker]}}),_c('label',{attrs:{\"for\":\"shapeselectiondialog-moveblocker\"}},[_vm._v(\"Blocks movement\")]),_c('input',{staticStyle:{\"grid-column-start\":\"remove\",\"width\":\"15px\",\"height\":\"15px\"},attrs:{\"type\":\"checkbox\",\"id\":\"shapeselectiondialog-moveblocker\"},domProps:{\"checked\":_vm.shape.movementObstruction},on:{\"click\":_vm.setMovementBlocker}}),_c('div',{staticClass:\"spanrow header\"},[_vm._v(\"Access\")]),_vm._l((_vm.shape.owners),function(owner){return [_c('input',{key:owner,staticStyle:{\"grid-column-start\":\"name\"},attrs:{\"type\":\"text\",\"placeholder\":\"name\"},domProps:{\"value\":owner},on:{\"change\":function($event){_vm.updateOwner($event, owner)}}}),(owner !== '')?_c('div',{key:'remove-' + owner,staticStyle:{\"grid-column-start\":\"remove\"},on:{\"click\":function($event){_vm.removeOwner(owner)}}},[_c('i',{staticClass:\"fas fa-trash-alt\"})]):_vm._e()]}),_c('div',{staticClass:\"spanrow header\"},[_vm._v(\"Trackers\")]),_vm._l((_vm.shape.trackers),function(tracker){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(tracker.name),expression:\"tracker.name\"}],key:'name-'+tracker.uuid,staticStyle:{\"grid-column-start\":\"name\"},attrs:{\"type\":\"text\",\"placeholder\":\"name\"},domProps:{\"value\":(tracker.name)},on:{\"change\":function($event){_vm.updateShape(false);},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(tracker, \"name\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(tracker.value),expression:\"tracker.value\",modifiers:{\"number\":true}}],key:'value-'+tracker.uuid,attrs:{\"type\":\"text\",\"title\":\"Current value\"},domProps:{\"value\":(tracker.value)},on:{\"change\":function($event){_vm.updateShape(false)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(tracker, \"value\", _vm._n($event.target.value))},\"blur\":function($event){_vm.$forceUpdate()}}}),_c('span',{key:'fspan-'+tracker.uuid},[_vm._v(\"/\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(tracker.maxvalue),expression:\"tracker.maxvalue\",modifiers:{\"number\":true}}],key:'maxvalue-'+tracker.uuid,attrs:{\"type\":\"text\",\"title\":\"Current value\"},domProps:{\"value\":(tracker.maxvalue)},on:{\"change\":function($event){_vm.updateShape(false)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(tracker, \"maxvalue\", _vm._n($event.target.value))},\"blur\":function($event){_vm.$forceUpdate()}}}),_c('span',{key:'sspan-'+tracker.uuid}),_c('div',{key:'visibility-'+tracker.uuid,style:({opacity: tracker.visible ? 1.0 : 0.3}),on:{\"click\":function($event){tracker.visible = !tracker.visible;_vm.updateShape(false)}}},[_c('i',{staticClass:\"fas fa-eye\"})]),_c('span',{key:'tspan-'+tracker.uuid}),(tracker.name !== '' || tracker.value !== 0)?_c('div',{key:'remove-'+tracker.uuid,on:{\"click\":function($event){_vm.removeTracker(tracker.uuid)}}},[_c('i',{staticClass:\"fas fa-trash-alt\"})]):_vm._e()]}),_c('div',{staticClass:\"spanrow header\"},[_vm._v(\"Auras\")]),_vm._l((_vm.shape.auras),function(aura){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(aura.name),expression:\"aura.name\"}],key:'name-'+aura.uuid,staticStyle:{\"grid-column-start\":\"name\"},attrs:{\"type\":\"text\",\"placeholder\":\"name\"},domProps:{\"value\":(aura.name)},on:{\"change\":function($event){_vm.updateShape(false)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(aura, \"name\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(aura.value),expression:\"aura.value\",modifiers:{\"number\":true}}],key:'value-'+aura.uuid,attrs:{\"type\":\"text\",\"title\":\"Current value\"},domProps:{\"value\":(aura.value)},on:{\"change\":function($event){_vm.updateShape(true)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(aura, \"value\", _vm._n($event.target.value))},\"blur\":function($event){_vm.$forceUpdate()}}}),_c('span',{key:'fspan-'+aura.uuid},[_vm._v(\"/\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(aura.dim),expression:\"aura.dim\",modifiers:{\"number\":true}}],key:'dimvalue-'+aura.uuid,attrs:{\"type\":\"text\",\"title\":\"Dim value\"},domProps:{\"value\":(aura.dim)},on:{\"change\":function($event){_vm.updateShape(true)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(aura, \"dim\", _vm._n($event.target.value))},\"blur\":function($event){_vm.$forceUpdate()}}}),_c('color-picker',{key:'colour-'+aura.uuid,attrs:{\"color\":aura.colour},on:{\"update:color\":function($event){_vm.$set(aura, \"colour\", $event)},\"input\":function($event){_vm.updateAuraColour(aura, $event)},\"change\":function($event){_vm.updateShape(true)}}}),_c('div',{key:'visibility-'+aura.uuid,style:({opacity: aura.visible ? 1.0 : 0.3}),on:{\"click\":function($event){aura.visible = !aura.visible;_vm.updateShape(true)}}},[_c('i',{staticClass:\"fas fa-eye\"})]),_c('div',{key:'visionsource-'+aura.uuid,style:({opacity: aura.visionSource ? 1.0 : 0.3}),on:{\"click\":function($event){_vm.updateAuraVisionSource(aura)}}},[_c('i',{staticClass:\"fas fa-lightbulb\"})]),(aura.name !== '' || aura.value !== 0)?_c('div',{key:'remove-'+aura.uuid,on:{\"click\":function($event){_vm.removeAura(aura.uuid)}}},[_c('i',{staticClass:\"fas fa-trash-alt\"})]):_vm._e()]}),_c('div',{staticClass:\"spanrow header\"},[_vm._v(\"Annotation\")]),_c('textarea',{staticClass:\"spanrow\",domProps:{\"value\":_vm.shape.annotation},on:{\"change\":_vm.updateAnnotation}})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nimport colorpicker from \"@/core/components/colorpicker.vue\";\nimport modal from \"@/core/components/modals/modal.vue\";\nimport socket from \"@/game/api/socket\";\nimport layerManager from \"@/game/layers/manager\";\nimport Shape from \"@/game/shapes/shape\";\nimport store from \"@/game/store\";\n\nimport { uuidv4 } from \"@/core/utils\";\n\nexport default Vue.component(\"edit-dialog\", {\n    components: {\n        modal,\n        \"color-picker\": colorpicker,\n    },\n    props: {\n        shape: Object as () => Shape, // to make it work with typescript\n    },\n    data: () => ({\n        visible: false,\n    }),\n    updated() {\n        this.addEmpty();\n    },\n    methods: {\n        addEmpty() {\n            if (this.shape.owners[this.shape.owners.length - 1] !== \"\") this.shape.owners.push(\"\");\n            if (\n                !this.shape.trackers.length ||\n                this.shape.trackers[this.shape.trackers.length - 1].name !== \"\" ||\n                this.shape.trackers[this.shape.trackers.length - 1].value !== 0\n            )\n                this.shape.trackers.push({ uuid: uuidv4(), name: \"\", value: 0, maxvalue: 0, visible: false });\n            if (\n                !this.shape.auras.length ||\n                this.shape.auras[this.shape.auras.length - 1].name !== \"\" ||\n                this.shape.auras[this.shape.auras.length - 1].value !== 0\n            )\n                this.shape.auras.push({\n                    uuid: uuidv4(),\n                    name: \"\",\n                    value: 0,\n                    dim: 0,\n                    visionSource: false,\n                    colour: \"rgba(0,0,0,0)\",\n                    visible: false,\n                });\n        },\n        updateShape(redraw: boolean) {\n            socket.emit(\"Shape.Update\", { shape: this.shape.asDict(), redraw, temporary: false });\n            if (redraw) layerManager.invalidate();\n            this.addEmpty();\n        },\n        setToken(event: { target: HTMLInputElement }) {\n            this.shape.setIsToken(event.target.checked);\n            this.updateShape(true);\n        },\n        setVisionBlocker(event: { target: HTMLInputElement }) {\n            this.shape.checkVisionSources();\n            this.updateShape(true);\n        },\n        setMovementBlocker(event: { target: HTMLInputElement }) {\n            this.shape.setMovementBlock(event.target.checked);\n            this.updateShape(false);\n        },\n        updateAnnotation(event: { target: HTMLInputElement }) {\n            const hadAnnotation = this.shape.annotation !== \"\";\n            this.shape.annotation = event.target.value;\n            if (this.shape.annotation !== \"\" && !hadAnnotation) {\n                store.annotations.push(this.shape.uuid);\n                if (layerManager.hasLayer(\"draw\")) layerManager.getLayer(\"draw\")!.invalidate(true);\n            } else if (this.shape.annotation === \"\" && hadAnnotation) {\n                store.annotations.splice(store.annotations.findIndex(an => an === this.shape.uuid));\n                if (layerManager.hasLayer(\"draw\")) layerManager.getLayer(\"draw\")!.invalidate(true);\n            }\n            this.updateShape(false);\n        },\n        updateOwner(event: { target: HTMLInputElement }, oldValue: string) {\n            const ownerIndex = this.shape.owners.findIndex(o => o === oldValue);\n            if (ownerIndex >= 0) this.shape.owners.splice(ownerIndex, 1, event.target.value);\n            else this.shape.owners.push(event.target.value);\n            this.updateShape(this.$store.state.game.fowLOS);\n        },\n        removeOwner(value: string) {\n            const ownerIndex = this.shape.owners.findIndex(o => o === value);\n            this.shape.owners.splice(ownerIndex, 1);\n            this.updateShape(this.$store.state.game.fowLOS);\n        },\n        removeTracker(uuid: string) {\n            this.shape.trackers = this.shape.trackers.filter(tr => tr.uuid !== uuid);\n            this.updateShape(false);\n        },\n        removeAura(uuid: string) {\n            this.shape.auras = this.shape.auras.filter(au => au.uuid !== uuid);\n            this.shape.checkVisionSources();\n            this.updateShape(true);\n        },\n        updateAuraVisionSource(aura: Aura) {\n            aura.visionSource = !aura.visionSource;\n            const i = store.visionSources.findIndex(ls => ls.aura === aura.uuid);\n            if (aura.visionSource && i === -1) store.visionSources.push({ shape: this.shape.uuid, aura: aura.uuid });\n            else if (!aura.visionSource && i >= 0) store.visionSources.splice(i, 1);\n            // aura.lastPath = undefined;\n            layerManager.invalidateLight();\n            this.updateShape(true);\n        },\n        updateAuraColour(aura: Aura, colour: string) {\n            const layer = layerManager.getLayer(this.shape.layer);\n            if (layer === undefined) return;\n            layer.invalidate(!aura.visionSource);\n        },\n    },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_dialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_dialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./edit_dialog.vue?vue&type=template&id=16427a8e&scoped=true&\"\nimport script from \"./edit_dialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./edit_dialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./edit_dialog.vue?vue&type=style&index=0&id=16427a8e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16427a8e\",\n  null\n  \n)\n\ncomponent.options.__file = \"edit_dialog.vue\"\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nimport socket from \"@/game/api/socket\";\nimport game from \"@/game/game.vue\";\nimport layerManager from \"@/game/layers/manager\";\nimport Shape from \"@/game/shapes/shape\";\nimport EditDialog from \"@/game/ui/selection/edit_dialog.vue\";\n\nexport default Vue.extend({\n    components: {\n        \"edit-dialog\": EditDialog,\n    },\n    data: () => ({\n        shape: <Shape | null>null,\n    }),\n    methods: {\n        openEditDialog() {\n            (<any>this.$refs.editDialog).visible = true;\n        },\n        changeValue(object: Tracker | Aura, redraw: boolean) {\n            if (this.shape === null) return;\n            (<any>game).$refs.prompt.prompt(`New  ${object.name} value:`, `Updating ${object.name}`).then(\n                (value: string) => {\n                    if (this.shape === null) return;\n                    const ogValue = object.value;\n                    if (value[0] === \"+\" || value[0] === \"-\") object.value += parseInt(value, 10);\n                    else object.value = parseInt(value, 10);\n                    if (isNaN(object.value)) object.value = ogValue;\n                    socket.emit(\"Shape.Update\", { shape: this.shape.asDict(), redraw, temporary: false });\n                    if (redraw) layerManager.invalidate();\n                },\n                () => {},\n            );\n        },\n    },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selection_info.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selection_info.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./selection_info.vue?vue&type=template&id=75b524c1&scoped=true&\"\nimport script from \"./selection_info.vue?vue&type=script&lang=ts&\"\nexport * from \"./selection_info.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./selection_info.vue?vue&type=style&index=0&id=75b524c1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75b524c1\",\n  null\n  \n)\n\ncomponent.options.__file = \"selection_info.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"toolselect\"}},[_c('ul',_vm._l((_vm.tools),function(tool){return (!_vm.dmTools.includes(tool) || _vm.IS_DM)?_c('li',{key:tool,ref:tool + '-selector',refInFor:true,class:{'tool-selected': _vm.currentTool === tool},on:{\"click\":function($event){_vm.currentTool = tool}}},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(tool))])]):_vm._e()}))]),_c('div',[[_c('select-tool',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTool === 'Select'),expression:\"currentTool === 'Select'\"}],ref:\"selectTool\"}),_c('pan-tool',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTool === 'Pan'),expression:\"currentTool === 'Pan'\"}]}),_c('keep-alive',[_c('draw-tool',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTool === 'Draw'),expression:\"currentTool === 'Draw'\"}]})],1),_c('ruler-tool',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTool === 'Ruler'),expression:\"currentTool === 'Ruler'\"}]}),_c('map-tool',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTool === 'Map'),expression:\"currentTool === 'Map'\"}]}),_c('shape-menu',{ref:\"shapecontext\"}),_c('createtoken-dialog',{ref:\"createtokendialog\"})]],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import tinycolor from \"tinycolor2\";\n\nimport store from \"@/game/store\";\n\nimport { LocalPoint } from \"@/game/geom\";\n\nexport function getMouse(e: MouseEvent): LocalPoint {\n    return new LocalPoint(e.pageX, e.pageY);\n}\n\nexport function getFogColour(opposite: boolean = false): string {\n    const tc = tinycolor(store.fowColour);\n    if (store.IS_DM) tc.setAlpha(opposite ? 1 : store.fowOpacity);\n    else tc.setAlpha(1);\n    return tc.toRgbString();\n}\n","import BaseRect from \"@/game/shapes/baserect\";\nimport store from \"@/game/store\";\n\nimport { GlobalPoint } from \"@/game/geom\";\nimport { g2l } from \"@/game/units\";\nimport { getFogColour } from \"@/game/utils\";\n\nexport default class Rect extends BaseRect {\n    type = \"rect\";\n    constructor(topleft: GlobalPoint, w: number, h: number, fillColour?: string, strokeColour?: string, uuid?: string) {\n        super(topleft, w, h, fillColour, strokeColour, uuid);\n    }\n    asDict() {\n        return super.getBaseDict();\n    }\n    draw(ctx: CanvasRenderingContext2D) {\n        super.draw(ctx);\n        if (this.fillColour === \"fog\") ctx.fillStyle = getFogColour();\n        else ctx.fillStyle = this.fillColour;\n        const z = store.zoomFactor;\n        const loc = g2l(this.refPoint);\n        ctx.fillRect(loc.x, loc.y, this.w * z, this.h * z);\n        if (this.strokeColour !== \"rgba(0, 0, 0, 0)\") {\n            ctx.strokeStyle = this.strokeColour;\n            ctx.lineWidth = 5;\n            ctx.strokeRect(loc.x, loc.y, this.w * z, this.h * z);\n        }\n    }\n}\n","import BoundingRect from \"@/game/shapes/boundingrect\";\nimport Shape from \"@/game/shapes/shape\";\n\nimport { GlobalPoint, LocalPoint } from \"@/game/geom\";\nimport { g2l } from \"@/game/units\";\n\nexport default class Text extends Shape {\n    type = \"text\";\n    text: string;\n    font: string;\n    angle: number;\n    constructor(\n        position: GlobalPoint,\n        text: string,\n        font: string,\n        angle?: number,\n        fillColour?: string,\n        strokeColour?: string,\n        uuid?: string,\n    ) {\n        super(position, fillColour, strokeColour, uuid);\n        this.text = text;\n        this.font = font;\n        this.angle = angle || 0;\n    }\n    asDict() {\n        return Object.assign(this.getBaseDict(), {\n            text: this.text,\n            font: this.font,\n            angle: this.angle,\n        });\n    }\n    getBoundingBox(): BoundingRect {\n        return new BoundingRect(this.refPoint, 5, 5); // TODO: fix this bounding box\n    }\n    draw(ctx: CanvasRenderingContext2D) {\n        super.draw(ctx);\n        ctx.font = this.font;\n        ctx.fillStyle = this.fillColour;\n        ctx.save();\n        const dest = g2l(this.refPoint);\n        ctx.translate(dest.x, dest.y);\n        ctx.rotate(this.angle);\n        ctx.textAlign = \"center\";\n        this.getLines(ctx).map(line => ctx.fillText(line.text, line.x, line.y));\n        ctx.restore();\n    }\n    contains(point: GlobalPoint): boolean {\n        return false; // TODO\n    }\n\n    center(): GlobalPoint;\n    center(centerPoint: GlobalPoint): void;\n    center(centerPoint?: GlobalPoint): GlobalPoint | void {} // TODO\n    getCorner(point: GlobalPoint): string | undefined {\n        return \"\";\n    } // TODO\n    visibleInCanvas(canvas: HTMLCanvasElement): boolean {\n        return true;\n    } // TODO\n    snapToGrid(): void {}\n    resizeToGrid(): void {}\n    resize(resizeDir: string, point: LocalPoint): void {}\n\n    getMaxHeight(ctx: CanvasRenderingContext2D) {\n        const lines = this.getLines(ctx);\n        const lineHeight = 30;\n        return lineHeight * lines.length;\n    }\n\n    getMaxWidth(ctx: CanvasRenderingContext2D) {\n        const lines = this.getLines(ctx);\n        const widths = lines.map(line => ctx.measureText(line.text).width);\n        return Math.max(...widths);\n    }\n\n    private getLines(ctx: CanvasRenderingContext2D) {\n        const lines = this.text.split(\"\\n\");\n        const allLines: { text: string; x: number; y: number }[] = [];\n        const maxWidth = ctx.canvas.width;\n        const lineHeight = 30;\n        const x = 0; // this.refPoint.x;\n        let y = 0; // this.refPoint.y;\n\n        for (const line of lines) {\n            let targetLine = \"\";\n            const words = line.split(\" \");\n            for (const word of words) {\n                const testLine = targetLine + word + \" \";\n                const metrics = ctx.measureText(testLine);\n                const testWidth = metrics.width;\n                if (testWidth > maxWidth) {\n                    ctx.fillText(targetLine, x, y);\n                    allLines.push({ text: targetLine, x, y });\n                    targetLine = word + \" \";\n                    y += lineHeight;\n                } else {\n                    targetLine = testLine;\n                }\n            }\n            allLines.push({ text: targetLine, x, y });\n            y += lineHeight;\n        }\n        return allLines;\n    }\n}\n","import layerManager from \"@/game/layers/manager\";\nimport Rect from \"@/game/shapes/rect\";\nimport Text from \"@/game/shapes/text\";\nimport store from \"@/game/store\";\n\nimport { GlobalPoint, LocalPoint } from \"@/game/geom\";\nimport { Layer } from \"@/game/layers/layer\";\nimport { l2g } from \"@/game/units\";\n\nclass AnnotationManager {\n    annotationText: Text;\n    annotationRect: Rect;\n    layer: Layer | undefined;\n    shown: boolean = false;\n\n    constructor() {\n        const origin = new GlobalPoint(0, 0);\n        this.annotationText = new Text(origin, \"\", \"bold 20px serif\", 0, \"rgba(230, 230, 230, 1)\");\n        this.annotationRect = new Rect(origin, 0, 0, \"rgba(0, 0, 0, 0.6)\");\n    }\n\n    setActiveText(text: string) {\n        if (this.layer === undefined) {\n            if (layerManager.hasLayer(\"draw\")) {\n                this.layer = layerManager.getLayer(\"draw\")!;\n                this.layer.addShape(this.annotationRect, false);\n                this.layer.addShape(this.annotationText, false);\n            } else {\n                console.warn(\"There is no draw layer to draw annotations on!\");\n                return;\n            }\n        }\n        this.shown = text !== \"\";\n        this.annotationText.refPoint = l2g(new LocalPoint(this.layer.canvas.width / 2, 50));\n        this.annotationText.text = text;\n        const width = this.shown ? this.annotationText.getMaxWidth(this.layer.ctx) + 10 : 0;\n        const height = this.shown ? this.annotationText.getMaxHeight(this.layer.ctx) + 10 : 0;\n        this.annotationRect.refPoint = l2g(new LocalPoint(this.layer.canvas.width / 2 - width / 2, 30));\n        this.annotationRect.w = width / store.zoomFactor;\n        this.annotationRect.h = height / store.zoomFactor;\n        this.layer.invalidate(true);\n    }\n}\n\nexport default AnnotationManager;\n","import BoundingRect from \"@/game/shapes/boundingrect\";\nimport Shape from \"@/game/shapes/shape\";\nimport store from \"@/game/store\";\n\nimport { ServerCircle } from \"@/game/comm/types/shapes\";\nimport { GlobalPoint, LocalPoint, Vector } from \"@/game/geom\";\nimport { calculateDelta } from \"@/game/ui/tools/utils\";\nimport { g2l, g2lz, l2g } from \"@/game/units\";\nimport { getFogColour } from \"@/game/utils\";\n\nexport default class Circle extends Shape {\n    type = \"circle\";\n    r: number;\n    constructor(center: GlobalPoint, r: number, fillColour?: string, strokeColour?: string, uuid?: string) {\n        super(center, fillColour, strokeColour, uuid);\n        this.r = r || 1;\n    }\n    asDict(): ServerCircle {\n        // const base = <ServerCircle>this.getBaseDict();\n        // base.r = this.r;\n        // base.border = this.border;\n        // return base;\n        return Object.assign(this.getBaseDict(), {\n            radius: this.r,\n        });\n    }\n    fromDict(data: ServerCircle) {\n        super.fromDict(data);\n        this.r = data.radius;\n    }\n    getBoundingBox(): BoundingRect {\n        return new BoundingRect(\n            new GlobalPoint(this.refPoint.x - this.r, this.refPoint.y - this.r),\n            this.r * 2,\n            this.r * 2,\n        );\n    }\n    draw(ctx: CanvasRenderingContext2D) {\n        super.draw(ctx);\n        ctx.beginPath();\n        if (this.fillColour === \"fog\") ctx.fillStyle = getFogColour();\n        else ctx.fillStyle = this.fillColour;\n        const loc = g2l(this.refPoint);\n        ctx.arc(loc.x, loc.y, g2lz(this.r), 0, 2 * Math.PI);\n        ctx.fill();\n        if (this.strokeColour !== \"rgba(0, 0, 0, 0)\") {\n            ctx.beginPath();\n            ctx.lineWidth = g2lz(5);\n            ctx.strokeStyle = this.strokeColour;\n            ctx.arc(loc.x, loc.y, g2lz(this.r), 0, 2 * Math.PI);\n            ctx.stroke();\n        }\n    }\n    contains(point: GlobalPoint): boolean {\n        return (point.x - this.refPoint.x) ** 2 + (point.y - this.refPoint.y) ** 2 < this.r ** 2;\n    }\n    inCorner(point: GlobalPoint, corner: string) {\n        return false; // TODO\n    }\n    getCorner(point: GlobalPoint) {\n        if (this.inCorner(point, \"ne\")) return \"ne\";\n        else if (this.inCorner(point, \"nw\")) return \"nw\";\n        else if (this.inCorner(point, \"se\")) return \"se\";\n        else if (this.inCorner(point, \"sw\")) return \"sw\";\n    }\n    center(): GlobalPoint;\n    center(centerPoint: GlobalPoint): void;\n    center(centerPoint?: GlobalPoint): GlobalPoint | void {\n        if (centerPoint === undefined) return this.refPoint;\n        this.refPoint = centerPoint;\n    }\n    visibleInCanvas(canvas: HTMLCanvasElement): boolean {\n        return true;\n    } // TODO\n    snapToGrid() {\n        const gs = store.gridSize;\n        let targetX;\n        let targetY;\n        if (((2 * this.r) / gs) % 2 === 0) {\n            targetX = Math.round(this.refPoint.x / gs) * gs;\n        } else {\n            targetX = Math.round((this.refPoint.x - gs / 2) / gs) * gs + this.r;\n        }\n        if (((2 * this.r) / gs) % 2 === 0) {\n            targetY = Math.round(this.refPoint.y / gs) * gs;\n        } else {\n            targetY = Math.round((this.refPoint.y - gs / 2) / gs) * gs + this.r;\n        }\n        const delta = calculateDelta(new Vector(targetX - this.refPoint.x, targetY - this.refPoint.y), this);\n        this.refPoint = this.refPoint.add(delta);\n        this.invalidate(false);\n    }\n    resizeToGrid() {\n        const gs = store.gridSize;\n        this.r = Math.max(Math.round(this.r / gs) * gs, gs / 2);\n        this.invalidate(false);\n    }\n    resize(resizedir: string, point: LocalPoint) {\n        const z = store.zoomFactor;\n        const diff = l2g(point).subtract(this.refPoint);\n        this.r = Math.sqrt(Math.pow(diff.length(), 2) / 2);\n    }\n}\n","import * as tinycolor from \"tinycolor2\";\n\nimport Circle from \"@/game/shapes/circle\";\nimport store from \"@/game/store\";\n\nimport { calcFontScale } from \"@/core/utils\";\nimport { InitiativeData } from \"@/game/comm/types/general\";\nimport { ServerCircularToken } from \"@/game/comm/types/shapes\";\nimport { GlobalPoint } from \"@/game/geom\";\nimport { g2l, g2lz } from \"@/game/units\";\n\nexport default class CircularToken extends Circle {\n    type = \"circulartoken\";\n    text: string;\n    font: string;\n    constructor(\n        center: GlobalPoint,\n        r: number,\n        text: string,\n        font: string,\n        fillColour?: string,\n        strokeColour?: string,\n        uuid?: string,\n    ) {\n        super(center, r, fillColour, strokeColour, uuid);\n        this.text = text;\n        this.font = font;\n    }\n    asDict(): ServerCircularToken {\n        return Object.assign(this.getBaseDict(), {\n            radius: this.r,\n            text: this.text,\n            font: this.font,\n        });\n    }\n    fromDict(data: ServerCircularToken) {\n        super.fromDict(data);\n        this.r = data.radius;\n        this.text = data.text;\n        this.font = data.font;\n    }\n    draw(ctx: CanvasRenderingContext2D) {\n        super.draw(ctx);\n        ctx.font = this.font;\n        ctx.save();\n        const dest = g2l(this.center());\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = \"middle\";\n        const xs = calcFontScale(ctx, this.text, g2lz(this.r), g2lz(this.r));\n        const ys = 0;\n        ctx.transform(xs, ys, -ys, xs, dest.x, dest.y);\n        ctx.fillStyle = tinycolor.mostReadable(this.fillColour, [\"#000\", \"#fff\"]).toHexString();\n        ctx.fillText(this.text, 0, 0);\n        ctx.restore();\n    }\n    getInitiativeRepr(): InitiativeData {\n        return {\n            uuid: this.uuid,\n            visible: !store.IS_DM,\n            group: false,\n            source: this.name === \"\" || this.name === \"Unknown shape\" ? this.text : this.name,\n            has_img: false,\n            effects: [],\n            index: Infinity,\n        };\n    }\n}\n","import BoundingRect from \"@/game/shapes/boundingrect\";\nimport Shape from \"@/game/shapes/shape\";\n\nimport { GlobalPoint, LocalPoint } from \"@/game/geom\";\nimport { g2lx, g2ly } from \"@/game/units\";\n\nexport default class Line extends Shape {\n    type = \"line\";\n    endPoint: GlobalPoint;\n    lineWidth: number;\n    constructor(\n        startPoint: GlobalPoint,\n        endPoint: GlobalPoint,\n        lineWidth?: number,\n        strokeColour?: string,\n        uuid?: string,\n    ) {\n        super(startPoint, \"rgba(0, 0, 0, 0)\", strokeColour || \"#000\", uuid);\n        this.endPoint = endPoint;\n        this.lineWidth = lineWidth === undefined ? 1 : lineWidth;\n    }\n    asDict() {\n        return Object.assign(this.getBaseDict(), {\n            x2: this.endPoint.x,\n            y2: this.endPoint.y,\n            lineWidth: this.lineWidth,\n        });\n    }\n    getBoundingBox(): BoundingRect {\n        return new BoundingRect(\n            new GlobalPoint(Math.min(this.refPoint.x, this.endPoint.x), Math.min(this.refPoint.x, this.endPoint.y)),\n            Math.abs(this.refPoint.x - this.endPoint.x),\n            Math.abs(this.refPoint.y - this.endPoint.y),\n        );\n    }\n    draw(ctx: CanvasRenderingContext2D) {\n        super.draw(ctx);\n        ctx.strokeStyle = this.strokeColour;\n        ctx.beginPath();\n        ctx.moveTo(g2lx(this.refPoint.x), g2ly(this.refPoint.y));\n        ctx.lineTo(g2lx(this.endPoint.x), g2ly(this.endPoint.y));\n        ctx.lineWidth = this.lineWidth;\n        ctx.stroke();\n    }\n    contains(point: GlobalPoint): boolean {\n        return false; // TODO\n    }\n\n    center(): GlobalPoint;\n    center(centerPoint: GlobalPoint): void;\n    center(centerPoint?: GlobalPoint): GlobalPoint | void {} // TODO\n    getCorner(point: GlobalPoint): string | undefined {\n        return \"\";\n    } // TODO\n    visibleInCanvas(canvas: HTMLCanvasElement): boolean {\n        return true;\n    } // TODO\n    snapToGrid(): void {}\n    resizeToGrid(): void {}\n    resize(resizeDir: string, point: LocalPoint): void {}\n}\n","import BoundingRect from \"@/game/shapes/boundingrect\";\nimport Shape from \"@/game/shapes/shape\";\n\nimport { GlobalPoint, LocalPoint } from \"@/game/geom\";\nimport { g2lx, g2ly, g2lz } from \"@/game/units\";\nimport { getFogColour } from \"@/game/utils\";\n\nexport default class MultiLine extends Shape {\n    type = \"multiline\";\n    points: GlobalPoint[] = [];\n    size: number;\n    constructor(startPoint: GlobalPoint, points?: GlobalPoint[], size?: number, strokeColour?: string, uuid?: string) {\n        super(startPoint, \"rgba(0, 0, 0, 0)\", strokeColour || \"#000\", uuid);\n        this.points = points || [];\n        this.size = size || 3;\n    }\n    asDict() {\n        return Object.assign(this.getBaseDict(), {\n            size: this.size,\n            points: this.points.map(p => ({ x: p.x, y: p.y })),\n        });\n    }\n    getBoundingBox(): BoundingRect {\n        let minx: number = this.refPoint.x;\n        let maxx: number = this.refPoint.y;\n        let miny: number = this.refPoint.x;\n        let maxy: number = this.refPoint.y;\n        for (const p of this.points) {\n            if (p.x < minx) minx = p.x;\n            if (p.x > maxx) maxx = p.x;\n            if (p.y < miny) miny = p.y;\n            if (p.y > maxy) maxy = p.y;\n        }\n        return new BoundingRect(new GlobalPoint(minx, miny), maxx - minx, maxy - miny);\n    }\n    draw(ctx: CanvasRenderingContext2D) {\n        super.draw(ctx);\n        ctx.beginPath();\n        ctx.lineCap = \"round\";\n        ctx.lineJoin = \"round\";\n        ctx.moveTo(g2lx(this.refPoint.x), g2ly(this.refPoint.y));\n        for (const p of this.points) ctx.lineTo(g2lx(p.x), g2ly(p.y));\n        if (this.strokeColour === \"fog\") ctx.strokeStyle = getFogColour();\n        else ctx.strokeStyle = this.strokeColour;\n        ctx.lineWidth = g2lz(this.size);\n        ctx.stroke();\n    }\n    contains(point: GlobalPoint): boolean {\n        return this.points.includes(point);\n    }\n\n    center(): GlobalPoint;\n    center(centerPoint: GlobalPoint): void;\n    center(centerPoint?: GlobalPoint): GlobalPoint | void {} // TODO\n    getCorner(point: GlobalPoint): string | undefined {\n        return \"\";\n    } // TODO\n    visibleInCanvas(canvas: HTMLCanvasElement): boolean {\n        return true;\n    } // TODO\n    snapToGrid(): void {}\n    resizeToGrid(): void {}\n    resize(resizeDir: string, point: LocalPoint): void {}\n}\n","import layerManager from \"@/game/layers/manager\";\nimport Asset from \"@/game/shapes/asset\";\nimport Circle from \"@/game/shapes/circle\";\nimport CircularToken from \"@/game/shapes/circulartoken\";\nimport Line from \"@/game/shapes/line\";\nimport MultiLine from \"@/game/shapes/multiline\";\nimport Rect from \"@/game/shapes/rect\";\nimport Shape from \"@/game/shapes/shape\";\nimport Text from \"@/game/shapes/text\";\n\nimport {\n    ServerAsset,\n    ServerCircle,\n    ServerCircularToken,\n    ServerLine,\n    ServerMultiLine,\n    ServerRect,\n    ServerShape,\n    ServerText,\n} from \"@/game/comm/types/shapes\";\nimport { GlobalPoint } from \"@/game/geom\";\n\nexport function createShapeFromDict(shape: ServerShape, dummy?: boolean) {\n    // TODO: is this dummy stuff actually needed, do we ever want to return the local shape?\n    if (dummy === undefined) dummy = false;\n    if (!dummy && layerManager.UUIDMap.has(shape.uuid)) return layerManager.UUIDMap.get(shape.uuid);\n\n    let sh: Shape;\n\n    // A fromJSON and toJSON on Shape would be cleaner but ts does not allow for static abstracts so yeah.\n\n    // Shape Type specifics\n\n    const refPoint = new GlobalPoint(shape.x, shape.y);\n    if (shape.type_ === \"rect\") {\n        const rect = <ServerRect>shape;\n        sh = new Rect(refPoint, rect.width, rect.height, rect.fill_colour, rect.stroke_colour, rect.uuid);\n    } else if (shape.type_ === \"circle\") {\n        const circ = <ServerCircle>shape;\n        sh = new Circle(refPoint, circ.radius, circ.fill_colour, circ.stroke_colour, circ.uuid);\n    } else if (shape.type_ === \"circulartoken\") {\n        const token = <ServerCircularToken>shape;\n        sh = new CircularToken(\n            refPoint,\n            token.radius,\n            token.text,\n            token.font,\n            token.fill_colour,\n            token.stroke_colour,\n            token.uuid,\n        );\n    } else if (shape.type_ === \"line\") {\n        const line = <ServerLine>shape;\n        sh = new Line(refPoint, new GlobalPoint(line.x2, line.y2), line.lineWidth, line.stroke_colour, line.uuid);\n    } else if (shape.type_ === \"multiline\") {\n        const multiline = <ServerMultiLine>shape;\n        sh = new MultiLine(\n            refPoint,\n            multiline.points.map(p => new GlobalPoint(p.x, p.y)),\n            multiline.size,\n            multiline.stroke_colour,\n            multiline.uuid,\n        );\n    } else if (shape.type_ === \"text\") {\n        const text = <ServerText>shape;\n        sh = new Text(refPoint, text.text, text.font, text.angle, text.fill_colour, text.stroke_colour, text.uuid);\n    } else if (shape.type_ === \"assetrect\") {\n        const asset = <ServerAsset>shape;\n        const img = new Image(asset.width, asset.height);\n        if (asset.src.startsWith(\"http\")) img.src = new URL(asset.src).pathname;\n        else img.src = asset.src;\n        sh = new Asset(img, refPoint, asset.width, asset.height, asset.uuid);\n        img.onload = () => {\n            layerManager.getLayer(shape.layer)!.invalidate(false);\n        };\n    } else {\n        return undefined;\n    }\n    sh.fromDict(shape);\n    return sh;\n}\n","import game from \"@/game/game.vue\";\nimport layerManager from \"@/game/layers/manager\";\nimport store from \"@/game/store\";\nimport AnnotationManager from \"@/game/ui/annotation\";\n\nimport { sendClientOptions } from \"@/game/api/utils\";\nimport { ServerShape } from \"@/game/comm/types/shapes\";\nimport { GlobalPoint } from \"@/game/geom\";\nimport { createShapeFromDict } from \"@/game/shapes/utils\";\nimport { g2l } from \"@/game/units\";\n\nexport class GameManager {\n    selectedTool: number = 0;\n\n    annotationManager = new AnnotationManager();\n\n    addShape(shape: ServerShape): void {\n        if (!layerManager.hasLayer(shape.layer)) {\n            console.log(`Shape with unknown layer ${shape.layer} could not be added`);\n            return;\n        }\n        const layer = layerManager.getLayer(shape.layer)!;\n        const sh = createShapeFromDict(shape);\n        if (sh === undefined) {\n            console.log(`Shape with unknown type ${shape.type_} could not be added`);\n            return;\n        }\n        layer.addShape(sh, false);\n        layer.invalidate(false);\n    }\n\n    updateShape(data: { shape: ServerShape; redraw: boolean; move: boolean }): void {\n        if (!layerManager.hasLayer(data.shape.layer)) {\n            console.log(`Shape with unknown layer ${data.shape.layer} could not be added`);\n            return;\n        }\n        const sh = createShapeFromDict(data.shape, true);\n        if (sh === undefined) {\n            console.log(`Shape with unknown type ${data.shape.type_} could not be added`);\n            return;\n        }\n        const oldShape = layerManager.UUIDMap.get(data.shape.uuid);\n        if (oldShape === undefined) {\n            console.log(`Shape with unknown id could not be updated`);\n            return;\n        }\n        const redrawInitiative = sh.owners !== oldShape.owners;\n        const shape = Object.assign(oldShape, sh);\n        shape.checkVisionSources();\n        shape.setMovementBlock(shape.movementObstruction);\n        shape.setIsToken(shape.isToken);\n        if (data.move && shape.visionObstruction) store.recalculateBV();\n        if (data.redraw) layerManager.getLayer(data.shape.layer)!.invalidate(false);\n        if (redrawInitiative) (<any>game).$refs.initiative.$forceUpdate();\n    }\n\n    setCenterPosition(position: GlobalPoint) {\n        const localPos = g2l(position);\n        // store.commit(\"increasePanX\", (window.innerWidth / 2 - localPos.x) / store.state.game.zoomFactor);\n        // store.commit(\"increasePanY\", (window.innerHeight / 2 - localPos.y) / store.state.game.zoomFactor);\n        layerManager.invalidate();\n        sendClientOptions();\n    }\n}\n\nconst gameManager = new GameManager();\n(<any>window).gameManager = gameManager;\nexport default gameManager;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.getActiveLayer() !== undefined)?_c('contextmenu',{attrs:{\"visible\":_vm.visible,\"left\":_vm.x + 'px',\"top\":_vm.y + 'px'},on:{\"close\":_vm.close}},[(_vm.getLayers().length > 1)?_c('li',[_vm._v(\"Layer\\n        \"),_c('ul',_vm._l((_vm.getLayers()),function(layer){return _c('li',{key:layer.name,style:([_vm.getActiveLayer().name === layer.name ? {'background-color':'#82c8a0'}: {}]),on:{\"click\":function($event){_vm.setLayer(layer.name)}}},[_vm._v(\"\\n                \"+_vm._s(layer.name)+\"\\n            \")])}))]):_vm._e(),_c('li',{on:{\"click\":_vm.moveToBack}},[_vm._v(\"Move to back\")]),_c('li',{on:{\"click\":_vm.moveToFront}},[_vm._v(\"Move to front\")]),_c('li',{on:{\"click\":_vm.addInitiative}},[_vm._v(_vm._s(_vm.getInitiativeWord())+\" initiative\")])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.visible)?_c('div',{staticClass:\"ContextMenu\",style:({left:_vm.left, top:_vm.top}),attrs:{\"tabindex\":\"-1\"},on:{\"blur\":function($event){_vm.$emit('close')}}},[_c('ul',[_vm._t(\"default\")],2)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class='ContextMenu' tabindex=\"-1\" v-if=\"visible\" :style=\"{left:left, top:top}\" @blur=\"$emit('close')\">\n        <ul>\n            <slot></slot>\n        </ul>\n    </div>\n</template>\n\n<script>\nexport default {\n    props: [\"visible\", \"left\", \"top\"],\n};\n</script>\n\n<style>\n.ContextMenu {\n    position: fixed;\n    z-index: 11;\n}\n\n.ContextMenu ul {\n    border: 1px solid #ff7052;\n    border-radius: 5px;\n    background: white;\n    padding: 0;\n    list-style: none;\n    margin: 0;\n}\n\n.ContextMenu ul li {\n    border-bottom: 1px solid #ff7052;\n    padding: 5px;\n    cursor: pointer;\n}\n\n.ContextMenu ul li:hover {\n    background-color: #ff7052;\n}\n\n.ContextMenu ul li:last-child {\n    border-bottom: none;\n}\n\n.ContextMenu > ul > li {\n    clear: left;\n    position: relative;\n}\n\n.ContextMenu > ul > li ul {\n    display: none;\n    position: absolute;\n    left: 100%;\n    top: -1px;\n}\n\n.ContextMenu > ul > li:hover ul {\n    display: flex;\n    flex-direction: column;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./contextmenu.vue?vue&type=template&id=128fccc8&\"\nimport script from \"./contextmenu.vue?vue&type=script&lang=js&\"\nexport * from \"./contextmenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./contextmenu.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"contextmenu.vue\"\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nimport contextmenu from \"@/core/components/contextmenu.vue\";\nimport game from \"@/game/game.vue\";\nimport layerManager from \"@/game/layers/manager\";\nimport Settings from \"@/game/settings\";\nimport Shape from \"@/game/shapes/shape\";\n\nimport { l2gx, l2gy } from \"@/game/units\";\n\nexport default Vue.component(\"shape-menu\", {\n    components: {\n        contextmenu,\n    },\n    data: () => ({\n        visible: false,\n        x: 0,\n        y: 0,\n        shape: <Shape | null>null,\n    }),\n    computed: {\n        activeLayer: (): string => {\n            const layer = layerManager.getLayer();\n            return layer === undefined ? \"\" : layer.name;\n        },\n    },\n    methods: {\n        open(event: MouseEvent, shape: Shape) {\n            this.visible = true;\n            this.x = event.pageX;\n            this.y = event.pageY;\n            this.shape = shape;\n            this.$nextTick(() => this.$children[0].$el.focus());\n        },\n        close() {\n            this.visible = false;\n            this.shape = null;\n        },\n        getLayers() {\n            return layerManager.layers.filter(l => l.selectable && (this.$store.state.game.IS_DM || l.playerEditable));\n        },\n        getActiveLayer() {\n            return layerManager.getLayer();\n        },\n        getInitiativeWord() {\n            if (this.shape === null) return \"\";\n            const initiative = (<any>game).$refs.initiative;\n            return initiative.contains(this.shape.uuid) ? \"Show\" : \"Add\";\n        },\n        setLayer(newLayer: string) {\n            if (this.shape === null) return;\n            this.shape.moveLayer(newLayer, true);\n            this.close();\n        },\n        moveToBack() {\n            if (this.shape === null) return;\n            const layer = this.getActiveLayer()!;\n            layer.moveShapeOrder(this.shape, 0, true);\n            this.close();\n        },\n        moveToFront() {\n            if (this.shape === null) return;\n            const layer = this.getActiveLayer()!;\n            layer.moveShapeOrder(this.shape, layer.shapes.length - 1, true);\n            this.close();\n        },\n        addInitiative() {\n            if (this.shape === null) return;\n            const initiative = (<any>game).$refs.initiative;\n            if (!initiative.contains(this.shape.uuid)) initiative.addInitiative(this.shape.getInitiativeRepr());\n            initiative.visible = true;\n            this.close();\n        },\n    },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shapecontext.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shapecontext.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./shapecontext.vue?vue&type=template&id=e2ea3ef2&scoped=true&\"\nimport script from \"./shapecontext.vue?vue&type=script&lang=ts&\"\nexport * from \"./shapecontext.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./shapecontext.vue?vue&type=style&index=0&id=e2ea3ef2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e2ea3ef2\",\n  null\n  \n)\n\ncomponent.options.__file = \"shapecontext.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"visible\":_vm.visible},on:{\"close\":function($event){_vm.visible = false}},scopedSlots:_vm._u([{key:\"header\",fn:function(m){return _c('div',{staticClass:\"modal-header\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":m.dragStart,\"dragend\":m.dragEnd}},[_vm._v(\"Create basic token\")])}}])},[_c('div',{staticClass:\"modal-body\"},[_c('label',{attrs:{\"for\":\"createtokendialog-text\"}},[_vm._v(\"Text\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],attrs:{\"type\":\"text\",\"id\":\"createtokendialog-name\"},domProps:{\"value\":(_vm.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value}}}),_c('label',[_vm._v(\"Colours\")]),_c('div',{staticClass:\"colours\"},[_c('span',[_vm._v(\"Fill:\")]),_c('color-picker',{attrs:{\"color\":_vm.fillColour},on:{\"update:color\":function($event){_vm.fillColour=$event}}}),_c('span',[_vm._v(\"Border:\")]),_c('color-picker',{attrs:{\"color\":_vm.borderColour},on:{\"update:color\":function($event){_vm.borderColour=$event}}})],1),_c('canvas',{ref:\"canvas\",attrs:{\"width\":\"100px\",\"height\":\"100px\"}})]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{on:{\"click\":_vm.submit}},[_vm._v(\"Submit\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport * as tinycolor from \"tinycolor2\";\nimport Vue from \"vue\";\n\nimport { mapState } from \"vuex\";\n\nimport colorpicker from \"@/core/components/colorpicker.vue\";\nimport modal from \"@/core/components/modals/modal.vue\";\nimport layerManager from \"@/game/layers/manager\";\nimport Settings from \"@/game/settings\";\nimport CircularToken from \"@/game/shapes/circulartoken\";\n\nimport { calcFontScale } from \"@/core/utils\";\nimport { LocalPoint } from \"@/game/geom\";\nimport { getUnitDistance, l2g } from \"@/game/units\";\n\nexport default Vue.component(\"createtoken-modal\", {\n    components: {\n        modal,\n        \"color-picker\": colorpicker,\n    },\n    data: () => ({\n        x: 0,\n        y: 0,\n        visible: false,\n        text: \"X\",\n        fillColour: \"rgba(255, 255, 255, 1)\",\n        borderColour: \"rgba(0, 0, 0, 1)\",\n    }),\n    computed: {\n        ...mapState(\"game\", [\"unitSize\"]),\n    },\n    watch: {\n        text(newValue, oldValue) {\n            this.updatePreview();\n        },\n        fillColour(newValue, oldValue) {\n            this.updatePreview();\n        },\n        borderColour(newValue, oldValue) {\n            this.updatePreview();\n        },\n    },\n    mounted() {\n        this.updatePreview();\n    },\n    methods: {\n        open(x: number, y: number) {\n            this.visible = true;\n            this.x = x;\n            this.y = y;\n        },\n        submit() {\n            const layer = layerManager.getLayer();\n            if (layer === undefined) return;\n            const token = new CircularToken(\n                l2g(new LocalPoint(this.x, this.y)),\n                getUnitDistance(this.unitSize / 2),\n                this.text,\n                \"10px serif\",\n                this.fillColour,\n                this.borderColour,\n            );\n            token.owners.push(this.$store.state.username);\n            layer.addShape(token, true);\n            layer.invalidate(false);\n            this.visible = false;\n        },\n        updatePreview() {\n            const ctx = (<HTMLCanvasElement>this.$refs.canvas).getContext(\"2d\")!;\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            ctx.beginPath();\n            const dest = { x: ctx.canvas.width / 2, y: ctx.canvas.height / 2 };\n            const r = Math.min(dest.x, dest.y) * 0.9;\n\n            ctx.fillStyle = this.fillColour;\n\n            ctx.arc(dest.x, dest.y, r, 0, 2 * Math.PI);\n            ctx.fill();\n            if (this.borderColour !== \"rgba(0, 0, 0, 0)\") {\n                ctx.beginPath();\n                ctx.lineWidth = 5;\n                ctx.strokeStyle = this.borderColour;\n                ctx.arc(dest.x, dest.y, r, 0, 2 * Math.PI);\n                ctx.stroke();\n            }\n            ctx.save();\n            ctx.textAlign = \"center\";\n            ctx.textBaseline = \"middle\";\n            const xs = calcFontScale(ctx, this.text, r, r);\n            const ys = 0;\n            ctx.transform(xs, ys, -ys, xs, dest.x, dest.y);\n            ctx.fillStyle = tinycolor.mostReadable(this.fillColour, [\"#000\", \"#fff\"]).toHexString();\n            ctx.fillText(this.text, 0, 0);\n            ctx.restore();\n        },\n    },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createtoken_modal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createtoken_modal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./createtoken_modal.vue?vue&type=template&id=2ebb16e9&scoped=true&\"\nimport script from \"./createtoken_modal.vue?vue&type=script&lang=ts&\"\nexport * from \"./createtoken_modal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./createtoken_modal.vue?vue&type=style&index=0&id=2ebb16e9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ebb16e9\",\n  null\n  \n)\n\ncomponent.options.__file = \"createtoken_modal.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.selected)?_c('div',{staticClass:\"tool-detail\",style:({'--detailRight': _vm.detailRight, '--detailArrow': _vm.detailArrow})},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.IS_DM),expression:\"IS_DM\"}]},[_vm._v(\"Mode\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.IS_DM),expression:\"IS_DM\"}],staticClass:\"selectgroup\"},_vm._l((_vm.modes),function(mode){return _c('div',{key:mode,staticClass:\"option\",class:{'option-selected': _vm.modeSelect === mode},on:{\"click\":function($event){_vm.modeSelect = mode}}},[_vm._v(_vm._s(mode))])})),_c('div',[_vm._v(\"Shape\")]),_c('div',{staticClass:\"selectgroup\"},_vm._l((_vm.shapes),function(shape){return _c('div',{key:shape,staticClass:\"option\",class:{'option-selected': _vm.shapeSelect === shape},on:{\"click\":function($event){_vm.shapeSelect = shape}}},[_c('i',{staticClass:\"fas\",class:'fa-' + shape})])})),_c('div',[_vm._v(\"Colours\")]),_c('div',{staticClass:\"selectgroup\"},[_c('color-picker',{staticClass:\"option\",attrs:{\"color\":_vm.fillColour},on:{\"update:color\":function($event){_vm.fillColour=$event}}}),_c('color-picker',{staticClass:\"option\",attrs:{\"color\":_vm.borderColour},on:{\"update:color\":function($event){_vm.borderColour=$event}}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shapeSelect === 'paint-brush'),expression:\"shapeSelect === 'paint-brush'\"}]},[_vm._v(\"Brush size\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.brushSize),expression:\"brushSize\"},{name:\"show\",rawName:\"v-show\",value:(_vm.shapeSelect === 'paint-brush'),expression:\"shapeSelect === 'paint-brush'\"}],staticStyle:{\"max-width\":\"100px\"},attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.brushSize)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.brushSize=$event.target.value}}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\"div\")}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\nimport Vue from \"vue\";\nexport default Vue.component(\"tool\", {\n    data: () => ({\n        name: \"\",\n        selected: false,\n        active: false,\n    }),\n    computed: {\n        detailRight(): string {\n            const rect = (<any>this.$parent.$refs[this.name + \"-selector\"])[0].getBoundingClientRect();\n            const mid = rect.left + rect.width / 2;\n\n            return `${window.innerWidth - Math.min(window.innerWidth - 25, mid + 75)}px`;\n        },\n        detailArrow(): string {\n            const rect = (<any>this.$parent.$refs[this.name + \"-selector\"])[0].getBoundingClientRect();\n            const mid = rect.left + rect.width / 2;\n            const right = Math.min(window.innerWidth - 25, mid + 75);\n            return `${right - mid - 14}px`; // border width\n        },\n    },\n    created() {\n        this.$parent.$on(\"mousedown\", (event: MouseEvent, tool: string) => {\n            if (tool === this.name) this.onMouseDown(event);\n        });\n        this.$parent.$on(\"mouseup\", (event: MouseEvent, tool: string) => {\n            if (tool === this.name) this.onMouseUp(event);\n        });\n        this.$parent.$on(\"mousemove\", (event: MouseEvent, tool: string) => {\n            if (tool === this.name) this.onMouseMove(event);\n        });\n        this.$parent.$on(\"contextmenu\", (event: MouseEvent, tool: string) => {\n            if (tool === this.name) this.onContextMenu(event);\n        });\n        this.$parent.$on(\"tools-select-change\", (newValue: string, oldValue: string) => {\n            if (oldValue === this.name) {\n                this.selected = false;\n                this.onDeselect();\n            } else if (newValue === this.name) {\n                this.selected = true;\n                this.onSelect();\n            }\n        });\n    },\n    methods: {\n        onSelect() {},\n        onDeselect() {},\n        onMouseDown(event: MouseEvent) {},\n        onMouseUp(event: MouseEvent) {},\n        onMouseMove(event: MouseEvent) {},\n        onContextMenu(event: MouseEvent) {},\n    },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./tool.vue?vue&type=template&id=22bcb02a&\"\nimport script from \"./tool.vue?vue&type=script&lang=ts&\"\nexport * from \"./tool.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./tool.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"tool.vue\"\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport colorpicker from \"@/core/components/colorpicker.vue\";\nimport socket from \"@/game/api/socket\";\nimport layerManager from \"@/game/layers/manager\";\nimport Circle from \"@/game/shapes/circle\";\nimport MultiLine from \"@/game/shapes/multiline\";\nimport Rect from \"@/game/shapes/rect\";\nimport Shape from \"@/game/shapes/shape\";\nimport store from \"@/game/store\";\nimport Tool from \"@/game/ui/tools/tool.vue\";\n\nimport { GlobalPoint } from \"@/game/geom\";\nimport { FOWLayer } from \"@/game/layers/fow\";\nimport { getUnitDistance, l2g } from \"@/game/units\";\nimport { getMouse } from \"@/game/utils\";\n\nexport default Tool.extend({\n    components: {\n        \"color-picker\": colorpicker,\n    },\n    data: () => ({\n        name: \"Draw\",\n        active: false,\n\n        startPoint: <GlobalPoint | null>null,\n        shape: <Shape | null>null,\n        brushHelper: <Circle | null>null,\n\n        fillColour: \"rgba(0, 0, 0, 1)\",\n        borderColour: \"rgba(255, 255, 255, 0)\",\n\n        shapeSelect: \"square\",\n        shapes: [\"square\", \"circle\", \"paint-brush\"],\n        modeSelect: \"normal\",\n        modes: [\"normal\", \"reveal\", \"hide\"],\n\n        brushSize: getUnitDistance(store.unitSize),\n    }),\n    computed: {\n        helperSize(): number {\n            if (this.shapeSelect === \"paint-brush\") return this.brushSize / 2;\n            return getUnitDistance(this.unitSize) / 8;\n        },\n        IS_DM(): boolean {\n            return this.$store.state.game.IS_DM;\n        },\n        unitSize(): number {\n            return this.$store.state.game.unitSize;\n        },\n        useGrid(): boolean {\n            return this.$store.state.game.useGrid;\n        },\n    },\n    watch: {\n        fillColour() {\n            if (this.brushHelper) this.brushHelper.fillColour = this.fillColour;\n        },\n        modeSelect(newValue, oldValue) {\n            this.onModeChange(newValue, oldValue);\n        },\n    },\n    methods: {\n        setupBrush() {\n            if (this.brushHelper === null) return;\n            if (this.modeSelect === \"reveal\" || this.modeSelect === \"hide\") {\n                this.brushHelper.options.set(\"preFogShape\", true);\n                this.brushHelper.options.set(\"skipDraw\", true);\n                this.brushHelper.fillColour = \"rgba(0, 0, 0, 1)\";\n\n                if (this.modeSelect === \"reveal\") this.brushHelper.globalCompositeOperation = \"source-over\";\n                else if (this.modeSelect === \"hide\") this.brushHelper.globalCompositeOperation = \"destination-out\";\n            } else {\n                this.brushHelper.options.delete(\"preFogShape\");\n                this.brushHelper.options.delete(\"skipDraw\");\n                this.brushHelper.globalCompositeOperation = \"source-over\";\n                this.brushHelper.fillColour = this.fillColour;\n            }\n        },\n        onModeChange(newValue: string, oldValue: string) {\n            if (this.brushHelper === null) return;\n\n            const fowLayer = layerManager.getLayer(\"fow\");\n            const normalLayer = layerManager.getLayer();\n            if (fowLayer === undefined || normalLayer === undefined) return;\n\n            this.setupBrush();\n\n            if (newValue !== \"normal\" && oldValue === \"normal\") {\n                normalLayer.removeShape(this.brushHelper, false);\n                fowLayer.addShape(this.brushHelper, false);\n            } else if (newValue === \"normal\" && oldValue !== \"normal\") {\n                normalLayer.addShape(this.brushHelper, false);\n                fowLayer.removeShape(this.brushHelper, false);\n            }\n        },\n        getLayer() {\n            if (this.modeSelect === \"normal\") return layerManager.getLayer();\n            return layerManager.getLayer(\"fow\");\n        },\n        onMouseDown(event: MouseEvent) {\n            const layer = this.getLayer();\n            if (layer === undefined) {\n                console.log(\"No active layer!\");\n                return;\n            }\n            this.active = true;\n            this.startPoint = l2g(getMouse(event));\n            if (this.shapeSelect === \"square\")\n                this.shape = new Rect(this.startPoint.clone(), 0, 0, this.fillColour, this.borderColour);\n            else if (this.shapeSelect === \"circle\")\n                this.shape = new Circle(this.startPoint.clone(), this.helperSize, this.fillColour, this.borderColour);\n            else if (this.shapeSelect === \"paint-brush\") {\n                this.shape = new MultiLine(this.startPoint.clone(), [], this.brushSize);\n                this.shape.fillColour = this.fillColour;\n            } else return;\n\n            if (this.modeSelect !== \"normal\") {\n                this.shape.options.set(\"preFogShape\", true);\n                this.shape.options.set(\"skipDraw\", true);\n                this.shape.fillColour = \"rgba(0, 0, 0, 1)\";\n            }\n            if (this.modeSelect === \"reveal\") this.shape.globalCompositeOperation = \"source-over\";\n            else if (this.modeSelect === \"hide\") this.shape.globalCompositeOperation = \"destination-out\";\n\n            this.shape.owners.push(this.$store.state.game.username);\n            if (layer.name === \"fow\" && this.modeSelect === \"normal\") {\n                this.shape.visionObstruction = true;\n                this.shape.movementObstruction = true;\n            }\n            store.visionBlockers.push(this.shape.uuid);\n            layer.addShape(this.shape, true, false);\n\n            // Push brushhelper to back\n            this.onDeselect();\n            this.onSelect();\n        },\n        onMouseMove(event: MouseEvent) {\n            const endPoint = l2g(getMouse(event));\n            const layer = this.getLayer();\n            if (layer === undefined) {\n                console.log(\"No active layer!\");\n                return;\n            }\n\n            if (this.brushHelper !== null) {\n                this.brushHelper.r = this.helperSize;\n                this.brushHelper.refPoint = endPoint;\n                if (!this.active) layer.invalidate(false);\n            }\n\n            if (!this.active || this.startPoint === null || this.shape === null) return;\n\n            if (this.shapeSelect === \"square\") {\n                (<Rect>this.shape).w = Math.abs(endPoint.x - this.startPoint.x);\n                (<Rect>this.shape).h = Math.abs(endPoint.y - this.startPoint.y);\n                this.shape.refPoint.x = Math.min(this.startPoint.x, endPoint.x);\n                this.shape.refPoint.y = Math.min(this.startPoint.y, endPoint.y);\n            } else if (this.shapeSelect === \"circle\") {\n                (<Circle>this.shape).r = endPoint.subtract(this.startPoint).length();\n            } else if (this.shapeSelect === \"paint-brush\") {\n                (<MultiLine>this.shape).points.push(endPoint);\n            }\n            socket.emit(\"Shape.Update\", { shape: this.shape!.asDict(), redraw: true, temporary: false });\n            if (this.shape.visionObstruction) store.recalculateBV();\n            layer.invalidate(false);\n        },\n        onMouseUp(event: MouseEvent) {\n            if (this.active && this.shape !== null && !event.altKey && this.useGrid) {\n                this.shape.resizeToGrid();\n                socket.emit(\"Shape.Update\", { shape: this.shape!.asDict(), redraw: true, temporary: false });\n            }\n            this.active = false;\n        },\n        onSelect() {\n            const layer = this.getLayer();\n            if (layer === undefined) return;\n            this.brushHelper = new Circle(new GlobalPoint(-1000, -1000), this.brushSize / 2, this.fillColour);\n            this.setupBrush();\n            layer.addShape(this.brushHelper, false); // during mode change the shape is already added\n        },\n        onDeselect() {\n            const layer = this.getLayer();\n            if (this.brushHelper !== null && layer !== undefined) layer.removeShape(this.brushHelper, false);\n        },\n    },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./draw.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./draw.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./draw.vue?vue&type=template&id=04c29104&scoped=true&\"\nimport script from \"./draw.vue?vue&type=script&lang=ts&\"\nexport * from \"./draw.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./draw.vue?vue&type=style&index=0&id=04c29104&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04c29104\",\n  null\n  \n)\n\ncomponent.options.__file = \"draw.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.selected)?_c('div',{staticClass:\"tool-detail\",style:({'--detailRight': _vm.detailRight, '--detailArrow': _vm.detailArrow})},[_c('div',[_vm._v(\"#X\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.xCount),expression:\"xCount\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.xCount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.xCount=$event.target.value}}}),_c('div',[_vm._v(\"#Y\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.yCount),expression:\"yCount\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.yCount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.yCount=$event.target.value}}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { mapState } from \"vuex\";\n\nimport layerManager from \"@/game/layers/manager\";\nimport BaseRect from \"@/game/shapes/baserect\";\nimport Rect from \"@/game/shapes/rect\";\nimport Tool from \"@/game/ui/tools/tool.vue\";\n\nimport { GlobalPoint } from \"@/game/geom\";\nimport { l2g } from \"@/game/units\";\nimport { getMouse } from \"@/game/utils\";\n\nexport default Tool.extend({\n    data: () => ({\n        name: \"Map\",\n        active: false,\n        xCount: 3,\n        yCount: 3,\n        startPoint: <GlobalPoint | null>null,\n        rect: <Rect | null>null,\n    }),\n    computed: {\n        ...mapState(\"game\", [\"gridSize\"]),\n    },\n    methods: {\n        onMouseDown(event: MouseEvent) {\n            const layer = layerManager.getLayer();\n            if (layer === undefined) {\n                console.log(\"No active layer!\");\n                return;\n            }\n            this.active = true;\n\n            this.startPoint = l2g(getMouse(event));\n            this.rect = new Rect(this.startPoint.clone(), 0, 0, \"rgba(0,0,0,0)\", \"black\");\n            layer.addShape(this.rect, false, false);\n        },\n        onMouseMove(event: MouseEvent) {\n            if (!this.active || this.rect === null || this.startPoint === null) return;\n            const layer = layerManager.getLayer();\n            if (layer === undefined) {\n                console.log(\"No active layer!\");\n                return;\n            }\n\n            const endPoint = l2g(getMouse(event));\n\n            this.rect.w = Math.abs(endPoint.x - this.startPoint.x);\n            this.rect.h = Math.abs(endPoint.y - this.startPoint.y);\n            this.rect.refPoint.x = Math.min(this.startPoint.x, endPoint.x);\n            this.rect.refPoint.y = Math.min(this.startPoint.y, endPoint.y);\n            layer.invalidate(false);\n        },\n        onMouseUp(event: MouseEvent) {\n            if (!this.active || this.rect === null) return;\n            const layer = layerManager.getLayer();\n            if (layer === undefined) {\n                console.log(\"No active layer!\");\n                return;\n            }\n            this.active = false;\n\n            if (layer.selection.length !== 1) {\n                layer.removeShape(this.rect, false, false);\n                return;\n            }\n\n            const w = this.rect.w;\n            const h = this.rect.h;\n            const sel = layer.selection[0];\n\n            if (sel instanceof BaseRect) {\n                sel.w *= (this.xCount * this.gridSize) / w;\n                sel.h *= (this.yCount * this.gridSize) / h;\n            }\n\n            layer.removeShape(this.rect, false, false);\n        },\n    },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./map.vue?vue&type=template&id=46457c2f&\"\nimport script from \"./map.vue?vue&type=script&lang=ts&\"\nexport * from \"./map.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"map.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\"div\")}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\nimport { mapState } from \"vuex\";\n\nimport layerManager from \"@/game/layers/manager\";\nimport store from \"@/game/store\";\nimport Tool from \"@/game/ui/tools/tool.vue\";\n\nimport { sendClientOptions } from \"@/game/api/utils\";\nimport { LocalPoint } from \"@/game/geom\";\nimport { getMouse } from \"@/game/utils\";\n\nexport default Tool.extend({\n    data: () => ({\n        name: \"Pan\",\n        panStart: new LocalPoint(0, 0),\n        active: false,\n    }),\n    computed: {\n        ...mapState(\"game\", [\"zoomFactor\", \"panX\", \"panY\"]),\n    },\n    methods: {\n        onMouseDown(event: MouseEvent) {\n            this.panStart = getMouse(event);\n            this.active = true;\n        },\n        onMouseMove(event: MouseEvent) {\n            if (!this.active) return;\n            const mouse = getMouse(event);\n            const distance = mouse.subtract(this.panStart).multiply(1 / this.zoomFactor);\n            store.increasePanX(Math.round(distance.x));\n            store.increasePanY(Math.round(distance.y));\n            this.panStart = mouse;\n            layerManager.invalidate();\n        },\n        onMouseUp(event: MouseEvent) {\n            this.active = false;\n            sendClientOptions();\n        },\n    },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pan.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pan.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./pan.vue?vue&type=template&id=f2a859bc&\"\nimport script from \"./pan.vue?vue&type=script&lang=ts&\"\nexport * from \"./pan.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"pan.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\"div\")}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\nimport { mapState } from \"vuex\";\n\nimport socket from \"@/game/api/socket\";\nimport layerManager from \"@/game/layers/manager\";\nimport Line from \"@/game/shapes/line\";\nimport Text from \"@/game/shapes/text\";\nimport Tool from \"@/game/ui/tools/tool.vue\";\n\nimport { GlobalPoint } from \"@/game/geom\";\nimport { l2g } from \"@/game/units\";\nimport { getMouse } from \"@/game/utils\";\n\nexport default Tool.extend({\n    data: () => ({\n        name: \"Ruler\",\n        active: false,\n        startPoint: <GlobalPoint | null>null,\n        ruler: <Line | null>null,\n        text: <Text | null>null,\n    }),\n    computed: {\n        ...mapState(\"game\", [\"username\", \"gridSize\", \"unitSize\"]),\n    },\n    methods: {\n        onMouseDown(event: MouseEvent) {\n            const layer = layerManager.getLayer(\"draw\");\n            if (layer === undefined) {\n                console.log(\"No draw layer!\");\n                return;\n            }\n            this.active = true;\n            this.startPoint = l2g(getMouse(event));\n            this.ruler = new Line(this.startPoint, this.startPoint, 3, this.$store.state.game.rulerColour);\n            this.text = new Text(this.startPoint.clone(), \"\", \"bold 20px serif\");\n            this.ruler.owners.push(this.username);\n            this.text.owners.push(this.username);\n            layer.addShape(this.ruler, true, true);\n            layer.addShape(this.text, true, true);\n        },\n        onMouseMove(event: MouseEvent) {\n            if (!this.active || this.ruler === null || this.startPoint === null || this.text === null) return;\n\n            const layer = layerManager.getLayer(\"draw\");\n            if (layer === undefined) {\n                console.log(\"No draw layer!\");\n                return;\n            }\n            const endPoint = l2g(getMouse(event));\n\n            this.ruler.endPoint = endPoint;\n            socket.emit(\"Shape.Update\", { shape: this.ruler!.asDict(), redraw: true, temporary: true });\n\n            const diffsign = Math.sign(endPoint.x - this.startPoint.x) * Math.sign(endPoint.y - this.startPoint.y);\n            const xdiff = Math.abs(endPoint.x - this.startPoint.x);\n            const ydiff = Math.abs(endPoint.y - this.startPoint.y);\n            const label = Math.round((Math.sqrt(xdiff ** 2 + ydiff ** 2) * this.unitSize) / this.gridSize) + \" ft\";\n            const angle = Math.atan2(diffsign * ydiff, xdiff);\n            const xmid = Math.min(this.startPoint.x, endPoint.x) + xdiff / 2;\n            const ymid = Math.min(this.startPoint.y, endPoint.y) + ydiff / 2;\n            this.text.refPoint.x = xmid;\n            this.text.refPoint.y = ymid;\n            this.text.text = label;\n            this.text.angle = angle;\n            socket.emit(\"Shape.Update\", { shape: this.text.asDict(), redraw: true, temporary: true });\n            layer.invalidate(true);\n        },\n        onMouseUp(event: MouseEvent) {\n            if (!this.active || this.ruler === null || this.startPoint === null || this.text === null) return;\n\n            const layer = layerManager.getLayer(\"draw\");\n            if (layer === undefined) {\n                console.log(\"No active layer!\");\n                return;\n            }\n            this.active = false;\n\n            layer.removeShape(this.ruler, true, true);\n            layer.removeShape(this.text, true, true);\n            layer.invalidate(true);\n            this.ruler = this.startPoint = this.text = null;\n        },\n    },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ruler.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ruler.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ruler.vue?vue&type=template&id=db85240c&\"\nimport script from \"./ruler.vue?vue&type=script&lang=ts&\"\nexport * from \"./ruler.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ruler.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContextMenu',{ref:\"selectcontext\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('contextmenu',{attrs:{\"visible\":_vm.visible,\"left\":_vm.x + 'px',\"top\":_vm.y + 'px'},on:{\"close\":_vm.close}},[(_vm.IS_DM)?_c('li',{on:{\"click\":_vm.bringPlayers}},[_vm._v(\"Bring players\")]):_vm._e(),_c('li',{on:{\"click\":_vm.createToken}},[_vm._v(\"Create basic token\")]),_c('li',{on:{\"click\":_vm.showInitiative}},[_vm._v(\"Show initiative\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nimport { mapState } from \"vuex\";\n\nimport contextmenu from \"@/core/components/contextmenu.vue\";\nimport socket from \"@/game/api/socket\";\n\nimport { l2gx, l2gy } from \"@/game/units\";\n\nexport default Vue.component(\"select-context\", {\n    components: {\n        contextmenu,\n    },\n    data: () => ({\n        visible: false,\n        x: 0,\n        y: 0,\n    }),\n    computed: {\n        ...mapState(\"game\", [\"IS_DM\"]),\n    },\n    methods: {\n        open(event: MouseEvent) {\n            this.visible = true;\n            this.x = event.pageX;\n            this.y = event.pageY;\n            this.$nextTick(() => this.$children[0].$el.focus());\n        },\n        close() {\n            this.visible = false;\n        },\n        bringPlayers() {\n            if (!this.IS_DM) return;\n            socket.emit(\"Players.Bring\", { x: l2gx(this.x), y: l2gy(this.y) });\n            this.close();\n        },\n        createToken() {\n            (<any>this.$parent.$parent.$refs.createtokendialog).open(this.x, this.y);\n            this.close();\n        },\n        showInitiative() {\n            (<any>this.$root.$refs.initiative).visible = true;\n            this.close();\n        },\n    },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectcontext.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectcontext.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./selectcontext.vue?vue&type=template&id=9e129ee8&scoped=true&\"\nimport script from \"./selectcontext.vue?vue&type=script&lang=ts&\"\nexport * from \"./selectcontext.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./selectcontext.vue?vue&type=style&index=0&id=9e129ee8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9e129ee8\",\n  null\n  \n)\n\ncomponent.options.__file = \"selectcontext.vue\"\nexport default component.exports","\n\n\n\n\nimport Vue from \"vue\";\n\nimport socket from \"@/game/api/socket\";\nimport game from \"@/game/game.vue\";\nimport layerManager from \"@/game/layers/manager\";\nimport Rect from \"@/game/shapes/rect\";\nimport store from \"@/game/store\";\nimport ContextMenu from \"@/game/ui/tools/selectcontext.vue\";\nimport Tool from \"@/game/ui/tools/tool.vue\";\n\nimport { GlobalPoint, LocalPoint, Ray, Vector } from \"@/game/geom\";\nimport { calculateDelta } from \"@/game/ui/tools/utils\";\nimport { g2l, g2lx, g2ly, l2g } from \"@/game/units\";\nimport { getMouse } from \"@/game/utils\";\n\nexport enum SelectOperations {\n    Noop,\n    Resize,\n    Drag,\n    GroupSelect,\n}\n\nexport default Tool.extend({\n    components: {\n        ContextMenu,\n    },\n    // data() {\n    data() {\n        const start = new GlobalPoint(-1000, -1000);\n        return {\n            name: \"Select\",\n            showContextMenu: false,\n\n            mode: SelectOperations.Noop,\n            resizeDirection: \"\",\n            deltaChanged: false,\n            // Because we never drag from the asset's (0, 0) coord and want a smoother drag experience\n            // we keep track of the actual offset within the asset.\n            dragRay: new Ray<LocalPoint>(new LocalPoint(0, 0), new Vector(0, 0)),\n            selectionStartPoint: start,\n            selectionHelper: new Rect(start, 0, 0),\n        };\n    },\n    computed: {\n        username(): string {\n            return this.$store.state.game.username;\n        },\n        zoomFactor(): number {\n            return this.$store.state.game.zoomFactor;\n        },\n        IS_DM(): boolean {\n            return this.$store.state.game.IS_DM;\n        },\n        useGrid(): boolean {\n            return this.$store.state.game.useGrid;\n        },\n    },\n    created() {\n        this.selectionHelper.globalCompositeOperation = \"source-over\";\n    },\n    methods: {\n        onMouseDown(event: MouseEvent) {\n            const layer = layerManager.getLayer();\n            if (layer === undefined) {\n                console.log(\"No active layer!\");\n                return;\n            }\n\n            if (!this.selectionHelper.owners.includes(this.username)) {\n                this.selectionHelper.owners.push(this.username);\n            }\n\n            const mouse = getMouse(event);\n            const globalMouse = l2g(mouse);\n\n            let hit = false;\n            // The selectionStack allows for lower positioned objects that are selected to have precedence during overlap.\n            let selectionStack;\n            if (!layer.selection.length) selectionStack = layer.shapes;\n            else selectionStack = layer.shapes.concat(layer.selection);\n            for (let i = selectionStack.length - 1; i >= 0; i--) {\n                const shape = selectionStack[i];\n\n                if (!shape.ownedBy()) continue;\n\n                const corner = shape.getBoundingBox().getCorner(globalMouse);\n\n                // Resize case, a corner is selected\n                if (corner !== undefined) {\n                    layer.selection = [shape];\n                    (<any>game).$refs.selectionInfo.shape = shape;\n                    this.mode = SelectOperations.Resize;\n                    this.resizeDirection = corner;\n                    layer.invalidate(true);\n                    hit = true;\n                    break;\n\n                    // Drag case, a shape is selected\n                } else if (shape.contains(globalMouse)) {\n                    const selection = shape;\n                    if (layer.selection.indexOf(selection) === -1) {\n                        layer.selection = [selection];\n                        (<any>game).$refs.selectionInfo.shape = selection;\n                    }\n                    this.mode = SelectOperations.Drag;\n                    const localRefPoint = g2l(selection.refPoint);\n                    this.dragRay = new Ray<LocalPoint>(localRefPoint, mouse.subtract(localRefPoint));\n                    layer.invalidate(true);\n                    hit = true;\n                    break;\n                }\n            }\n\n            // GroupSelect case, draw a selection box to select multiple shapes\n            if (!hit) {\n                this.mode = SelectOperations.GroupSelect;\n                for (const selection of layer.selection) (<any>game).$refs.selectionInfo.shape = selection;\n\n                this.selectionStartPoint = globalMouse;\n\n                this.selectionHelper.refPoint = this.selectionStartPoint;\n                this.selectionHelper.w = 0;\n                this.selectionHelper.h = 0;\n\n                layer.selection = [this.selectionHelper];\n                layer.invalidate(true);\n            }\n        },\n        onMouseMove(event: MouseEvent) {\n            const layer = layerManager.getLayer();\n            if (layer === undefined) {\n                console.log(\"No active layer!\");\n                return;\n            }\n            const mouse = getMouse(event);\n            const globalMouse = l2g(mouse);\n            this.deltaChanged = false;\n\n            if (this.mode === SelectOperations.GroupSelect) {\n                // Currently draw on active layer\n                const endPoint = globalMouse;\n\n                this.selectionHelper.w = Math.abs(endPoint.x - this.selectionStartPoint.x);\n                this.selectionHelper.h = Math.abs(endPoint.y - this.selectionStartPoint.y);\n                this.selectionHelper.refPoint = new GlobalPoint(\n                    Math.min(this.selectionStartPoint.x, endPoint.x),\n                    Math.min(this.selectionStartPoint.y, endPoint.y),\n                );\n                layer.invalidate(true);\n            } else if (layer.selection.length) {\n                const og = g2l(layer.selection[layer.selection.length - 1].refPoint);\n                const origin = og.add(this.dragRay.direction);\n                let delta = mouse.subtract(origin).multiply(1 / this.zoomFactor);\n                const ogDelta = delta;\n                if (this.mode === SelectOperations.Drag) {\n                    // If we are on the tokens layer do a movement block check.\n                    if (layer.name === \"tokens\" && !(event.shiftKey && this.IS_DM)) {\n                        for (const sel of layer.selection) {\n                            if (sel.uuid === this.selectionHelper.uuid) continue; // the selection helper should not be treated as a real shape.\n                            delta = calculateDelta(delta, sel);\n                            if (delta !== ogDelta) this.deltaChanged = true;\n                        }\n                    }\n                    // Actually apply the delta on all shapes\n                    for (const sel of layer.selection) {\n                        sel.refPoint = sel.refPoint.add(delta);\n                        if (sel !== this.selectionHelper) {\n                            if (sel.visionObstruction) store.recalculateBV();\n                            socket.emit(\"Shape.Update\", { shape: sel.asDict(), redraw: true, temporary: true });\n                        }\n                    }\n                    layer.invalidate(false);\n                } else if (this.mode === SelectOperations.Resize) {\n                    for (const sel of layer.selection) {\n                        sel.resize(this.resizeDirection, mouse);\n                        if (sel !== this.selectionHelper) {\n                            if (sel.visionObstruction) store.recalculateBV();\n                            socket.emit(\"Shape.Update\", { shape: sel.asDict(), redraw: true, temporary: true });\n                        }\n                        layer.invalidate(false);\n                    }\n                } else {\n                    for (const sel of layer.selection) {\n                        const bb = sel.getBoundingBox();\n                        const gm = globalMouse;\n                        if (bb.inCorner(gm, \"nw\")) {\n                            document.body.style.cursor = \"nw-resize\";\n                        } else if (bb.inCorner(gm, \"ne\")) {\n                            document.body.style.cursor = \"ne-resize\";\n                        } else if (bb.inCorner(gm, \"se\")) {\n                            document.body.style.cursor = \"se-resize\";\n                        } else if (bb.inCorner(gm, \"sw\")) {\n                            document.body.style.cursor = \"sw-resize\";\n                        } else {\n                            document.body.style.cursor = \"default\";\n                        }\n                    }\n                }\n            } else {\n                document.body.style.cursor = \"default\";\n            }\n        },\n        onMouseUp(e: MouseEvent): void {\n            if (layerManager.getLayer() === undefined) {\n                console.log(\"No active layer!\");\n                return;\n            }\n            const layer = layerManager.getLayer()!;\n\n            if (this.mode === SelectOperations.GroupSelect) {\n                layer.clearSelection();\n                layer.shapes.forEach(shape => {\n                    if (shape === this.selectionHelper) return;\n                    const bbox = shape.getBoundingBox();\n                    if (!shape.ownedBy()) return;\n                    if (\n                        this.selectionHelper!.refPoint.x <= bbox.topRight.x &&\n                        this.selectionHelper!.refPoint.x + this.selectionHelper!.w >= bbox.topLeft.x &&\n                        this.selectionHelper!.refPoint.y <= bbox.botLeft.y &&\n                        this.selectionHelper!.refPoint.y + this.selectionHelper!.h >= bbox.topLeft.y\n                    ) {\n                        layer.selection.push(shape);\n                    }\n                });\n\n                // Push the selection helper as the last element of the selection\n                // This makes sure that it will be the first one to be hit in the hit detection onMouseDown\n                if (layer.selection.length > 0) layer.selection.push(this.selectionHelper);\n\n                layer.invalidate(true);\n            } else if (layer.selection.length) {\n                layer.selection.forEach(sel => {\n                    if (this.mode === SelectOperations.Drag) {\n                        if (\n                            this.dragRay.origin!.x === g2lx(sel.refPoint.x) &&\n                            this.dragRay.origin!.y === g2ly(sel.refPoint.y)\n                        )\n                            return;\n\n                        if (this.useGrid && !e.altKey && !this.deltaChanged) {\n                            sel.snapToGrid();\n                        }\n\n                        if (sel !== this.selectionHelper) {\n                            if (sel.visionObstruction) store.recalculateBV();\n                            socket.emit(\"Shape.Update\", { shape: sel.asDict(), redraw: true, temporary: false });\n                        }\n                        layer.invalidate(false);\n                    }\n                    if (this.mode === SelectOperations.Resize) {\n                        if (this.useGrid && !e.altKey) {\n                            sel.resizeToGrid();\n                        }\n                        if (sel !== this.selectionHelper) {\n                            if (sel.visionObstruction) store.recalculateBV();\n                            socket.emit(\"Shape.Update\", { shape: sel.asDict(), redraw: true, temporary: false });\n                        }\n                        layer.invalidate(false);\n                    }\n                });\n            }\n            this.mode = SelectOperations.Noop;\n        },\n        onContextMenu(event: MouseEvent) {\n            if (layerManager.getLayer() === undefined) {\n                console.log(\"No active layer!\");\n                return;\n            }\n            const layer = layerManager.getLayer()!;\n            const mouse = getMouse(event);\n            const globalMouse = l2g(mouse);\n\n            for (const shape of layer.selection) {\n                if (shape.contains(globalMouse)) {\n                    layer.selection = [shape];\n                    (<any>game).$refs.selectionInfo.shape = shape;\n                    layer.invalidate(true);\n                    (<any>this.$parent.$refs.shapecontext).open(event, shape);\n                    return;\n                }\n            }\n            (<any>this.$refs.selectcontext).open(event);\n        },\n    },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./select.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./select.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./select.vue?vue&type=template&id=e4054410&\"\nimport script from \"./select.vue?vue&type=script&lang=ts&\"\nexport * from \"./select.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"select.vue\"\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nimport layerManager from \"@/game/layers/manager\";\nimport gameManager from \"@/game/manager\";\nimport store from \"@/game/store\";\nimport shape_menu from \"@/game/ui/selection/shapecontext.vue\";\nimport createtoken_modal from \"@/game/ui/tools/createtoken_modal.vue\";\nimport DrawTool from \"@/game/ui/tools/draw.vue\";\nimport MapTool from \"@/game/ui/tools/map.vue\";\nimport PanTool from \"@/game/ui/tools/pan.vue\";\nimport RulerTool from \"@/game/ui/tools/ruler.vue\";\nimport SelectTool from \"@/game/ui/tools/select.vue\";\n\nimport { l2g } from \"@/game/units\";\nimport { getMouse } from \"@/game/utils\";\n\nexport default Vue.component(\"tools\", {\n    components: {\n        \"select-tool\": SelectTool,\n        \"pan-tool\": PanTool,\n        \"draw-tool\": DrawTool,\n        \"ruler-tool\": RulerTool,\n        \"map-tool\": MapTool,\n        \"shape-menu\": shape_menu,\n        \"createtoken-dialog\": createtoken_modal,\n    },\n    data: () => ({\n        currentTool: \"Select\",\n        tools: [\"Select\", \"Pan\", \"Draw\", \"Ruler\", \"Map\"],\n        dmTools: [\"Map\"],\n    }),\n    watch: {\n        currentTool(newValue, oldValue) {\n            this.$emit(\"tools-select-change\", newValue, oldValue);\n        },\n    },\n    computed: {\n        IS_DM(): boolean {\n            return this.$store.state.game.IS_DM;\n        },\n        currentToolComponent(): string {\n            return `${this.currentTool.toLowerCase()}-tool`;\n        },\n    },\n    methods: {\n        mousedown(event: MouseEvent) {\n            if ((<HTMLElement>event.target).tagName !== \"CANVAS\") return;\n\n            let targetTool = this.currentTool;\n            if (event.button === 1) {\n                targetTool = \"Pan\";\n            } else if (event.button !== 0) {\n                return;\n            }\n\n            this.$emit(\"mousedown\", event, targetTool);\n        },\n        mouseup(event: MouseEvent) {\n            if ((<HTMLElement>event.target).tagName !== \"CANVAS\") return;\n\n            let targetTool = this.currentTool;\n            if (event.button === 1) {\n                targetTool = \"Pan\";\n            } else if (event.button !== 0) {\n                return;\n            }\n\n            this.$emit(\"mouseup\", event, targetTool);\n        },\n        mousemove(event: MouseEvent) {\n            if ((<HTMLElement>event.target).tagName !== \"CANVAS\") return;\n\n            let targetTool = this.currentTool;\n            if ((event.buttons & 4) !== 0) {\n                targetTool = \"Pan\";\n            } else if ((event.button & 1) > 1) {\n                return;\n            }\n\n            this.$emit(\"mousemove\", event, targetTool);\n\n            // Annotation hover\n            let found = false;\n            for (const uuid of store.annotations) {\n                if (layerManager.UUIDMap.has(uuid) && layerManager.hasLayer(\"draw\")) {\n                    const shape = layerManager.UUIDMap.get(uuid)!;\n                    if (shape.contains(l2g(getMouse(event)))) {\n                        found = true;\n                        gameManager.annotationManager.setActiveText(shape.annotation);\n                    }\n                }\n            }\n            if (!found && gameManager.annotationManager.shown) {\n                gameManager.annotationManager.setActiveText(\"\");\n            }\n        },\n        mouseleave(event: MouseEvent) {\n            // When leaving the window while a mouse is pressed down, act as if it was released\n            if ((event.buttons & 1) !== 0) {\n                this.$emit(\"mouseup\", event, this.currentTool);\n            }\n        },\n        contextmenu(event: MouseEvent) {\n            if ((<HTMLElement>event.target).tagName !== \"CANVAS\") return;\n            if (event.button !== 2 || (<HTMLElement>event.target).tagName !== \"CANVAS\") return;\n            this.$emit(\"contextmenu\", event, this.currentTool);\n        },\n    },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tools.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tools.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./tools.vue?vue&type=template&id=69cbb9be&scoped=true&\"\nimport script from \"./tools.vue?vue&type=script&lang=ts&\"\nexport * from \"./tools.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./tools.vue?vue&type=style&index=0&id=69cbb9be&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69cbb9be\",\n  null\n  \n)\n\ncomponent.options.__file = \"tools.vue\"\nexport default component.exports","class Settings {\n    static angleSteps = 4;\n    static drawAngleLines = false;\n    static drawFirstLightHit = false;\n    static skipPlayerFOW = false;\n    static skipLightFOW = false;\n\n    static tempFill: string = \"fog\";\n}\n\nexport default Settings;\n","import socket from \"@/game/api/socket\";\nimport layerManager from \"@/game/layers/manager\";\nimport Shape from \"@/game/shapes/shape\";\nimport store from \"@/game/store\";\n\nimport { getRef } from \"@/core/utils\";\nimport { ServerShape } from \"@/game/comm/types/shapes\";\nimport { createShapeFromDict } from \"@/game/shapes/utils\";\nimport { g2lx, g2ly } from \"@/game/units\";\n\nexport class Layer {\n    name: string;\n    width: number;\n    height: number;\n    canvas: HTMLCanvasElement;\n    ctx: CanvasRenderingContext2D;\n\n    selectable: boolean = false;\n    playerEditable: boolean = false;\n    isVisionLayer: boolean = false;\n\n    // When set to false, the layer will be redrawn on the next tick\n    valid: boolean = false;\n    // The collection of shapes that this layer contains.\n    // These are ordered on a depth basis.\n    shapes: Shape[] = [];\n\n    // Collection of shapes that are currently selected\n    selection: Shape[] = [];\n\n    // Extra selection highlighting settings\n    selectionColor = \"#CC0000\";\n    selectionWidth = 2;\n\n    constructor(canvas: HTMLCanvasElement, name: string) {\n        this.canvas = canvas;\n        this.name = name;\n        this.width = canvas.width;\n        this.height = canvas.height;\n        this.ctx = canvas.getContext(\"2d\")!;\n    }\n\n    invalidate(skipLightUpdate: boolean): void {\n        this.valid = false;\n        if (!skipLightUpdate) {\n            layerManager.invalidateLight();\n        }\n    }\n\n    addShape(shape: Shape, sync: boolean, temporary?: boolean): void {\n        if (temporary === undefined) temporary = false;\n        shape.layer = this.name;\n        this.shapes.push(shape);\n        layerManager.UUIDMap.set(shape.uuid, shape);\n        shape.checkVisionSources();\n        shape.setMovementBlock(shape.movementObstruction);\n        if (shape.ownedBy(store.username) && shape.isToken) store.ownedtokens.push(shape.uuid);\n        if (shape.annotation.length) store.annotations.push(shape.uuid);\n        if (sync) socket.emit(\"Shape.Add\", { shape: shape.asDict(), temporary });\n        this.invalidate(!sync);\n    }\n\n    setShapes(shapes: ServerShape[]): void {\n        for (const serverShape of shapes) {\n            const shape = createShapeFromDict(serverShape);\n            if (shape === undefined) {\n                console.log(`Shape with unknown type ${serverShape.type_} could not be added`);\n                return;\n            }\n            this.addShape(shape, false, false);\n        }\n        this.clearSelection(); // TODO: Fix keeping selection on those items that are not moved.\n        this.invalidate(false);\n    }\n\n    removeShape(shape: Shape, sync: boolean, temporary?: boolean) {\n        if (temporary === undefined) temporary = false;\n        this.shapes.splice(this.shapes.indexOf(shape), 1);\n\n        if (sync) socket.emit(\"Shape.Remove\", { shape, temporary });\n        const lsI = store.visionSources.findIndex(ls => ls.shape === shape.uuid);\n        const lbI = store.visionBlockers.findIndex(ls => ls === shape.uuid);\n\n        const mbI = store.movementblockers.findIndex(ls => ls === shape.uuid);\n        const anI = store.annotations.findIndex(ls => ls === shape.uuid);\n        if (lsI >= 0) store.visionSources.splice(lsI, 1);\n        if (lbI >= 0) store.visionBlockers.splice(lbI, 1);\n        if (mbI >= 0) store.movementblockers.splice(mbI, 1);\n        if (anI >= 0) store.annotations.splice(anI, 1);\n\n        const annotationIndex = store.annotations.indexOf(shape.uuid);\n        if (annotationIndex >= 0) store.annotations.splice(annotationIndex, 1);\n\n        const ownedIndex = store.ownedtokens.indexOf(shape.uuid);\n        if (ownedIndex >= 0) store.ownedtokens.splice(ownedIndex, 1);\n\n        layerManager.UUIDMap.delete(shape.uuid);\n\n        const index = this.selection.indexOf(shape);\n        if (index >= 0) this.selection.splice(index, 1);\n        if (lbI >= 0) store.recalculateBV();\n        this.invalidate(!sync);\n    }\n\n    clear(): void {\n        this.ctx.clearRect(0, 0, this.width, this.height);\n    }\n\n    clearSelection(): void {\n        this.selection = [];\n        getRef(\"selectionInfo\").shape = null;\n    }\n\n    draw(doClear?: boolean): void {\n        if (!this.valid) {\n            const ctx = this.ctx;\n            const ogOP = ctx.globalCompositeOperation;\n            doClear = doClear === undefined ? true : doClear;\n\n            if (doClear) this.clear();\n\n            const state = this;\n\n            // We iteratre twice over all shapes\n            // First to draw the auras and a second time to draw the shapes themselves\n            // Otherwise auras from one shape could be overlapping another shape itself.\n\n            this.shapes.forEach(shape => {\n                if (shape.options.has(\"skipDraw\") && shape.options.get(\"skipDraw\")) return;\n                if (layerManager.getLayer() === undefined) return;\n                if (!shape.visibleInCanvas(state.canvas)) return;\n                if (state.name === \"fow\" && shape.visionObstruction && layerManager.getLayer()!.name !== state.name)\n                    return;\n                shape.drawAuras(ctx);\n            });\n            this.shapes.forEach(shape => {\n                if (shape.options.has(\"skipDraw\") && shape.options.get(\"skipDraw\")) return;\n                if (layerManager.getLayer() === undefined) return;\n                if (!shape.visibleInCanvas(state.canvas)) return;\n                if (state.name === \"fow\" && shape.visionObstruction && layerManager.getLayer()!.name !== state.name)\n                    return;\n                shape.draw(ctx);\n            });\n\n            if (this.selection != null) {\n                ctx.fillStyle = this.selectionColor;\n                ctx.strokeStyle = this.selectionColor;\n                ctx.lineWidth = this.selectionWidth;\n                const z = store.zoomFactor;\n                this.selection.forEach(sel => {\n                    ctx.globalCompositeOperation = sel.globalCompositeOperation;\n                    const bb = sel.getBoundingBox();\n                    // TODO: REFACTOR THIS TO Shape.drawSelection(ctx);\n                    ctx.strokeRect(g2lx(bb.topLeft.x), g2ly(bb.topLeft.y), bb.w * z, bb.h * z);\n\n                    const sw = Math.min(6, bb.w / 2);\n\n                    // topright\n                    ctx.fillRect(g2lx(bb.topRight.x - sw / 2), g2ly(bb.topLeft.y - sw / 2), sw * z, sw * z);\n                    // topleft\n                    ctx.fillRect(g2lx(bb.topLeft.x - sw / 2), g2ly(bb.topLeft.y - sw / 2), sw * z, sw * z);\n                    // botright\n                    ctx.fillRect(g2lx(bb.topRight.x - sw / 2), g2ly(bb.botLeft.y - sw / 2), sw * z, sw * z);\n                    // botleft\n                    ctx.fillRect(g2lx(bb.topLeft.x - sw / 2), g2ly(bb.botLeft.y - sw / 2), sw * z, sw * z);\n                });\n            }\n            ctx.globalCompositeOperation = ogOP;\n            this.valid = true;\n        }\n    }\n\n    moveShapeOrder(shape: Shape, destinationIndex: number, sync: boolean): void {\n        const oldIdx = this.shapes.indexOf(shape);\n        if (oldIdx === destinationIndex) return;\n        this.shapes.splice(oldIdx, 1);\n        this.shapes.splice(destinationIndex, 0, shape);\n        if (sync) socket.emit(\"Shape.Order.Set\", { shape: shape.asDict(), index: destinationIndex });\n        this.invalidate(true);\n    }\n\n    onShapeMove(shape: Shape): void {\n        shape.checkVisionSources();\n        if (shape.visionObstruction) store.recalculateBV();\n        this.invalidate(false);\n    }\n}\n","import layerManager from \"@/game/layers/manager\";\nimport Settings from \"@/game/settings\";\nimport Circle from \"@/game/shapes/circle\";\nimport Shape from \"@/game/shapes/shape\";\nimport store from \"@/game/store\";\n\nimport { GlobalPoint, Ray } from \"@/game/geom\";\nimport { Layer } from \"@/game/layers/layer\";\nimport { g2l, g2lr, g2lx, g2ly, g2lz, getUnitDistance } from \"@/game/units\";\nimport { getFogColour } from \"@/game/utils\";\n\nexport class FOWLayer extends Layer {\n    isVisionLayer: boolean = true;\n    preFogShapes: Shape[] = [];\n\n    addShape(shape: Shape, sync: boolean, temporary?: boolean): void {\n        super.addShape(shape, sync, temporary);\n        if (shape.options.has(\"preFogShape\") && shape.options.get(\"preFogShape\")) {\n            this.preFogShapes.push(shape);\n        }\n    }\n\n    removeShape(shape: Shape, sync: boolean, temporary?: boolean) {\n        if (shape.options.has(\"preFogShape\") && shape.options.get(\"preFogShape\")) {\n            const idx = this.preFogShapes.findIndex(s => s.uuid === shape.uuid);\n            this.preFogShapes.splice(idx, 1);\n        }\n        super.removeShape(shape, sync, temporary);\n    }\n\n    draw(): void {\n        if (!this.valid) {\n            const ctx = this.ctx;\n\n            if (Settings.skipLightFOW) {\n                ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n                this.valid = true;\n                return;\n            }\n\n            const originalOperation = ctx.globalCompositeOperation;\n            ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n            ctx.fillStyle = \"rgba(0, 0, 0, 1)\";\n\n            const dctx = layerManager.getLayer(\"draw\")!.ctx;\n            if (Settings.drawAngleLines || Settings.drawFirstLightHit) {\n                dctx.clearRect(0, 0, dctx.canvas.width, dctx.canvas.height);\n            }\n\n            // At all times provide a minimal vision range to prevent losing your tokens in fog.\n            if (store.fullFOW && layerManager.hasLayer(\"tokens\")) {\n                layerManager.getLayer(\"tokens\")!.shapes.forEach(sh => {\n                    if (!sh.ownedBy() || !sh.isToken) return;\n                    const bb = sh.getBoundingBox();\n                    const lcenter = g2l(sh.center());\n                    const alm = 0.8 * g2lz(bb.w);\n                    ctx.beginPath();\n                    ctx.arc(lcenter.x, lcenter.y, alm, 0, 2 * Math.PI);\n                    const gradient = ctx.createRadialGradient(lcenter.x, lcenter.y, alm / 2, lcenter.x, lcenter.y, alm);\n                    gradient.addColorStop(0, \"rgba(0, 0, 0, 1)\");\n                    gradient.addColorStop(1, \"rgba(0, 0, 0, 0)\");\n                    ctx.fillStyle = gradient;\n                    ctx.fill();\n                });\n            }\n\n            // First cut out all the light sources\n            for (const light of store.visionSources) {\n                const shape = layerManager.UUIDMap.get(light.shape);\n                if (shape === undefined) continue;\n                const aura = shape.auras.find(a => a.uuid === light.aura);\n                if (aura === undefined) continue;\n\n                const auraLength = getUnitDistance(aura.value + aura.dim);\n                const center = shape.center();\n                const lcenter = g2l(center);\n\n                const auraCircle = new Circle(center, auraLength);\n                if (!auraCircle.visibleInCanvas(ctx.canvas)) continue;\n\n                let lastArcAngle = -1;\n\n                const path = new Path2D();\n                path.moveTo(lcenter.x, lcenter.y);\n                let firstPoint: GlobalPoint;\n\n                for (let angle = 0; angle < 2 * Math.PI; angle += (Settings.angleSteps / 180) * Math.PI) {\n                    const anglePoint = new GlobalPoint(\n                        center.x + auraLength * Math.cos(angle),\n                        center.y + auraLength * Math.sin(angle),\n                    );\n                    if (Settings.drawAngleLines) {\n                        dctx!.beginPath();\n                        dctx!.moveTo(g2lx(center.x), g2ly(center.y));\n                        dctx!.lineTo(g2lx(anglePoint.x), g2ly(anglePoint.y));\n                        dctx!.stroke();\n                    }\n\n                    // Check if there is a hit with one of the nearby light blockers.\n                    const lightRay = Ray.fromPoints(center, anglePoint);\n                    const hitResult = store.BV.intersect(lightRay);\n\n                    if (angle === 0) firstPoint = hitResult.hit ? hitResult.intersect : anglePoint;\n\n                    // We can move on to the next angle if nothing was hit.\n                    if (!hitResult.hit) {\n                        // If an earlier hit caused the aura to leave the arc, we need to go back to the arc\n                        if (lastArcAngle === -1) {\n                            // Set the start of a new arc beginning at the current angle\n                            lastArcAngle = angle;\n                            // Draw a line from the last non arc location back to the arc\n                            const dest = g2l(anglePoint);\n                            ctx.lineTo(dest.x, dest.y);\n                        }\n                        continue;\n                    }\n                    // If hit , first finish any ongoing arc, then move to the intersection point\n                    if (lastArcAngle !== -1) {\n                        path.arc(lcenter.x, lcenter.y, g2lr(aura.value + aura.dim), lastArcAngle, angle);\n                        lastArcAngle = -1;\n                    }\n                    path.lineTo(g2lx(hitResult.intersect.x), g2ly(hitResult.intersect.y));\n                }\n\n                // Finish the final arc.\n                if (lastArcAngle === -1) path.lineTo(g2lx(firstPoint!.x), g2ly(firstPoint!.y));\n                else path.arc(lcenter.x, lcenter.y, g2lr(aura.value + aura.dim), lastArcAngle, 2 * Math.PI);\n\n                if (store.fullFOW) {\n                    if (aura.dim > 0) {\n                        // Fill the light aura with a radial dropoff towards the outside.\n                        const gradient = ctx.createRadialGradient(\n                            lcenter.x,\n                            lcenter.y,\n                            g2lr(aura.value),\n                            lcenter.x,\n                            lcenter.y,\n                            g2lr(aura.value + aura.dim),\n                        );\n                        gradient.addColorStop(0, \"rgba(0, 0, 0, 1)\");\n                        gradient.addColorStop(1, \"rgba(0, 0, 0, 0)\");\n                        ctx.fillStyle = gradient;\n                    } else {\n                        ctx.fillStyle = \"rgba(0, 0, 0, 1)\";\n                    }\n                    ctx.fill(path);\n                }\n\n                aura.lastPath = path;\n            }\n\n            // At the DM Side due to opacity of the two fow layers, it looks strange if we just render them on top of eachother like players.\n            if (store.fowLOS) {\n                ctx.globalCompositeOperation = \"source-in\";\n                ctx.drawImage(layerManager.getLayer(\"fow-players\")!.canvas, 0, 0);\n            }\n\n            for (const preShape of this.preFogShapes) {\n                if (!preShape.visibleInCanvas(this.canvas)) continue;\n                const ogComposite = preShape.globalCompositeOperation;\n                if (!store.fullFOW) {\n                    if (preShape.globalCompositeOperation === \"source-over\")\n                        preShape.globalCompositeOperation = \"destination-out\";\n                    else if (preShape.globalCompositeOperation === \"destination-out\")\n                        preShape.globalCompositeOperation = \"source-over\";\n                }\n                preShape.draw(ctx);\n                preShape.globalCompositeOperation = ogComposite;\n            }\n\n            if (store.fullFOW) {\n                ctx.globalCompositeOperation = \"source-out\";\n                ctx.fillStyle = getFogColour();\n                ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            }\n\n            super.draw(false);\n\n            ctx.globalCompositeOperation = originalOperation;\n        }\n    }\n}\n","import layerManager from \"@/game/layers/manager\";\nimport Settings from \"@/game/settings\";\nimport store from \"@/game/store\";\n\nimport { Ray, Vector } from \"@/game/geom\";\nimport { Layer } from \"@/game/layers/layer\";\nimport { g2l, g2lx, g2ly } from \"@/game/units\";\n\nexport class FOWPlayersLayer extends Layer {\n    isVisionLayer: boolean = true;\n\n    draw(): void {\n        if (!this.valid) {\n            const ctx = this.ctx;\n\n            if (!store.fowLOS || Settings.skipPlayerFOW) {\n                ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n                this.valid = true;\n                return;\n            }\n\n            ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n            const originalOperation = ctx.globalCompositeOperation;\n\n            ctx.fillStyle = \"rgba(0, 0, 0, 1)\";\n\n            // For the DM this is done at the end of this function.  TODO: why the split up ???\n            // This was done in commit be1e65cff1e7369375fe11cfa1643fab1d11beab.\n            if (!store.IS_DM) super.draw(!store.fullFOW);\n\n            // Then cut out all the player vision auras\n            const maxLength = ctx.canvas.width + ctx.canvas.height;\n            for (const tokenId of store.ownedtokens) {\n                ctx.beginPath();\n                let lastArcAngle = -1;\n                const token = layerManager.UUIDMap.get(tokenId);\n                if (token === undefined) continue;\n                const center = token.center();\n                const lcenter = g2l(center);\n\n                for (let angle = 0; angle < 2 * Math.PI; angle += (Settings.angleSteps / 2 / 180) * Math.PI) {\n                    const cos = Math.cos(angle);\n                    const sin = Math.sin(angle);\n                    // Check if there is a hit with one of the nearby light blockers.\n                    const lightRay = new Ray(center, new Vector(cos, sin));\n                    const hitResult = store.BV.intersect(lightRay);\n\n                    // We can move on to the next angle if nothing was hit.\n                    if (!hitResult.hit) {\n                        // If an earlier hit caused the aura to leave the arc, we need to go back to the arc\n                        if (lastArcAngle === -1) {\n                            // Draw a line from the last non arc location back to the arc\n                            ctx.lineTo(lcenter.x + maxLength * cos, lcenter.y + maxLength * sin);\n                            // Set the start of a new arc beginning at the current angle\n                            lastArcAngle = angle;\n                        }\n                        continue;\n                    }\n                    // If hit , first finish any ongoing arc, then move to the intersection point\n                    if (lastArcAngle !== -1) {\n                        ctx.arc(lcenter.x, lcenter.y, maxLength, lastArcAngle, angle);\n                        lastArcAngle = -1;\n                    }\n                    ctx.lineTo(g2lx(hitResult.intersect.x), g2ly(hitResult.intersect.y));\n                }\n\n                // Finish the final arc.\n                if (lastArcAngle !== -1) ctx.arc(lcenter.x, lcenter.y, maxLength, lastArcAngle, 2 * Math.PI);\n                else ctx.closePath();\n                ctx.fill();\n            }\n\n            // For the players this is done at the beginning of this function.  TODO: why the split up ???\n            // This was done in commit be1e65cff1e7369375fe11cfa1643fab1d11beab.\n            if (store.IS_DM) super.draw(!store.fullFOW);\n\n            ctx.globalCompositeOperation = originalOperation;\n        }\n    }\n}\n","import store from \"@/game/store\";\n\nimport { Layer } from \"@/game/layers/layer\";\n\nexport class GridLayer extends Layer {\n    invalidate(): void {\n        this.valid = false;\n    }\n    draw(doClear?: boolean): void {\n        if (!this.valid) {\n            this.drawGrid();\n        }\n    }\n    drawGrid(): void {\n        const ctx = this.ctx;\n        this.clear();\n        ctx.beginPath();\n\n        const gs = store.gridSize;\n\n        for (let i = 0; i < this.width; i += gs * store.zoomFactor) {\n            ctx.moveTo(i + (store.panX % gs) * store.zoomFactor, 0);\n            ctx.lineTo(i + (store.panX % gs) * store.zoomFactor, this.height);\n            ctx.moveTo(0, i + (store.panY % gs) * store.zoomFactor);\n            ctx.lineTo(this.width, i + (store.panY % gs) * store.zoomFactor);\n        }\n\n        ctx.strokeStyle = store.gridColour;\n        ctx.lineWidth = 1;\n        ctx.stroke();\n        this.valid = true;\n    }\n}\n","import layerManager from \"@/game/layers/manager\";\n\nimport { ServerLayer } from \"@/game/comm/types/general\";\nimport { FOWLayer } from \"@/game/layers/fow\";\nimport { FOWPlayersLayer } from \"@/game/layers/fowplayers\";\nimport { GridLayer } from \"@/game/layers/grid\";\nimport { Layer } from \"@/game/layers/layer\";\n\nexport function createLayer(layerInfo: ServerLayer) {\n    // Create canvas element\n    const canvas = document.createElement(\"canvas\");\n    canvas.style.zIndex = layerManager.layers.length.toString();\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n\n    // Create the Layer instance\n    let layer: Layer;\n    if (layerInfo.type_ === \"grid\") layer = new GridLayer(canvas, layerInfo.name);\n    else if (layerInfo.type_ === \"fow\") layer = new FOWLayer(canvas, layerInfo.name);\n    else if (layerInfo.type_ === \"fow-players\") layer = new FOWPlayersLayer(canvas, layerInfo.name);\n    else layer = new Layer(canvas, layerInfo.name);\n    layer.selectable = layerInfo.selectable;\n    layer.playerEditable = layerInfo.player_editable;\n    layerManager.addLayer(layer);\n\n    // Add the element to the DOM\n    const layers = document.getElementById(\"layers\");\n    if (layers === null) {\n        console.warn(\"Layers div is missing, this will prevent the main game board from loading!\");\n        return;\n    }\n    if (layerInfo.name !== \"fow-players\") layers.appendChild(canvas);\n\n    // if (layerInfo.type_ === 'grid' && layerInfo.size) store.commit(\"setGridSize\", { gridSize: layerInfo.size, sync: false });\n    // Load layer shapes\n    layer.setShapes(layerInfo.shapes);\n}\n","import socket from \"@/game/api/socket\";\nimport layerManager from \"@/game/layers/manager\";\nimport gameManager from \"@/game/manager\";\nimport store from \"@/game/store\";\n\nimport { AssetList } from \"@/core/comm/types\";\nimport { getRef } from \"@/core/utils\";\nimport {\n    BoardInfo,\n    InitiativeData,\n    InitiativeEffect,\n    Note,\n    ServerClient,\n    ServerLocation,\n} from \"@/game/comm/types/general\";\nimport { ServerShape } from \"@/game/comm/types/shapes\";\nimport { GlobalPoint } from \"@/game/geom\";\nimport { createLayer } from \"@/game/layers/utils\";\n\nsocket.on(\"connect\", () => {\n    console.log(\"Connected\");\n});\nsocket.on(\"disconnect\", () => {\n    console.log(\"Disconnected\");\n});\nsocket.on(\"redirect\", (destination: string) => {\n    console.log(\"redirecting\");\n    window.location.href = destination;\n});\nsocket.on(\"Room.Info.Set\", (data: { name: string; creator: string; invitationCode: string }) => {\n    store.setRoomName(data.name);\n    store.setRoomCreator(data.creator);\n    store.setInvitationCode(data.invitationCode);\n});\nsocket.on(\"Username.Set\", (username: string) => {\n    store.setUsername(username);\n    store.setDM(true);\n    // store.setDM\", username === window.location.pathname.split(\"/\")[2]);\n});\nsocket.on(\"Client.Options.Set\", (options: ServerClient) => {\n    store.setGridColour(options.grid_colour, false);\n    store.setFOWColour(options.fow_colour, false);\n    store.setRulerColour(options.ruler_colour, false);\n    store.setPanX(options.pan_x);\n    store.setPanY(options.pan_y);\n    store.setZoomFactor(options.zoom_factor);\n    if (options.active_layer) layerManager.selectLayer(options.active_layer, false);\n    if (layerManager.getGridLayer() !== undefined) layerManager.getGridLayer()!.invalidate();\n});\nsocket.on(\"Location.Set\", (data: Partial<ServerLocation>) => {\n    if (data.name !== undefined) store.setLocationName(data.name);\n    if (data.unit_size !== undefined) store.setUnitSize(data.unit_size, false);\n    if (data.use_grid !== undefined) store.setUseGrid(data.use_grid, false);\n    if (data.full_fow !== undefined) store.setFullFOW(data.full_fow, false);\n    if (data.fow_opacity !== undefined) store.setFOWOpacity(data.fow_opacity, false);\n    if (data.fow_los !== undefined) store.setLineOfSight(data.fow_los, false);\n});\nsocket.on(\"Position.Set\", (data: { x: number; y: number }) => {\n    gameManager.setCenterPosition(new GlobalPoint(data.x, data.y));\n});\nsocket.on(\"Notes.Set\", (notes: Note[]) => {\n    for (const note of notes) store.newNote(note, false);\n});\nsocket.on(\"Asset.List.Set\", (assets: AssetList) => {\n    store.setAssets(assets);\n});\nsocket.on(\"Board.Set\", (locationInfo: BoardInfo) => {\n    store.clear();\n    store.setLocations(locationInfo.locations);\n    document.getElementById(\"layers\")!.innerHTML = \"\";\n    store.resetLayerInfo();\n    for (const layer of locationInfo.layers) createLayer(layer);\n    // Force the correct opacity render on other layers.\n    layerManager.selectLayer(layerManager.getLayer()!.name, false);\n    getRef(\"initiative\").clear();\n    store.setBoardInitialized(true);\n    store.recalculateBV();\n});\nsocket.on(\"Gridsize.Set\", (gridSize: number) => {\n    store.setGridSize(gridSize, false);\n});\nsocket.on(\"Shape.Add\", (shape: ServerShape) => {\n    gameManager.addShape(shape);\n});\nsocket.on(\"Shape.Remove\", (shape: ServerShape) => {\n    if (!layerManager.UUIDMap.has(shape.uuid)) {\n        console.log(`Attempted to remove an unknown shape`);\n        return;\n    }\n    if (!layerManager.hasLayer(shape.layer)) {\n        console.log(`Attempted to remove shape from an unknown layer ${shape.layer}`);\n        return;\n    }\n    const layer = layerManager.getLayer(shape.layer)!;\n    layer.removeShape(layerManager.UUIDMap.get(shape.uuid)!, false);\n    layer.invalidate(false);\n});\nsocket.on(\"Shape.Order.Set\", (data: { shape: ServerShape; index: number }) => {\n    if (!layerManager.UUIDMap.has(data.shape.uuid)) {\n        console.log(`Attempted to move the shape order of an unknown shape`);\n        return;\n    }\n    if (!layerManager.hasLayer(data.shape.layer)) {\n        console.log(`Attempted to remove shape from an unknown layer ${data.shape.layer}`);\n        return;\n    }\n    const shape = layerManager.UUIDMap.get(data.shape.uuid)!;\n    const layer = layerManager.getLayer(shape.layer)!;\n    layer.moveShapeOrder(shape, data.index, false);\n});\nsocket.on(\"Shape.Layer.Change\", (data: { uuid: string; layer: string }) => {\n    const shape = layerManager.UUIDMap.get(data.uuid);\n    if (shape === undefined) return;\n    shape.moveLayer(data.layer, false);\n});\nsocket.on(\"Shape.Update\", (data: { shape: ServerShape; redraw: boolean; move: boolean }) => {\n    gameManager.updateShape(data);\n});\nsocket.on(\"Initiative.Set\", (data: InitiativeData[]) => {\n    getRef(\"initiative\").data = data.filter(d => !!d);\n});\nsocket.on(\"Initiative.Turn.Update\", (data: string) => {\n    getRef(\"initiative\").setTurn(data, false);\n});\nsocket.on(\"Initiative.Round.Update\", (data: number) => {\n    getRef(\"initiative\").setRound(data, false);\n});\nsocket.on(\"Initiative.Effect.New\", (data: { actor: string; effect: InitiativeEffect }) => {\n    const initiative = getRef(\"initiative\");\n    const actor = initiative.getActor(data.actor);\n    if (actor === undefined) return;\n    initiative.createEffect(actor, data.effect, false);\n});\nsocket.on(\"Initiative.Effect.Update\", (data: { actor: string; effect: InitiativeEffect }) => {\n    getRef(\"initiative\").updateEffect(data.actor, data.effect, false);\n});\nsocket.on(\"Temp.Clear\", (shapes: ServerShape[]) => {\n    shapes.forEach(shape => {\n        if (!layerManager.UUIDMap.has(shape.uuid)) {\n            console.log(\"Attempted to remove an unknown temporary shape\");\n            return;\n        }\n        if (!layerManager.hasLayer(shape.layer)) {\n            console.log(`Attempted to remove shape from an unknown layer ${shape.layer}`);\n            return;\n        }\n        const realShape = layerManager.UUIDMap.get(shape.uuid)!;\n        layerManager.getLayer(shape.layer)!.removeShape(realShape, false);\n    });\n});\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport vueSlider from \"vue-slider-component\";\n\nimport { throttle } from \"lodash\";\nimport { mapGetters, mapState } from \"vuex\";\n\nimport ConfirmDialog from \"@/core/components/modals/confirm.vue\";\nimport PromptDialog from \"@/core/components/modals/prompt.vue\";\nimport layerManager from \"@/game/layers/manager\";\nimport store from \"@/game/store\";\nimport InitiativeDialog from \"@/game/ui/initiative.vue\";\nimport MenuBar from \"@/game/ui/menu/menu.vue\";\nimport NoteDialog from \"@/game/ui/note.vue\";\nimport SelectionInfo from \"@/game/ui/selection/selection_info.vue\";\nimport Tools from \"@/game/ui/tools/tools.vue\";\n\nimport { createConnection } from \"@/game/api/socket\";\nimport { onKeyDown, onKeyUp } from \"@/game/events/keyboard\";\nimport { scrollZoom } from \"@/game/events/mouse\";\nimport { LocalPoint } from \"@/game/geom\";\nimport { l2g } from \"@/game/units\";\n\nimport \"@/game/api/events\";\n\nexport default Vue.component(\"game\", {\n    components: {\n        \"tool-bar\": Tools,\n        \"selection-info\": SelectionInfo,\n        \"prompt-dialog\": PromptDialog,\n        \"confirm-dialog\": ConfirmDialog,\n        \"menu-bar\": MenuBar,\n        \"initiative-dialog\": InitiativeDialog,\n        \"zoom-slider\": vueSlider,\n        \"note-dialog\": NoteDialog,\n    },\n    data: () => ({\n        ready: {\n            manager: false,\n            tools: false,\n        },\n    }),\n    computed: {\n        ...mapState(\"game\", [\"IS_DM\", \"layers\"]),\n        ...mapGetters(\"game\", [\"selectedLayer\"]),\n        gridSize() {\n            return this.$store.state.game.gridSize;\n        },\n        zoomFactor: {\n            get(): number {\n                return store.zoomFactor;\n            },\n            set(value: number) {\n                store.updateZoom(value, l2g(new LocalPoint(window.innerWidth / 2, window.innerHeight / 2)));\n            },\n        },\n    },\n    beforeRouteEnter(to, from, next) {\n        createConnection(to);\n        next();\n    },\n    mounted() {\n        // window.addEventListener(\"resize\", () => {\n        //     gameManager.layerManager.setWidth(window.innerWidth);\n        //     gameManager.layerManager.setHeight(window.innerHeight);\n        //     gameManager.layerManager.invalidate();\n        // }),\n        //     window.addEventListener(\"wheel\", throttle(scrollZoom));\n        // window.addEventListener(\"keyup\", onKeyUp);\n        // window.addEventListener(\"keydown\", onKeyDown);\n        // // prevent double clicking text selection\n        // window.addEventListener(\"selectstart\", e => {\n        //     e.preventDefault();\n        //     return false;\n        // });\n        this.ready.manager = true;\n    },\n    methods: {\n        mousedown(event: MouseEvent) {\n            (<any>this.$refs.tools).mousedown(event);\n        },\n        mouseup(event: MouseEvent) {\n            (<any>this.$refs.tools).mouseup(event);\n        },\n        mousemove(event: MouseEvent) {\n            (<any>this.$refs.tools).mousemove(event);\n        },\n        mouseleave(event: MouseEvent) {\n            (<any>this.$refs.tools).mouseleave(event);\n        },\n        contextmenu(event: MouseEvent) {\n            (<any>this.$refs.tools).contextmenu(event);\n        },\n        selectLayer(layer: string) {\n            layerManager.selectLayer(layer);\n        },\n        drop(event: DragEvent) {\n            if (event === null || event.dataTransfer === null) return;\n            if (event.dataTransfer.files.length > 0) {\n                (<any>this.$refs.confirm)\n                    .open(\"Uploading files should be done through the asset manager.\", \"Ok\", \"\")\n                    .then(() => {}, () => {});\n            } else if (event.dataTransfer.getData(\"text/plain\") === \"\") {\n                return;\n            } else {\n                layerManager.dropAsset(event);\n            }\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./game.vue?vue&type=template&id=034f5e8d&\"\nimport script from \"./game.vue?vue&type=script&lang=ts&\"\nexport * from \"./game.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./game.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"game.vue\"\nexport default component.exports","// import \"./class-component-hooks\";\n\nimport axios, { AxiosResponse } from \"axios\";\nimport Vue from \"vue\";\nimport Router from \"vue-router\";\n\nVue.use(Router);\n\nimport Login from \"@/auth/login.vue\";\nimport Logout from \"@/auth/logout\";\nimport Load from \"@/core/components/load.vue\";\nimport coreStore from \"@/core/store\";\nimport DashBoard from \"@/dashboard/main.vue\";\nimport Game from \"@/game/game.vue\";\n\nconst router = new Router({\n    mode: \"history\",\n    base: process.env.BASE_URL,\n    routes: [\n        {\n            path: \"/\",\n            redirect: \"/dashboard\",\n        },\n        {\n            path: \"/_load\",\n            name: \"load\",\n            component: Load,\n        },\n        {\n            path: \"/auth\",\n            component: { template: \"<router-view></router-view>\" },\n            children: [{ path: \"login\", component: Login }, { path: \"logout\", component: Logout }],\n        },\n        {\n            path: \"/dashboard\",\n            component: DashBoard,\n            meta: {\n                auth: true,\n            },\n        },\n        {\n            path: \"/game/:creator/:room\",\n            component: Game,\n            meta: {\n                auth: true,\n            },\n        },\n    ],\n});\n\nrouter.beforeEach((to, from, next) => {\n    if (!coreStore.initialized && to.path !== \"/_load\") {\n        next({ path: \"/_load\" });\n        axios\n            .get(\"/api/auth\")\n            .then((response: AxiosResponse) => {\n                if (response.data.auth) coreStore.setAuthenticated(true);\n                coreStore.setInitialized(true);\n                router.push(\"/dashboard\");\n            })\n            .catch(() => {\n                console.log(0);\n            });\n    } else if (to.matched.some(record => record.meta.auth) && !coreStore.authenticated) {\n        next({ path: \"/auth/login\", query: { redirect: to.path } });\n    } else {\n        next();\n    }\n});\n\nexport default router;\n","import Vue from \"vue\";\n\nimport App from \"@/App.vue\";\nimport router from \"@/router\";\nimport store from \"@/store\";\n\nVue.config.productionTip = false;\n\nconst app = new Vue({\n    router,\n    store,\n    render: h => h(App),\n}).$mount(\"#app\");\n\n(<any>window).app = app;\n\nexport default app;\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=style&index=0&id=7c994a10&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=style&index=0&id=7c994a10&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createtoken_modal.vue?vue&type=style&index=0&id=2ebb16e9&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createtoken_modal.vue?vue&type=style&index=0&id=2ebb16e9&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=style&index=0&id=4bb01ba9&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=style&index=0&id=4bb01ba9&scoped=true&lang=css&\""],"sourceRoot":""}