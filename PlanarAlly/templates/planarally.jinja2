<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>PlanarAlly</title>
    <link rel="stylesheet" type="text/css" href="/static/css/planarally.css">
    <link rel="stylesheet" type="text/css" href="/static/extern/css/directory.css">
    <link rel='stylesheet' href='/static/extern/css/jquery-ui-1.12.1.css'/>
    <script defer src='/static/extern/js/fontawesome_all.js'></script>
    <script defer src="/static/js/planarally.js"></script>
    <script src='/static/extern/js/jquery-3.3.1.min.js' integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="></script>
    <script src='/static/extern/js/jquery-ui-1.12.1.min.js' integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="></script>
    <link rel='stylesheet' href='/static/extern/css/spectrum.css'/>
    <script src='/static/extern/js/spectrum.js'></script>
    <script src='/static/extern/js/socket.io-2.0.4.js'></script>
</head>
<body>
<div id="main">
    <div id="radialmenu">
        <div class="rm-wrapper">
            <div class="rm-toggler">
                <ul class="rm-list {% if dm %}rm-list-dm{% endif %}">
                    {% if dm %}
                        <li class="rm-item" id="rm-locations"><a href="#"><i class="far fa-compass"></i></a>
                        </li>{% endif %}
                    <li class="rm-item" id="rm-settings"><a href="#"><i class="fas fa-cog"></i></a></li>
                </ul>
            </div>
            <span class="rm-topper">
                <i class="icon-share-alt"></i>
            </span>
        </div>
    </div>
    <div id="board">
        <div id="menu">
            <div style='width:100%;height:90%;overflow-y:auto;overflow-x:hidden;'>
                {% if dm %}
                    <button class="accordion">Assets</button>
                    <div class="accordion-panel">
                        <a style="position:absolute;right:0;margin:20px;" href="/assets/" target='blank'><i class="fas fa-external-link-alt"></i></a>
                        <div class="directory" id="menu-tokens"></div>
                    </div>
                    <button class="accordion">Notes</button>
                    <div class="accordion-panel">
                        <div class="accordion-subpanel" id="menu-notes">
                            <button id="createNote">Create new note</button>
                            <label>Notes</label>
                        </div>
                    </div>
                    <button class="accordion">DM Options</button>
                    <div class="accordion-panel">
                        <div class="accordion-subpanel">
                            <label for="useGridInput">Use grid: </label><input type="checkbox" checked="checked"
                                                                                id="useGridInput">
                            <label for="useFOWInput">Fill entire canvas with FOW: </label><input type="checkbox"
                                                                                id="useFOWInput">
                            <label for="fowOpacity">FOW opacity: </label><input type="text" value="0.3"
                                                                                id="fowOpacity">
                            <label for="fowLOS">Only show lights in LoS: </label><input type="checkbox"
                                                                                id="fowLOS">
                            <label for="unitSizeInput">Unit Size (in ft.): </label><input type="text" value="5"
                                                                                id="unitSizeInput">
                            <label for="gridSizeInput">Grid Size (in pixels): </label><input type="text" value="50"
                                                                                id="gridSizeInput">
                            <label for="invitation">Invitation Code: </label><input type="text"
                                                                                    value="{{ invitation_code }}"
                                                                                    readonly="readonly"
                                                                                    id="invitation">
                        </div>
                    </div>
                {% endif %}
                <button class="accordion">Client Options</button>
                <div class="accordion-panel">
                    <div class="accordion-subpanel">
                        <div><label for="gridColour">Grid Colour: </label><input type="text" id="gridColour"></div>
                        <div><label for="fowColour">FOW Colour: </label><input type="text" id="fowColour"></div>
                    </div>
                </div>
                {% if dm %}
                    <button class="accordion">SelectionInfo</button>
                    <div class="accordion-panel">
                        <div class="accordion-subpanel">
                            <label for="selectionInfoX">X: </label><input type="text" id="selectionInfoX">
                            <label for="selectionInfoY">Y: </label><input type="text" id="selectionInfoY">
                            <label for="selectionInfoW">W: </label><input type="text" id="selectionInfoW">
                            <label for="selectionInfoH">H: </label><input type="text" id="selectionInfoH">
                        </div>
                    </div>
                {% endif %}
            </div>
            <a href="/rooms" class="accordion" style='text-decoration:none;display:inline-block;position:absolute;bottom:0;'>Exit</a>
        </div>
        {% if dm %}
            <div id="locations-menu">
                <div></div>
            </div>
        {% endif %}
        <div id="layers"
            @mousedown="mousedown"
            @mouseup="mouseup"
            @mousemove="mousemove"
            @contextmenu.prevent.stop="contextmenu"
        ></div>
        <div id="layerselect">
            <ul></ul>
        </div>
    </div>
    <tool-bar ref="tools"></tool-bar>
    <selection-info ref='selectionInfo'></selection-info>
    <div id="zoomer"></div>
</div>
<div id="initiativedialog" class="dialog" title="Initiative"></div>
</body>
</html>