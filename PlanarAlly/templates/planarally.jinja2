<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>PlanarAlly</title>
    <link rel="stylesheet" type="text/css" href="/static/css/planarally.css">
    <link rel="stylesheet" type="text/css" href="/static/extern/css/directory.css">
    <link rel='stylesheet' href='/static/extern/css/jquery-ui-1.12.1.css'/>
    <script defer src='/static/extern/js/fontawesome_all.js'></script>
    <script defer src="/static/js/planarally.js"></script>
    <script src='/static/extern/js/jquery-3.3.1.min.js' integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="></script>
    <script src='/static/extern/js/jquery-ui-1.12.1.min.js' integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="></script>
    <link rel='stylesheet' href='/static/extern/css/spectrum.css'/>
    <script src='/static/extern/js/spectrum.js'></script>
    <script src='/static/extern/js/socket.io-2.0.4.js'></script>
</head>
<body>
<div id="main">
    <div id="radialmenu">
        <div class="rm-wrapper">
            <div class="rm-toggler">
                <ul class="rm-list {% if dm %}rm-list-dm{% endif %}">
                    {% if dm %}
                        <li class="rm-item" id="rm-locations"><a href="#"><i class="far fa-compass"></i></a>
                        </li>{% endif %}
                    <li class="rm-item" id="rm-settings"><a href="#"><i class="fas fa-cog"></i></a></li>
                </ul>
            </div>
            <span class="rm-topper">
                <i class="icon-share-alt"></i>
            </span>
        </div>
    </div>
    <div id="board">
        <div id="menu">
            <div style='width:100%;height:90%;overflow-y:auto;overflow-x:hidden;'>
                {% if dm %}
                    <button class="accordion">Assets</button>
                    <div class="accordion-panel">
                        <a style="position:absolute;right:0;margin:20px;" href="/assets/" target='blank'><i class="fas fa-external-link-alt"></i></a>
                        <div class="directory" id="menu-tokens"></div>
                    </div>
                    <button class="accordion">Notes</button>
                    <div class="accordion-panel">
                        <div class="accordion-subpanel" id="menu-notes">
                            <button id="createNote">Create new note</button>
                            <label>Notes</label>
                        </div>
                    </div>
                    <button class="accordion">DM Options</button>
                    <div class="accordion-panel">
                        <div class="accordion-subpanel">
                            <label for="useGridInput">Use grid: </label><input type="checkbox" checked="checked"
                                                                                id="useGridInput">
                            <label for="useFOWInput">Fill entire canvas with FOW: </label><input type="checkbox"
                                                                                id="useFOWInput">
                            <label for="fowOpacity">FOW opacity: </label><input type="text" value="0.3"
                                                                                id="fowOpacity">
                            <label for="fowLOS">Only show lights in LoS: </label><input type="checkbox"
                                                                                id="fowLOS">
                            <label for="unitSizeInput">Unit Size (in ft.): </label><input type="text" value="5"
                                                                                id="unitSizeInput">
                            <label for="gridSizeInput">Grid Size (in pixels): </label><input type="text" value="50"
                                                                                id="gridSizeInput">
                            <label for="invitation">Invitation Code: </label><input type="text"
                                                                                    value="{{ invitation_code }}"
                                                                                    readonly="readonly"
                                                                                    id="invitation">
                        </div>
                    </div>
                {% endif %}
                <button class="accordion">Client Options</button>
                <div class="accordion-panel">
                    <div class="accordion-subpanel">
                        <div><label for="gridColour">Grid Colour: </label><input type="text" id="gridColour"></div>
                        <div><label for="fowColour">FOW Colour: </label><input type="text" id="fowColour"></div>
                    </div>
                </div>
                {% if dm %}
                    <button class="accordion">SelectionInfo</button>
                    <div class="accordion-panel">
                        <div class="accordion-subpanel">
                            <label for="selectionInfoX">X: </label><input type="text" id="selectionInfoX">
                            <label for="selectionInfoY">Y: </label><input type="text" id="selectionInfoY">
                            <label for="selectionInfoW">W: </label><input type="text" id="selectionInfoW">
                            <label for="selectionInfoH">H: </label><input type="text" id="selectionInfoH">
                        </div>
                    </div>
                {% endif %}
            </div>
            <a href="/rooms" class="accordion" style='text-decoration:none;display:inline-block;position:absolute;bottom:0;'>Exit</a>
        </div>
        {% if dm %}
            <div id="locations-menu">
                <div></div>
            </div>
        {% endif %}
        <div id="layers" @mousedown="mousedown" @mouseup="mouseup" @mousemove="mousemove"></div>
        <div id="layerselect">
            <ul></ul>
        </div>
    </div>
    <div id="toolselect">
        <ul>
            <li
                v-for="tool in tools"
                :key="tool"
                :class="{'tool-selected': currentTool === tool}"
                @click="currentTool = tool"
            ><a href='#'>[[ tool ]]</a></li>
        </ul>
        <keep-alive>
            <component :is="currentTabComponent"></component>
        </keep-alive>
    </div>
    <div id="selection-menu">
        <i id='selection-edit-button' class="fas fa-edit"></i>
        <div id="selection-name">Aboleth</div>
        <div id="selection-trackers">
            <div id="selection-tracker-health-name">Health</div>
            <div id="selection-tracker-health-value" class="selection-tracker-value">50</div>
        </div>
        <div id="selection-auras">
            <div id="selection-aura-darkvision-name">Darkvision</div>
            <div id="selection-aura-darkvision-value" class="selection-aura-value">60</div>
        </div>
    </div>
    <div id="tooldetail"></div>
    <div id="zoomer"></div>
    <div id='contextMenu'></div>
</div>
<div id="shapeselectiondialog" class="dialog" title="Edit asset">
    <div>
        <label for="shapeselectiondialog-name">Name</label>
        <input type="hidden" id="shapeselectiondialog-uuid">
        <input type="text" id="shapeselectiondialog-name" style="grid-column: numerator / end">
        <label for="shapeselectiondialog-istoken">Is a token</label>
        <input type="checkbox" id="shapeselectiondialog-istoken" style="grid-column-start: remove;width:15px;height:15px;">
        <label for="shapeselectiondialog-lightblocker">Blocks vision/light</label>
        <input type="checkbox" id="shapeselectiondialog-lightblocker" style="grid-column-start: remove;width:15px;height:15px;">
        <label for="shapeselectiondialog-moveblocker">Blocks movement</label>
        <input type="checkbox" id="shapeselectiondialog-moveblocker" style="grid-column-start: remove;width:15px;height:15px;">
        <div class="spanrow shapeselectiondialog-header" id="shapeselectiondialog-owners">Access</div>
        <div class="spanrow shapeselectiondialog-header" id="shapeselectiondialog-trackers">Trackers</div>
        <div class="spanrow shapeselectiondialog-header" id="shapeselectiondialog-auras">Auras</div>
        <div class="spanrow shapeselectiondialog-header" id="shapeselectiondialog-annotation">Annotation</div>
        <textarea id="shapeselectiondialog-annotation-textarea" class="spanrow"></textarea>
    </div>
</div>
<div id="initiativedialog" class="dialog" title="Initiative"></div>
<div id="createtokendialog" class="dialog" title="Create basic token">
    <label for="createtokendialog-text">Text</label>
    <input type="text" id="createtokendialog-name">
    <label for="createtokendialog-fill">Fill</label>
    <input type="text" id="createtokendialog-fill" title="Fill colour">
    <label for="createtokendialog-border">Border</label>
    <input type="text" id="createtokendialog-border" title="Border colour">
</div>
</body>
</html>